{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useRef}from\"react\";import View from\"react-native-web/dist/exports/View\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";var DateInput=function DateInput(_ref){var _dateInput$initialVal,_dateInput$initialVal2,_dateInput$initialVal3;var dateInput=_ref.dateInput,dispatchRedirectReset=_ref.dispatchRedirectReset,theme=_ref.theme;var _useState=useState(((_dateInput$initialVal=dateInput.initialValue)==null?void 0:_dateInput$initialVal.getDate())||\"\"),_useState2=_slicedToArray(_useState,2),day=_useState2[0],setDay=_useState2[1];var _useState3=useState(((_dateInput$initialVal2=dateInput.initialValue)==null?void 0:_dateInput$initialVal2.getMonth())+1||\"\"),_useState4=_slicedToArray(_useState3,2),month=_useState4[0],setMonth=_useState4[1];var _useState5=useState(((_dateInput$initialVal3=dateInput.initialValue)==null?void 0:_dateInput$initialVal3.getYear())||\"\"),_useState6=_slicedToArray(_useState5,2),year=_useState6[0],setYear=_useState6[1];var dayInputRef=useRef();var monthInputRef=useRef();var yearInputRef=useRef();if(day.length===2){monthInputRef.current.focus();}if(month.length===2){if(day.length<2){dayInputRef.current.focus();}else{yearInputRef.current.focus();}}if(year.length===4){if(day.length<2){dayInputRef.current.focus();}else if(month.length<2){month.current.focus();}else{dateInput.onChangeText(new Date(year,month-1,day));dispatchRedirectReset();}}return React.createElement(View,{style:styles.root},React.createElement(TextInput,{autoFocus:true,ref:dayInputRef,value:day,style:[theme.TextInput,styles.input,{width:40}],placeholder:\"DD\",placeholderTextColor:\"grey\",onChangeText:function onChangeText(text){return setDay(text);}}),React.createElement(Text,null,\"/\"),React.createElement(TextInput,{value:month,ref:monthInputRef,placeholder:\"MM\",placeholderTextColor:\"grey\",onChangeText:function onChangeText(text){return setMonth(text);},style:[theme.TextInput,styles.input,{width:40}]}),React.createElement(Text,null,\"/\"),React.createElement(TextInput,{value:year,ref:yearInputRef,placeholder:\"YYYY\",placeholderTextColor:\"grey\",onChangeText:function onChangeText(text){return setYear(text);},style:[theme.TextInput,styles.input,{width:80}]}));};export default DateInput;var styles=StyleSheet.create({root:{backgroundColor:\"white\",borderRadius:10,paddingHorizontal:12,paddingVertical:8,elevation:1,shadowColor:\"black\",shadowOffset:{width:0,height:0},shadowOpacity:0.5,shadowRadius:20},input:{height:40,textAlign:\"center\",marginHorizontal:8}});","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/client/src/components/CustomOverlay/DateInput.js"],"names":["React","useState","useRef","DateInput","dateInput","dispatchRedirectReset","theme","initialValue","getDate","day","setDay","getMonth","month","setMonth","getYear","year","setYear","dayInputRef","monthInputRef","yearInputRef","length","current","focus","onChangeText","Date","styles","root","TextInput","input","width","text","StyleSheet","create","backgroundColor","borderRadius","paddingHorizontal","paddingVertical","elevation","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","textAlign","marginHorizontal"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { View, TextInput, Text, StyleSheet } from \"react-native\";\n\nconst DateInput = ({ dateInput, dispatchRedirectReset, theme }) => {\n  const [day, setDay] = useState(dateInput.initialValue?.getDate() || \"\");\n  const [month, setMonth] = useState(\n    dateInput.initialValue?.getMonth() + 1 || \"\"\n  );\n  const [year, setYear] = useState(dateInput.initialValue?.getYear() || \"\");\n\n  const dayInputRef = useRef();\n  const monthInputRef = useRef();\n  const yearInputRef = useRef();\n\n  if (day.length === 2) {\n    monthInputRef.current.focus();\n  }\n  if (month.length === 2) {\n    if (day.length < 2) {\n      dayInputRef.current.focus();\n    } else {\n      yearInputRef.current.focus();\n    }\n  }\n  if (year.length === 4) {\n    if (day.length < 2) {\n      dayInputRef.current.focus();\n    } else if (month.length < 2) {\n      month.current.focus();\n    } else {\n      dateInput.onChangeText(new Date(year, month - 1, day));\n      dispatchRedirectReset();\n    }\n  }\n\n  return (\n    <View style={styles.root}>\n      <TextInput\n        autoFocus={true}\n        ref={dayInputRef}\n        value={day}\n        style={[theme.TextInput, styles.input, { width: 40 }]}\n        placeholder=\"DD\"\n        placeholderTextColor=\"grey\"\n        onChangeText={(text) => setDay(text)}\n      />\n      <Text>/</Text>\n      <TextInput\n        value={month}\n        ref={monthInputRef}\n        placeholder=\"MM\"\n        placeholderTextColor=\"grey\"\n        onChangeText={(text) => setMonth(text)}\n        style={[theme.TextInput, styles.input, { width: 40 }]}\n      />\n      <Text>/</Text>\n      <TextInput\n        value={year}\n        ref={yearInputRef}\n        placeholder=\"YYYY\"\n        placeholderTextColor=\"grey\"\n        onChangeText={(text) => setYear(text)}\n        style={[theme.TextInput, styles.input, { width: 80 }]}\n      />\n    </View>\n  );\n};\n\nexport default DateInput;\n\nconst styles = StyleSheet.create({\n  root: {\n    backgroundColor: \"white\",\n    borderRadius: 10,\n    paddingHorizontal: 12,\n    paddingVertical: 8,\n    elevation: 1,\n    shadowColor: \"black\",\n    shadowOffset: { width: 0, height: 0 },\n    shadowOpacity: 0.5,\n    shadowRadius: 20,\n  },\n  input: {\n    height: 40,\n    textAlign: \"center\",\n    marginHorizontal: 8,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}