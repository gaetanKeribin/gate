{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import FlatList from\"react-native-web/dist/exports/FlatList\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{Avatar,Icon}from\"react-native-elements\";import theme from\"../Theme.json\";import{fetchUsers as _fetchUsers}from\"../actions/usersActions\";import _ from\"lodash\";var Item=function Item(_ref){var _item$avatar;var item=_ref.item,navigation=_ref.navigation;return React.createElement(TouchableOpacity,{onPress:function onPress(){navigation.navigate(\"Read\",{user:item});}},React.createElement(View,{style:{paddingTop:8,paddingHorizontal:20,marginVertical:4,marginHorizontal:0,borderBottomWidth:1,borderBottomColor:theme.colors.grey4,paddingVertical:12,flexDirection:\"row\"}},React.createElement(View,{style:{alignContent:\"center\",justifyContent:\"center\",alignItems:\"center\",marginRight:12}},item.avatar?React.createElement(Avatar,{source:{uri:\"http://10.0.2.2:8005/api/files/avatar/\"+((_item$avatar=item.avatar)==null?void 0:_item$avatar.filename)},size:\"medium\"}):React.createElement(Avatar,{size:\"medium\",title:item.firstname[0].concat(item.lastname[0]).toUpperCase()})),React.createElement(View,null,React.createElement(Text,{style:{textAlignVertical:\"bottom\",fontWeight:\"bold\",fontSize:16}},_.capitalize(item.firstname),\" \",_.capitalize(item.lastname)),React.createElement(View,{style:{flexDirection:\"row\",flex:1}},React.createElement(Icon,{name:\"account-card-details\",size:20}),React.createElement(Text,{style:{textAlignVertical:\"bottom\",marginStart:8}},item.title,\" chez \",item.organisation)),React.createElement(View,{style:{flexDirection:\"row\",flex:1}},React.createElement(Icon,{name:\"school\",size:20}),React.createElement(Text,{style:{textAlignVertical:\"bottom\",marginStart:8}},\"SIEE promotion \",item.promo)))));};var PeopleScreen=function PeopleScreen(_ref2){var users=_ref2.users,fetchUsers=_ref2.fetchUsers,navigation=_ref2.navigation;useEffect(function(){function fetchData(){fetchUsers();}fetchData();},[]);return React.createElement(View,{style:styles.container},users.isLoaded?React.createElement(FlatList,{style:styles.feed,data:users.users,renderItem:function renderItem(_ref3){var item=_ref3.item;return React.createElement(Item,{item:item,navigation:navigation});},keyExtractor:function keyExtractor(item){return item._id;}}):React.createElement(View,{style:{flex:1,alignContent:\"center\",justifyContent:\"center\"}},React.createElement(ActivityIndicator,{size:\"large\"})));};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,users:state.users};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchUsers:function fetchUsers(){return dispatch(_fetchUsers());}};};export default connect(mapStateToProps,mapDispatchToProps)(PeopleScreen);var styles=StyleSheet.create({container:{flex:1},directory:{flex:1},item:{marginVertical:10,padding:10},feed:{borderRadius:0,shadowOffset:{width:10,height:10},shadowColor:\"black\",shadowOpacity:0.3,elevation:2,backgroundColor:\"white\"}});","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/frontend/src/components/PeopleListScreen.js"],"names":["React","useState","useEffect","connect","Avatar","Icon","theme","fetchUsers","_","Item","item","navigation","navigate","user","paddingTop","paddingHorizontal","marginVertical","marginHorizontal","borderBottomWidth","borderBottomColor","colors","grey4","paddingVertical","flexDirection","alignContent","justifyContent","alignItems","marginRight","avatar","uri","filename","firstname","concat","lastname","toUpperCase","textAlignVertical","fontWeight","fontSize","capitalize","flex","marginStart","title","organisation","promo","PeopleScreen","users","fetchData","styles","container","isLoaded","feed","_id","mapStateToProps","state","auth","mapDispatchToProps","dispatch","StyleSheet","create","directory","padding","borderRadius","shadowOffset","width","height","shadowColor","shadowOpacity","elevation","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  View,\n  StyleSheet,\n  Text,\n  ActivityIndicator,\n  FlatList,\n  TouchableOpacity\n} from \"react-native\";\nimport { Avatar, Icon } from \"react-native-elements\";\nimport theme from \"../Theme.json\";\nimport { fetchUsers } from \"../actions/usersActions\";\nimport _ from \"lodash\";\n\nconst Item = ({ item, navigation }) => {\n  return (\n    <TouchableOpacity\n      onPress={() => {\n        navigation.navigate(\"Read\", {\n          user: item\n        });\n      }}\n    >\n      <View\n        style={{\n          paddingTop: 8,\n          paddingHorizontal: 20,\n          marginVertical: 4,\n          marginHorizontal: 0,\n          borderBottomWidth: 1,\n          borderBottomColor: theme.colors.grey4,\n          paddingVertical: 12,\n          flexDirection: \"row\"\n        }}\n      >\n        <View\n          style={{\n            alignContent: \"center\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            marginRight: 12\n          }}\n        >\n          {item.avatar ? (\n            <Avatar\n              source={{\n                uri: `http://10.0.2.2:8005/api/files/avatar/${item.avatar?.filename}`\n              }}\n              size=\"medium\"\n            />\n          ) : (\n            <Avatar\n              size=\"medium\"\n              title={item.firstname[0].concat(item.lastname[0]).toUpperCase()}\n            />\n          )}\n        </View>\n        <View>\n          <Text\n            style={{\n              textAlignVertical: \"bottom\",\n              fontWeight: \"bold\",\n              fontSize: 16\n            }}\n          >\n            {_.capitalize(item.firstname)} {_.capitalize(item.lastname)}\n          </Text>\n          <View style={{ flexDirection: \"row\", flex: 1 }}>\n            <Icon name=\"account-card-details\" size={20} />\n            <Text style={{ textAlignVertical: \"bottom\", marginStart: 8 }}>\n              {item.title} chez {item.organisation}\n            </Text>\n          </View>\n          <View style={{ flexDirection: \"row\", flex: 1 }}>\n            <Icon name=\"school\" size={20} />\n            <Text style={{ textAlignVertical: \"bottom\", marginStart: 8 }}>\n              SIEE promotion {item.promo}\n            </Text>\n          </View>\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst PeopleScreen = ({ users, fetchUsers, navigation }) => {\n  useEffect(() => {\n    function fetchData() {\n      fetchUsers();\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <View style={styles.container}>\n      {users.isLoaded ? (\n        <FlatList\n          style={styles.feed}\n          data={users.users}\n          renderItem={({ item }) => (\n            <Item item={item} navigation={navigation} />\n          )}\n          keyExtractor={item => item._id}\n        />\n      ) : (\n        <View\n          style={{ flex: 1, alignContent: \"center\", justifyContent: \"center\" }}\n        >\n          <ActivityIndicator size=\"large\" />\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  users: state.users\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchUsers: () => dispatch(fetchUsers())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PeopleScreen);\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  directory: {\n    flex: 1\n  },\n  item: {\n    marginVertical: 10,\n    padding: 10\n  },\n  feed: {\n    borderRadius: 0,\n    shadowOffset: { width: 10, height: 10 },\n    shadowColor: \"black\",\n    shadowOpacity: 0.3,\n    elevation: 2,\n    backgroundColor: \"white\"\n  }\n});\n"]},"metadata":{},"sourceType":"module"}