{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useContext}from\"react\";import{connect}from\"react-redux\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Image from\"react-native-web/dist/exports/Image\";import{Input,Button,Icon,ThemeContext}from\"react-native-elements\";import{logIn as _logIn}from\"../actions/authActions\";import{LinearGradient}from\"expo-linear-gradient\";var logInScreen=function logInScreen(_ref){var switchPanel=_ref.switchPanel,auth=_ref.auth,logIn=_ref.logIn;var _useContext=useContext(ThemeContext),theme=_useContext.theme;var _useState=useState(\"johndoe@gmail.com\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"12345678\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var handleLogIn=function handleLogIn(){return _regeneratorRuntime.async(function handleLogIn$(_context){while(1){switch(_context.prev=_context.next){case 0:if(email){_context.next=2;break;}return _context.abrupt(\"return\",setErrorMessage(\"Mél invalide.\"));case 2:if(password){_context.next=4;break;}return _context.abrupt(\"return\",setErrorMessage(\"Mot de passe invalide.\"));case 4:logIn({email:email,password:password});case 5:case\"end\":return _context.stop();}}},null,null,null,Promise);};return React.createElement(View,{style:styles.container},React.createElement(LinearGradient,{colors:[theme.colors.primary,theme.colors.secondary],start:[0.25,1],end:[0,0],style:{flexDirection:\"row\",marginBottom:20,height:150,width:150,borderRadius:100}},React.createElement(Image,{source:require(\"../assets/logo.png\"),style:{height:150,width:150,borderRadius:100}})),React.createElement(Input,{placeholder:\"Email\",leftIcon:React.createElement(Icon,{name:\"email\",type:\"material-community\"}),value:email,onChangeText:function onChangeText(value){return setEmail(value);},label:\"Email\"}),React.createElement(Input,{placeholder:\"Mot de passe\",leftIcon:React.createElement(Icon,{name:\"lock\"}),label:\"Mot de passe\",secureTextEntry:true,value:password,containerStyle:{marginBottom:30,marginTop:8},onChangeText:function onChangeText(value){return setPassword(value);},errorStyle:{color:\"red\"},errorMessage:errorMessage}),React.createElement(Button,{title:\"Se connecter\",onPress:handleLogIn,loading:auth.isLoggingIn,containerStyle:{marginBottom:20,marginTop:8}}),React.createElement(Button,{title:\"Nouveau? Je m'enregistre.\",type:\"clear\",onPress:switchPanel,containerStyle:{marginBottom:30}}));};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{logIn:function logIn(credentials){return dispatch(_logIn(credentials));}};};export default connect(mapStateToProps,mapDispatchToProps)(logInScreen);var styles=StyleSheet.create({container:{flex:1,justifyContent:\"center\",alignItems:\"center\",paddingHorizontal:12},textInput:{height:40,width:\"90%\",borderColor:\"gray\",borderWidth:1,marginTop:8}});","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/frontend/src/components/LogInScreen.js"],"names":["React","useState","useContext","connect","Input","Button","Icon","ThemeContext","logIn","LinearGradient","logInScreen","switchPanel","auth","theme","email","setEmail","password","setPassword","errorMessage","setErrorMessage","handleLogIn","styles","container","colors","primary","secondary","flexDirection","marginBottom","height","width","borderRadius","require","value","marginTop","color","isLoggingIn","mapStateToProps","state","mapDispatchToProps","dispatch","credentials","StyleSheet","create","flex","justifyContent","alignItems","paddingHorizontal","textInput","borderColor","borderWidth"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { connect } from \"react-redux\";\nimport { View, Text, StyleSheet, Image } from \"react-native\";\nimport { Input, Button, Icon, ThemeContext } from \"react-native-elements\";\nimport { logIn } from \"../actions/authActions\";\nimport { LinearGradient } from \"expo-linear-gradient\";\n\nconst logInScreen = ({ switchPanel, auth, logIn }) => {\n  const { theme } = useContext(ThemeContext);\n  const [email, setEmail] = useState(\"johndoe@gmail.com\");\n  const [password, setPassword] = useState(\"12345678\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleLogIn = async () => {\n    {\n      if (!email) {\n        return setErrorMessage(\"Mél invalide.\");\n      }\n      if (!password) {\n        return setErrorMessage(\"Mot de passe invalide.\");\n      }\n    }\n\n    logIn({ email, password });\n  };\n\n  return (\n    <View style={styles.container}>\n      <LinearGradient\n        colors={[theme.colors.primary, theme.colors.secondary]}\n        start={[0.25, 1]}\n        end={[0, 0]}\n        style={{\n          flexDirection: \"row\",\n          marginBottom: 20,\n          height: 150,\n          width: 150,\n          borderRadius: 100\n        }}\n      >\n        <Image\n          source={require(\"../assets/logo.png\")}\n          style={{\n            height: 150,\n            width: 150,\n            borderRadius: 100\n          }}\n        />\n      </LinearGradient>\n      <Input\n        placeholder=\"Email\"\n        leftIcon={<Icon name=\"email\" type=\"material-community\" />}\n        value={email}\n        onChangeText={value => setEmail(value)}\n        label=\"Email\"\n      />\n      <Input\n        placeholder=\"Mot de passe\"\n        leftIcon={<Icon name=\"lock\" />}\n        label=\"Mot de passe\"\n        secureTextEntry\n        value={password}\n        containerStyle={{ marginBottom: 30, marginTop: 8 }}\n        onChangeText={value => setPassword(value)}\n        errorStyle={{ color: \"red\" }}\n        errorMessage={errorMessage}\n      />\n      <Button\n        title=\"Se connecter\"\n        onPress={handleLogIn}\n        loading={auth.isLoggingIn}\n        containerStyle={{ marginBottom: 20, marginTop: 8 }}\n      />\n      <Button\n        title=\"Nouveau? Je m'enregistre.\"\n        type=\"clear\"\n        onPress={switchPanel}\n        containerStyle={{ marginBottom: 30 }}\n      />\n    </View>\n  );\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    logIn: credentials => dispatch(logIn(credentials))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(logInScreen);\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingHorizontal: 12\n  },\n  textInput: {\n    height: 40,\n    width: \"90%\",\n    borderColor: \"gray\",\n    borderWidth: 1,\n    marginTop: 8\n  }\n});\n"]},"metadata":{},"sourceType":"module"}