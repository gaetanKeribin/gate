{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useContext,useState}from\"react\";import View from\"react-native-web/dist/exports/View\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{ThemeContext,Icon}from\"react-native-elements\";import{TouchableOpacity}from\"react-native-gesture-handler\";import{useDispatch}from\"react-redux\";import{showOverlay}from\"../actions/overlayAction\";import\"moment/locale/fr\";import moment from\"moment\";var CustomInput=function CustomInput(_ref){var value=_ref.value,placeholder=_ref.placeholder,onChangeText=_ref.onChangeText,searchBar=_ref.searchBar,select=_ref.select,clear=_ref.clear,leftIcon=_ref.leftIcon,label=_ref.label,accept=_ref.accept,date=_ref.date,_ref$secureTextEntry=_ref.secureTextEntry,secureTextEntry=_ref$secureTextEntry===void 0?false:_ref$secureTextEntry;var _useContext=useContext(ThemeContext),theme=_useContext.theme;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];if(date&&value)value=moment(value).format(\"Do MMMM YYYY\");var handleChangeText=function handleChangeText(text){return _regeneratorRuntime.async(function handleChangeText$(_context){while(1){switch(_context.prev=_context.next){case 0:if(accept&&!(accept==null?void 0:accept.includes(value))){setError(true);}else{setError(false);}onChangeText(text);case 2:case\"end\":return _context.stop();}}},null,null,null,Promise);};return React.createElement(View,{style:[styles.root]},React.createElement(View,{style:styles.content},React.createElement(View,{style:styles.labelContainer},React.createElement(Text,{style:styles.label},label)),React.createElement(View,{style:styles.inputContainer},leftIcon&&React.createElement(Icon,{name:leftIcon,containerStyle:styles.iconContainer}),searchBar||select||date?React.createElement(TouchableOpacity,{containerStyle:[styles.TextInput,{height:60}],style:[styles.TextInput,{alignItems:\"flex-start\",justifyContent:\"center\"}],onPress:function onPress(){if(date)return dispatch(showOverlay({dateInput:{onChangeText:onChangeText}}));dispatch(showOverlay({searchBar:{initialValue:value,searchFor:searchBar,selectFrom:select,onPressSuggestion:onChangeText,placeholder:placeholder}}));}},React.createElement(Text,{style:{color:value?\"black\":\"grey\"}},value||placeholder)):React.createElement(TextInput,{style:styles.TextInput,value:value,placeholder:placeholder,placeholderTextColor:\"grey\",onChangeText:function onChangeText(text){handleChangeText(text);},secureTextEntry:secureTextEntry}),select&&React.createElement(Icon,{name:\"chevron-down\",containerStyle:styles.iconContainer,size:25,onPress:function onPress(){return dispatch(showOverlay({searchBar:{initialValue:value,searchFor:searchBar,selectFrom:select,onPressSuggestion:onChangeText,placeholder:placeholder}}));}}),(searchBar||clear)&&React.createElement(Icon,{name:\"close\",containerStyle:styles.iconContainer,size:20,onPress:function onPress(){return onChangeText(\"\");}}))));};export default CustomInput;var styles=StyleSheet.create({root:{marginBottom:12,flexDirection:\"row\",alignSelf:\"stretch\"},iconContainer:{marginHorizontal:4},content:{flex:1,width:300},labelContainer:{marginBottom:4},sides:{flex:1,backgroundColor:\"blue\"},label:{color:\"darkgrey\"},inputContainer:{flexDirection:\"row\",alignItems:\"center\",justifyContent:\"center\",borderRadius:4,borderWidth:1,borderColor:\"grey\",height:40,backgroundColor:\"rgba(250,250,250,1)\"},TextInput:{paddingHorizontal:4,flex:1}});","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/client/src/components/CustomInput.js"],"names":["React","useContext","useState","ThemeContext","Icon","TouchableOpacity","useDispatch","showOverlay","moment","CustomInput","value","placeholder","onChangeText","searchBar","select","clear","leftIcon","label","accept","date","secureTextEntry","theme","dispatch","error","setError","format","handleChangeText","text","includes","styles","root","content","labelContainer","inputContainer","iconContainer","TextInput","height","alignItems","justifyContent","dateInput","initialValue","searchFor","selectFrom","onPressSuggestion","color","StyleSheet","create","marginBottom","flexDirection","alignSelf","marginHorizontal","flex","width","sides","backgroundColor","borderRadius","borderWidth","borderColor","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { View, TextInput, Text, StyleSheet } from \"react-native\";\nimport { ThemeContext, Icon } from \"react-native-elements\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { useDispatch } from \"react-redux\";\nimport { showOverlay } from \"../actions/overlayAction\";\n\nimport \"moment/locale/fr\";\nimport moment from \"moment\";\n\nconst CustomInput = ({\n  value,\n  placeholder,\n  onChangeText,\n  searchBar,\n  select,\n  clear,\n  leftIcon,\n  label,\n  accept,\n  date,\n  secureTextEntry = false,\n}) => {\n  const { theme } = useContext(ThemeContext);\n  const dispatch = useDispatch();\n  const [error, setError] = useState(false);\n\n  if (date && value) value = moment(value).format(\"Do MMMM YYYY\");\n\n  const handleChangeText = async (text) => {\n    if (accept && !accept?.includes(value)) {\n      setError(true);\n    } else {\n      setError(false);\n    }\n\n    onChangeText(text);\n  };\n\n  return (\n    <View style={[styles.root]}>\n      <View style={styles.content}>\n        <View style={styles.labelContainer}>\n          <Text style={styles.label}>{label}</Text>\n        </View>\n        <View style={styles.inputContainer}>\n          {leftIcon && (\n            <Icon name={leftIcon} containerStyle={styles.iconContainer} />\n          )}\n          {searchBar || select || date ? (\n            <TouchableOpacity\n              containerStyle={[styles.TextInput, { height: 60 }]}\n              style={[\n                styles.TextInput,\n                { alignItems: \"flex-start\", justifyContent: \"center\" },\n              ]}\n              onPress={() => {\n                if (date)\n                  return dispatch(\n                    showOverlay({\n                      dateInput: { onChangeText },\n                    })\n                  );\n                dispatch(\n                  showOverlay({\n                    searchBar: {\n                      initialValue: value,\n                      searchFor: searchBar,\n                      selectFrom: select,\n                      onPressSuggestion: onChangeText,\n                      placeholder,\n                    },\n                  })\n                );\n              }}\n            >\n              <Text style={{ color: value ? \"black\" : \"grey\" }}>\n                {value || placeholder}\n              </Text>\n            </TouchableOpacity>\n          ) : (\n            <TextInput\n              style={styles.TextInput}\n              value={value}\n              placeholder={placeholder}\n              placeholderTextColor=\"grey\"\n              onChangeText={(text) => {\n                handleChangeText(text);\n              }}\n              secureTextEntry={secureTextEntry}\n            />\n          )}\n          {select && (\n            <Icon\n              name=\"chevron-down\"\n              containerStyle={styles.iconContainer}\n              size={25}\n              onPress={() =>\n                dispatch(\n                  showOverlay({\n                    searchBar: {\n                      initialValue: value,\n                      searchFor: searchBar,\n                      selectFrom: select,\n                      onPressSuggestion: onChangeText,\n                      placeholder,\n                    },\n                  })\n                )\n              }\n            />\n          )}\n          {(searchBar || clear) && (\n            <Icon\n              name=\"close\"\n              containerStyle={styles.iconContainer}\n              size={20}\n              onPress={() => onChangeText(\"\")}\n            />\n          )}\n        </View>\n      </View>\n    </View>\n  );\n};\n\nexport default CustomInput;\n\nconst styles = StyleSheet.create({\n  root: { marginBottom: 12, flexDirection: \"row\", alignSelf: \"stretch\" },\n  iconContainer: { marginHorizontal: 4 },\n  content: { flex: 1, width: 300 },\n  labelContainer: { marginBottom: 4 },\n  sides: { flex: 1, backgroundColor: \"blue\" },\n  label: { color: \"darkgrey\" },\n  inputContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: \"grey\",\n    height: 40,\n    backgroundColor: \"rgba(250,250,250,1)\",\n  },\n  TextInput: { paddingHorizontal: 4, flex: 1 },\n});\n"]},"metadata":{},"sourceType":"module"}