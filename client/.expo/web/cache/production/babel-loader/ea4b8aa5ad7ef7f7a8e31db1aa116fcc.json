{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import FlatList from\"react-native-web/dist/exports/FlatList\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{Avatar,Icon}from\"react-native-elements\";import theme from\"../../Theme.json\";import{fetchUsers}from\"../../actions/usersActions\";import _ from\"lodash\";var Item=function Item(_ref){var item=_ref.item,navigation=_ref.navigation;if(!item)return null;return React.createElement(TouchableOpacity,{onPress:function onPress(){navigation.navigate(\"Read\",{id:item._id,item:item});}},React.createElement(View,{style:{paddingTop:8,paddingHorizontal:20,marginVertical:4,marginHorizontal:0,borderBottomWidth:1,borderBottomColor:theme.colors.grey4,paddingVertical:12,flexDirection:\"row\"}},React.createElement(View,{style:{alignContent:\"center\",justifyContent:\"center\",alignItems:\"center\",marginRight:12}},item.avatar?React.createElement(Avatar,{source:{uri:\"https://siee-gate.herokuapp.com/api/files/avatars/\"+item.avatar},size:\"medium\"}):React.createElement(Avatar,{size:\"medium\",title:item.firstname[0].concat(item.lastname[0]).toUpperCase()})),React.createElement(View,null,React.createElement(Text,{style:{textAlignVertical:\"bottom\",fontWeight:\"bold\",fontSize:16}},_.capitalize(item.firstname),\" \",_.capitalize(item.lastname)),React.createElement(View,{style:{flexDirection:\"row\",flex:1,alignItems:\"center\"}},React.createElement(Icon,{name:\"account-card-details\",size:20}),React.createElement(Text,{style:{textAlignVertical:\"bottom\",marginStart:8}},item.jobTitle,\" chez \",item.organisation)),React.createElement(View,{style:{flexDirection:\"row\",flex:1,alignItems:\"center\"}},React.createElement(Icon,{name:\"school\",size:20}),React.createElement(Text,{style:{textAlignVertical:\"bottom\",marginStart:8}},\"SIEE promotion \",item.promo)))));};var PeopleScreen=function PeopleScreen(_ref2){var navigation=_ref2.navigation;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.users;}),users=_useSelector.users;useEffect(function(){function fetchData(){dispatch(fetchUsers());}fetchData();},[]);return React.createElement(View,{style:{flex:1}},users.isLoaded?React.createElement(FlatList,{style:{borderRadius:0,shadowOffset:{width:10,height:10},shadowColor:\"black\",shadowOpacity:0.3,elevation:2,backgroundColor:\"white\"},data:users,renderItem:function renderItem(_ref3){var item=_ref3.item;return React.createElement(Item,{item:item,navigation:navigation});},keyExtractor:function keyExtractor(item){return item._id;}}):React.createElement(View,{style:{flex:1,alignContent:\"center\",justifyContent:\"center\"}},React.createElement(ActivityIndicator,{size:\"large\"})));};export default PeopleScreen;","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/client/src/components/People/PeopleListScreen.js"],"names":["React","useEffect","useDispatch","useSelector","Avatar","Icon","theme","fetchUsers","_","Item","item","navigation","navigate","id","_id","paddingTop","paddingHorizontal","marginVertical","marginHorizontal","borderBottomWidth","borderBottomColor","colors","grey4","paddingVertical","flexDirection","alignContent","justifyContent","alignItems","marginRight","avatar","uri","firstname","concat","lastname","toUpperCase","textAlignVertical","fontWeight","fontSize","capitalize","flex","marginStart","jobTitle","organisation","promo","PeopleScreen","dispatch","state","users","fetchData","isLoaded","borderRadius","shadowOffset","width","height","shadowColor","shadowOpacity","elevation","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  View,\n  Text,\n  ActivityIndicator,\n  FlatList,\n  TouchableOpacity,\n} from \"react-native\";\nimport { Avatar, Icon } from \"react-native-elements\";\nimport theme from \"../../Theme.json\";\nimport { fetchUsers } from \"../../actions/usersActions\";\nimport _ from \"lodash\";\n\nconst Item = ({ item, navigation }) => {\n  if (!item) return null;\n  return (\n    <TouchableOpacity\n      onPress={() => {\n        navigation.navigate(\"Read\", { id: item._id, item });\n      }}\n    >\n      <View\n        style={{\n          paddingTop: 8,\n          paddingHorizontal: 20,\n          marginVertical: 4,\n          marginHorizontal: 0,\n          borderBottomWidth: 1,\n          borderBottomColor: theme.colors.grey4,\n          paddingVertical: 12,\n          flexDirection: \"row\",\n        }}\n      >\n        <View\n          style={{\n            alignContent: \"center\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            marginRight: 12,\n          }}\n        >\n          {item.avatar ? (\n            <Avatar\n              source={{\n                uri: `https://siee-gate.herokuapp.com/api/files/avatars/${item.avatar}`,\n              }}\n              size=\"medium\"\n            />\n          ) : (\n            <Avatar\n              size=\"medium\"\n              title={item.firstname[0].concat(item.lastname[0]).toUpperCase()}\n            />\n          )}\n        </View>\n        <View>\n          <Text\n            style={{\n              textAlignVertical: \"bottom\",\n              fontWeight: \"bold\",\n              fontSize: 16,\n            }}\n          >\n            {_.capitalize(item.firstname)} {_.capitalize(item.lastname)}\n          </Text>\n          <View style={{ flexDirection: \"row\", flex: 1, alignItems: \"center\" }}>\n            <Icon name=\"account-card-details\" size={20} />\n            <Text style={{ textAlignVertical: \"bottom\", marginStart: 8 }}>\n              {item.jobTitle} chez {item.organisation}\n            </Text>\n          </View>\n          <View style={{ flexDirection: \"row\", flex: 1, alignItems: \"center\" }}>\n            <Icon name=\"school\" size={20} />\n            <Text style={{ textAlignVertical: \"bottom\", marginStart: 8 }}>\n              SIEE promotion {item.promo}\n            </Text>\n          </View>\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst PeopleScreen = ({ navigation }) => {\n  const dispatch = useDispatch();\n  const { users } = useSelector((state) => state.users);\n  useEffect(() => {\n    function fetchData() {\n      dispatch(fetchUsers());\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <View style={{ flex: 1 }}>\n      {users.isLoaded ? (\n        <FlatList\n          style={{\n            borderRadius: 0,\n            shadowOffset: { width: 10, height: 10 },\n            shadowColor: \"black\",\n            shadowOpacity: 0.3,\n            elevation: 2,\n            backgroundColor: \"white\",\n          }}\n          data={users}\n          renderItem={({ item }) => (\n            <Item item={item} navigation={navigation} />\n          )}\n          keyExtractor={(item) => item._id}\n        />\n      ) : (\n        <View\n          style={{ flex: 1, alignContent: \"center\", justifyContent: \"center\" }}\n        >\n          <ActivityIndicator size=\"large\" />\n        </View>\n      )}\n    </View>\n  );\n};\n\nexport default PeopleScreen;\n"]},"metadata":{},"sourceType":"module"}