{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var initialState={isLoggingIn:false,isLoggingOut:false,isSigningUp:false,isLoggedIn:false,isDeletingAccount:false,loggedInAt:null,user:null,userInfoUpdatedAt:null,token:null,errors:[]};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"REQUEST_AUTH_TOKEN\":return _objectSpread({},state,{},action.data);case\"REQUEST_SIGN_UP\":return _objectSpread({},state,{isSigningUp:true});case\"REQUEST_SIGN_UP\":return _objectSpread({},state,{isSigningUp:true});case\"REQUEST_LOG_IN\":return _objectSpread({},state,{isLoggingIn:true});case\"REQUEST_LOG_OUT\":return _objectSpread({},state,{isloggingOut:true});case\"REQUEST_UPDATE_USER\":return _objectSpread({},state,{isUpdatingUser:true});case\"REQUEST_DELETE_ACCOUNT\":return _objectSpread({},state,{isDeletingAccount:true});case\"REQUEST_UPDATE_PASSWORD\":return _objectSpread({},state,{isUpdatingPassword:true});case\"REQUEST_MY_JOBS\":return _objectSpread({},state,{isFetching:true});case\"REQUEST_UPDATE_JOB\":return _objectSpread({},state,{isUpdatingJob:true});case\"REQUEST_CREATE_JOB\":return state;case\"RECEIVE_CONVERSATION\":return _objectSpread({},state,{user:_objectSpread({},state.user,{privateConversations:[].concat(_toConsumableArray(state.user.privateConversations),[{conversation_id:action.conversation._id,interlocutor_id:action.message.sender}])})});case\"PRIVATE_CONVERSATION_ACK\":return _objectSpread({},state,{user:_objectSpread({},state.user,{privateConversations:[].concat(_toConsumableArray(state.user.privateConversations),[{conversation_id:action.conversation._id,interlocutor_id:action.message.recipient}])})});case\"REQUEST_UPDATE_PASSWORD:SUCCESS\":return state;case\"REQUEST_DELETE_ACCOUNT:SUCCESS\":case\"REQUEST_LOG_OUT:SUCCESS\":return initialState;case\"REQUEST_VERIFY_TOKEN:SUCCESS\":return _objectSpread({},state,{tokenVerifiedAt:action.receivedAt});case\"REQUEST_LOG_IN:SUCCESS\":return _objectSpread({},state,{isLoggingIn:false,isLoggedIn:true,loggedInAt:action.receivedAt,userInfoUpdatedAt:action.receivedAt},action.data);case\"REQUEST_SIGN_UP:SUCCESS\":return _objectSpread({},state,{isSigningUp:false,user:action.user,token:action.token,loggedInAt:action.receivedAt,isLoggedIn:true,userInfoUpdatedAt:action.receivedAt},action.data);case\"REQUEST_UPDATE_USER:SUCCESS\":return _objectSpread({},state,{isUpdatingUser:false,userInfoUpdatedAt:action.receivedAt},action.data);case\"REQUEST_MY_JOBS:SUCCESS\":return _objectSpread({},state,{isFetching:false,lastUpdatedAt:action.receivedAt,isLoaded:true},action.data);case\"REQUEST_UPDATE_JOB:SUCCESS\":return _objectSpread({},state,{user:_objectSpread({},state.user,{jobs:action.data.jobs}),isUpdatingJob:false});case\"REQUEST_CREATE_JOB:SUCCESS\":return _objectSpread({},state,{user:_objectSpread({},state.user,{jobs:[action.data.job].concat(_toConsumableArray(state.user.jobs))})});case\"REQUEST_DELETE_FILE:SUCCESS\":case\"REQUEST_UPLOAD_FILE:SUCCESS\":return _objectSpread({},state,{user:action.data.updatedUser});case\"REQUEST_VERIFY_TOKEN:ERROR\":return initialState;case\"REQUEST_MY_JOBS:ERROR\":case\"REQUEST_UPDATE_USER:ERROR\":case\"REQUEST_UPDATE_PASSWORD:ERROR\":case\"REQUEST_LOG_IN:ERROR\":case\"REQUEST_SIGN_UP:ERROR\":case\"REQUEST_UPDATE_JOB:ERROR\":case\"REQUEST_CREATE_JOB:ERROR\":return _objectSpread({},state,{errors:[].concat(_toConsumableArray(state.errors),[action])});default:return state;}}","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/client/src/store/reducers/authReducer.js"],"names":["initialState","isLoggingIn","isLoggingOut","isSigningUp","isLoggedIn","isDeletingAccount","loggedInAt","user","userInfoUpdatedAt","token","errors","state","action","type","data","isloggingOut","isUpdatingUser","isUpdatingPassword","isFetching","isUpdatingJob","privateConversations","conversation_id","conversation","_id","interlocutor_id","message","sender","recipient","tokenVerifiedAt","receivedAt","lastUpdatedAt","isLoaded","jobs","job","updatedUser"],"mappings":"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","sourcesContent":["const initialState = {\n  isLoggingIn: false,\n  isLoggingOut: false,\n  isSigningUp: false,\n  isLoggedIn: false,\n  isDeletingAccount: false,\n  loggedInAt: null,\n  user: null,\n  userInfoUpdatedAt: null,\n  token: null,\n  errors: [],\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case \"REQUEST_AUTH_TOKEN\":\n      return {\n        ...state,\n        ...action.data,\n      };\n    case \"REQUEST_SIGN_UP\":\n      return {\n        ...state,\n        isSigningUp: true,\n      };\n    case \"REQUEST_SIGN_UP\":\n      return {\n        ...state,\n        isSigningUp: true,\n      };\n    case \"REQUEST_LOG_IN\":\n      return {\n        ...state,\n        isLoggingIn: true,\n      };\n    case \"REQUEST_LOG_OUT\":\n      return {\n        ...state,\n        isloggingOut: true,\n      };\n    case \"REQUEST_UPDATE_USER\":\n      return {\n        ...state,\n        isUpdatingUser: true,\n      };\n    case \"REQUEST_DELETE_ACCOUNT\":\n      return {\n        ...state,\n        isDeletingAccount: true,\n      };\n    case \"REQUEST_UPDATE_PASSWORD\":\n      return {\n        ...state,\n        isUpdatingPassword: true,\n      };\n    case \"REQUEST_MY_JOBS\":\n      return {\n        ...state,\n        isFetching: true,\n      };\n    case \"REQUEST_UPDATE_JOB\":\n      return {\n        ...state,\n        isUpdatingJob: true,\n      };\n    case \"REQUEST_CREATE_JOB\":\n      return state;\n    case \"RECEIVE_CONVERSATION\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          privateConversations: [\n            ...state.user.privateConversations,\n            {\n              conversation_id: action.conversation._id,\n              interlocutor_id: action.message.sender,\n            },\n          ],\n        },\n      };\n    case \"PRIVATE_CONVERSATION_ACK\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          privateConversations: [\n            ...state.user.privateConversations,\n            {\n              conversation_id: action.conversation._id,\n              interlocutor_id: action.message.recipient,\n            },\n          ],\n        },\n      };\n\n    // SUCCESS\n    case \"REQUEST_UPDATE_PASSWORD:SUCCESS\":\n      return state;\n    case \"REQUEST_DELETE_ACCOUNT:SUCCESS\":\n    case \"REQUEST_LOG_OUT:SUCCESS\":\n      return initialState;\n    case \"REQUEST_VERIFY_TOKEN:SUCCESS\":\n      return {\n        ...state,\n        tokenVerifiedAt: action.receivedAt,\n      };\n    case \"REQUEST_LOG_IN:SUCCESS\":\n      return {\n        ...state,\n        isLoggingIn: false,\n        isLoggedIn: true,\n        loggedInAt: action.receivedAt,\n        userInfoUpdatedAt: action.receivedAt,\n        ...action.data,\n      };\n    case \"REQUEST_SIGN_UP:SUCCESS\":\n      return {\n        ...state,\n        isSigningUp: false,\n        user: action.user,\n        token: action.token,\n        loggedInAt: action.receivedAt,\n        isLoggedIn: true,\n        userInfoUpdatedAt: action.receivedAt,\n        ...action.data,\n      };\n    case \"REQUEST_UPDATE_USER:SUCCESS\":\n      return {\n        ...state,\n        isUpdatingUser: false,\n        userInfoUpdatedAt: action.receivedAt,\n        ...action.data,\n      };\n    case \"REQUEST_MY_JOBS:SUCCESS\":\n      return {\n        ...state,\n        isFetching: false,\n        lastUpdatedAt: action.receivedAt,\n        isLoaded: true,\n        ...action.data,\n      };\n    case \"REQUEST_UPDATE_JOB:SUCCESS\":\n      return {\n        ...state,\n        user: { ...state.user, jobs: action.data.jobs },\n        isUpdatingJob: false,\n      };\n    case \"REQUEST_CREATE_JOB:SUCCESS\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          jobs: [action.data.job, ...state.user.jobs],\n        },\n      };\n    case \"REQUEST_DELETE_FILE:SUCCESS\":\n    case \"REQUEST_UPLOAD_FILE:SUCCESS\":\n      return {\n        ...state,\n        user: action.data.updatedUser,\n      };\n\n    // ERRORS\n\n    case \"REQUEST_VERIFY_TOKEN:ERROR\":\n      return initialState;\n    case \"REQUEST_MY_JOBS:ERROR\":\n    case \"REQUEST_UPDATE_USER:ERROR\":\n    case \"REQUEST_UPDATE_PASSWORD:ERROR\":\n    case \"REQUEST_LOG_IN:ERROR\":\n    case \"REQUEST_SIGN_UP:ERROR\":\n    case \"REQUEST_UPDATE_JOB:ERROR\":\n    case \"REQUEST_CREATE_JOB:ERROR\":\n      return {\n        ...state,\n        errors: [...state.errors, action],\n      };\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}