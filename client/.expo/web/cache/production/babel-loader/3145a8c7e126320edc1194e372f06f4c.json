{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useContext}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{Avatar,Divider,Icon,Button,ThemeContext}from\"react-native-elements\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import Platform from\"react-native-web/dist/exports/Platform\";import*as ImagePicker from\"expo-image-picker\";import{uploadFile,deleteFile,dataURLtoBlob}from\"../../actions/filesActions\";import{LinearGradient}from\"expo-linear-gradient\";import _ from\"lodash\";import AppNavbar from\"../AppNavbar\";var ReadProfileScreen=function ReadProfileScreen(_ref){var navigation=_ref.navigation;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAvatarForm=_useState2[0],setShowAvatarForm=_useState2[1];var _useContext=useContext(ThemeContext),theme=_useContext.theme;var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;var dispatch=useDispatch();var editAvatar=function editAvatar(){var selectPicture=function selectPicture(){var file,blob,res,_blob;return _regeneratorRuntime.async(function selectPicture$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(ImagePicker.requestCameraRollPermissionsAsync());case 2:_context.next=4;return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({allowsEditing:true}));case 4:file=_context.sent;if(!file.cancelled){_context.next=7;break;}return _context.abrupt(\"return\");case 7:if(!(Platform.OS===\"web\")){_context.next=13;break;}blob=dataURLtoBlob(file.uri);console.log(\"selectPicture -> blob\",blob);dispatch(uploadFile(blob,\"avatars\"));_context.next=22;break;case 13:_context.next=15;return _regeneratorRuntime.awrap(fetch(file.uri));case 15:res=_context.sent;console.log(\"selectPicture -> res\",res);_context.next=19;return _regeneratorRuntime.awrap(res.blob());case 19:_blob=_context.sent;console.log(\"selectPicture -> blob\",_blob);dispatch(uploadFile(_blob,\"avatars\"));case 22:case\"end\":return _context.stop();}}},null,null,null,Promise);};selectPicture();setShowAvatarForm(false);};return React.createElement(View,{style:{flex:1}},React.createElement(AppNavbar,{navigation:navigation,title:\"Mon profil\",leftButton:\"back\",noRightButton:true}),user?React.createElement(View,{style:{flex:1,alignContent:\"space-between\",backgroundColor:\"white\"}},React.createElement(ScrollView,{style:{paddingTop:40,flex:1,paddingHorizontal:12}},React.createElement(LinearGradient,{colors:[theme.colors.primary,theme.colors.secondary],start:[0.25,1],end:[0,0],style:{flexDirection:\"row\",marginBottom:20,paddingVertical:8,paddingHorizontal:16,borderRadius:5}},React.createElement(View,{style:{flex:1,alignContent:\"center\",justifyContent:\"center\"}},React.createElement(Text,{style:{fontSize:20,color:theme.colors.grey5}},_.capitalize(user.firstname)),React.createElement(Text,{style:{fontSize:30,color:\"white\",fontWeight:\"bold\"}},_.capitalize(user.lastname)),user.professor&&React.createElement(Text,{style:{color:theme.colors.grey4,paddingLeft:4}},\"Professeur\"),user.administration&&React.createElement(Text,{style:{color:theme.colors.grey4,paddingLeft:4}},\"Membre du corps administratif\")),user.avatar?React.createElement(Avatar,{size:\"xlarge\",containerStyle:{borderColor:\"white\",borderWidth:3},source:{uri:\"http://localhost:8080/api/files/avatars/\"+user.avatar},onPress:function onPress(){return setShowAvatarForm(!showAvatarForm);}}):React.createElement(Avatar,{size:\"xlarge\",containerStyle:{borderColor:\"white\",borderWidth:3},title:user.firstname.charAt(0).concat(user.lastname.charAt(0)).toUpperCase(),onPress:function onPress(){return setShowAvatarForm(!showAvatarForm);}}),React.createElement(View,{style:{marginLeft:-40,justifyContent:\"space-between\"}},React.createElement(Button,{icon:React.createElement(Icon,{name:\"pencil\",color:theme.colors.secondary}),onPress:function onPress(){return editAvatar();},buttonStyle:{elevation:10,backgroundColor:theme.colors.primaryLight,width:40,height:40,borderRadius:40}}),user.avatar&&React.createElement(Button,{icon:React.createElement(Icon,{name:\"delete\",color:theme.colors.grey4}),buttonStyle:{backgroundColor:theme.colors.grey0,width:40,height:40,borderRadius:40},onPress:function onPress(){return dispatch(deleteFile(\"avatars\",user.avatar));}}))),React.createElement(View,{style:{flexDirection:\"row\",alignItems:\"center\"}},React.createElement(Icon,{name:\"briefcase\",size:20,color:\"grey\"}),React.createElement(Text,{style:{textAlignVertical:\"bottom\",marginHorizontal:8,flex:1}},user.jobTitle,\" chez \",user.organisation)),React.createElement(View,{style:{flexDirection:\"row\",alignItems:\"center\"}},React.createElement(Icon,{name:\"school\",size:20,color:\"grey\"}),React.createElement(Text,{style:{textAlignVertical:\"bottom\",marginHorizontal:8,flex:1}},\"Promotion \",user.promo)),React.createElement(Divider,{style:{marginVertical:20,backgroundColor:\"grey\",borderWidth:1,width:20}}),React.createElement(View,{style:{flexDirection:\"row\"}},React.createElement(Text,{style:{textAlign:\"justify\",flex:1,marginEnd:8}},user.description)),React.createElement(Divider,{style:{marginVertical:20,backgroundColor:\"grey\",borderWidth:1,width:20}}),React.createElement(View,{style:{flexDirection:\"row\",alignItems:\"center\"}},React.createElement(Icon,{name:\"at\",size:20,color:\"grey\"}),React.createElement(Text,{style:{textAlignVertical:\"bottom\",marginStart:8,flex:1}},user.email))),React.createElement(View,{style:{paddingHorizontal:20}},React.createElement(Button,{title:\"Editer\",onPress:function onPress(){return navigation.navigate(\"Edit\");}}))):React.createElement(View,{style:{flex:1,alignContent:\"center\",justifyContent:\"center\"}},React.createElement(ActivityIndicator,{size:\"large\"})));};export default ReadProfileScreen;","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/client/src/components/Profile/ProfileReadScreen.js"],"names":["React","useState","useContext","useSelector","useDispatch","Avatar","Divider","Icon","Button","ThemeContext","ImagePicker","uploadFile","deleteFile","dataURLtoBlob","LinearGradient","_","AppNavbar","ReadProfileScreen","navigation","showAvatarForm","setShowAvatarForm","theme","state","auth","user","dispatch","editAvatar","selectPicture","requestCameraRollPermissionsAsync","launchImageLibraryAsync","allowsEditing","file","cancelled","Platform","OS","blob","uri","console","log","fetch","res","flex","alignContent","backgroundColor","paddingTop","paddingHorizontal","colors","primary","secondary","flexDirection","marginBottom","paddingVertical","borderRadius","justifyContent","fontSize","color","grey5","capitalize","firstname","fontWeight","lastname","professor","grey4","paddingLeft","administration","avatar","borderColor","borderWidth","charAt","concat","toUpperCase","marginLeft","elevation","primaryLight","width","height","grey0","alignItems","textAlignVertical","marginHorizontal","jobTitle","organisation","promo","marginVertical","textAlign","marginEnd","description","marginStart","email","navigate"],"mappings":"6HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OACEC,MADF,CAEEC,OAFF,CAGEC,IAHF,CAIEC,MAJF,CAKEC,YALF,KAMO,uBANP,C,uTAcA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,mBAA7B,CACA,OACEC,UADF,CAEEC,UAFF,CAGEC,aAHF,kCAKA,OAASC,cAAT,KAA+B,sBAA/B,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,SAAP,oBAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,MAAoB,IAAjBC,CAAAA,UAAiB,MAAjBA,UAAiB,eACAjB,QAAQ,CAAC,KAAD,CADR,wCACrCkB,cADqC,eACrBC,iBADqB,+BAE1BlB,UAAU,CAACO,YAAD,CAFgB,CAEpCY,KAFoC,aAEpCA,KAFoC,kBAG3BlB,WAAW,CAAC,SAACmB,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAjB,EAAD,CAHgB,CAGpCC,IAHoC,cAGpCA,IAHoC,CAI5C,GAAMC,CAAAA,QAAQ,CAAGrB,WAAW,EAA5B,CAEA,GAAMsB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,mMACdjB,WAAW,CAACkB,iCAAZ,EADc,0DAGDlB,WAAW,CAACmB,uBAAZ,CAAoC,CACrDC,aAAa,CAAE,IADsC,CAApC,CAHC,SAGdC,IAHc,mBAOhBA,IAAI,CAACC,SAPW,sEAShBC,QAAQ,CAACC,EAAT,GAAgB,KATA,2BAUdC,IAVc,CAUPtB,aAAa,CAACkB,IAAI,CAACK,GAAN,CAVN,CAWlBC,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCH,IAArC,EACAV,QAAQ,CAACd,UAAU,CAACwB,IAAD,CAAO,SAAP,CAAX,CAAR,CAZkB,iFAcFI,KAAK,CAACR,IAAI,CAACK,GAAN,CAdH,UAcdI,GAdc,eAelBH,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoCE,GAApC,EAfkB,kDAgBDA,GAAG,CAACL,IAAJ,EAhBC,UAgBdA,KAhBc,eAiBlBE,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCH,KAArC,EACAV,QAAQ,CAACd,UAAU,CAACwB,KAAD,CAAO,SAAP,CAAX,CAAR,CAlBkB,sEAAtB,CAqBAR,aAAa,GACbP,iBAAiB,CAAC,KAAD,CAAjB,CACD,CAxBD,CA0BA,MACE,qBAAC,IAAD,EACE,KAAK,CAAE,CACLqB,IAAI,CAAE,CADD,CADT,EAKE,oBAAC,SAAD,EACE,UAAU,CAAEvB,UADd,CAEE,KAAK,CAAC,YAFR,CAGE,UAAU,CAAC,MAHb,CAIE,aAAa,CAAE,IAJjB,EALF,CAWGM,IAAI,CACH,oBAAC,IAAD,EACE,KAAK,CAAE,CACLiB,IAAI,CAAE,CADD,CAELC,YAAY,CAAE,eAFT,CAGLC,eAAe,CAAE,OAHZ,CADT,EAOE,oBAAC,UAAD,EACE,KAAK,CAAE,CACLC,UAAU,CAAE,EADP,CAELH,IAAI,CAAE,CAFD,CAGLI,iBAAiB,CAAE,EAHd,CADT,EAOE,oBAAC,cAAD,EACE,MAAM,CAAE,CAACxB,KAAK,CAACyB,MAAN,CAAaC,OAAd,CAAuB1B,KAAK,CAACyB,MAAN,CAAaE,SAApC,CADV,CAEE,KAAK,CAAE,CAAC,IAAD,CAAO,CAAP,CAFT,CAGE,GAAG,CAAE,CAAC,CAAD,CAAI,CAAJ,CAHP,CAIE,KAAK,CAAE,CACLC,aAAa,CAAE,KADV,CAELC,YAAY,CAAE,EAFT,CAGLC,eAAe,CAAE,CAHZ,CAILN,iBAAiB,CAAE,EAJd,CAKLO,YAAY,CAAE,CALT,CAJT,EAYE,oBAAC,IAAD,EACE,KAAK,CAAE,CACLX,IAAI,CAAE,CADD,CAELC,YAAY,CAAE,QAFT,CAGLW,cAAc,CAAE,QAHX,CADT,EAOE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAgBC,KAAK,CAAElC,KAAK,CAACyB,MAAN,CAAaU,KAApC,CAAb,EACGzC,CAAC,CAAC0C,UAAF,CAAajC,IAAI,CAACkC,SAAlB,CADH,CAPF,CAUE,oBAAC,IAAD,EACE,KAAK,CAAE,CAAEJ,QAAQ,CAAE,EAAZ,CAAgBC,KAAK,CAAE,OAAvB,CAAgCI,UAAU,CAAE,MAA5C,CADT,EAGG5C,CAAC,CAAC0C,UAAF,CAAajC,IAAI,CAACoC,QAAlB,CAHH,CAVF,CAeGpC,IAAI,CAACqC,SAAL,EACC,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEN,KAAK,CAAElC,KAAK,CAACyB,MAAN,CAAagB,KAAtB,CAA6BC,WAAW,CAAE,CAA1C,CAAb,eAhBJ,CAoBGvC,IAAI,CAACwC,cAAL,EACC,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAET,KAAK,CAAElC,KAAK,CAACyB,MAAN,CAAagB,KAAtB,CAA6BC,WAAW,CAAE,CAA1C,CAAb,kCArBJ,CAZF,CAsCGvC,IAAI,CAACyC,MAAL,CACC,oBAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,cAAc,CAAE,CACdC,WAAW,CAAE,OADC,CAEdC,WAAW,CAAE,CAFC,CAFlB,CAME,MAAM,CAAE,CACN/B,GAAG,4CAA6CZ,IAAI,CAACyC,MAD/C,CANV,CASE,OAAO,CAAE,yBAAM7C,CAAAA,iBAAiB,CAAC,CAACD,cAAF,CAAvB,EATX,EADD,CAaC,oBAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,cAAc,CAAE,CACd+C,WAAW,CAAE,OADC,CAEdC,WAAW,CAAE,CAFC,CAFlB,CAME,KAAK,CAAE3C,IAAI,CAACkC,SAAL,CACJU,MADI,CACG,CADH,EAEJC,MAFI,CAEG7C,IAAI,CAACoC,QAAL,CAAcQ,MAAd,CAAqB,CAArB,CAFH,EAGJE,WAHI,EANT,CAUE,OAAO,CAAE,yBAAMlD,CAAAA,iBAAiB,CAAC,CAACD,cAAF,CAAvB,EAVX,EAnDJ,CAgEE,oBAAC,IAAD,EACE,KAAK,CAAE,CACLoD,UAAU,CAAE,CAAC,EADR,CAELlB,cAAc,CAAE,eAFX,CADT,EAME,oBAAC,MAAD,EACE,IAAI,CAAE,oBAAC,IAAD,EAAM,IAAI,CAAC,QAAX,CAAoB,KAAK,CAAEhC,KAAK,CAACyB,MAAN,CAAaE,SAAxC,EADR,CAEE,OAAO,CAAE,yBAAMtB,CAAAA,UAAU,EAAhB,EAFX,CAGE,WAAW,CAAE,CACX8C,SAAS,CAAE,EADA,CAEX7B,eAAe,CAAEtB,KAAK,CAACyB,MAAN,CAAa2B,YAFnB,CAGXC,KAAK,CAAE,EAHI,CAIXC,MAAM,CAAE,EAJG,CAKXvB,YAAY,CAAE,EALH,CAHf,EANF,CAiBG5B,IAAI,CAACyC,MAAL,EACC,oBAAC,MAAD,EACE,IAAI,CAAE,oBAAC,IAAD,EAAM,IAAI,CAAC,QAAX,CAAoB,KAAK,CAAE5C,KAAK,CAACyB,MAAN,CAAagB,KAAxC,EADR,CAEE,WAAW,CAAE,CACXnB,eAAe,CAAEtB,KAAK,CAACyB,MAAN,CAAa8B,KADnB,CAEXF,KAAK,CAAE,EAFI,CAGXC,MAAM,CAAE,EAHG,CAIXvB,YAAY,CAAE,EAJH,CAFf,CAQE,OAAO,CAAE,yBAAM3B,CAAAA,QAAQ,CAACb,UAAU,CAAC,SAAD,CAAYY,IAAI,CAACyC,MAAjB,CAAX,CAAd,EARX,EAlBJ,CAhEF,CAPF,CAsGE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEhB,aAAa,CAAE,KAAjB,CAAwB4B,UAAU,CAAE,QAApC,CAAb,EACE,oBAAC,IAAD,EAAM,IAAI,CAAC,WAAX,CAAuB,IAAI,CAAE,EAA7B,CAAiC,KAAK,CAAC,MAAvC,EADF,CAEE,oBAAC,IAAD,EACE,KAAK,CAAE,CACLC,iBAAiB,CAAE,QADd,CAELC,gBAAgB,CAAE,CAFb,CAGLtC,IAAI,CAAE,CAHD,CADT,EAOGjB,IAAI,CAACwD,QAPR,UAOwBxD,IAAI,CAACyD,YAP7B,CAFF,CAtGF,CAkHE,oBAAC,IAAD,EACE,KAAK,CAAE,CACLhC,aAAa,CAAE,KADV,CAEL4B,UAAU,CAAE,QAFP,CADT,EAME,oBAAC,IAAD,EAAM,IAAI,CAAC,QAAX,CAAoB,IAAI,CAAE,EAA1B,CAA8B,KAAK,CAAC,MAApC,EANF,CAOE,oBAAC,IAAD,EACE,KAAK,CAAE,CACLC,iBAAiB,CAAE,QADd,CAELC,gBAAgB,CAAE,CAFb,CAGLtC,IAAI,CAAE,CAHD,CADT,eAOajB,IAAI,CAAC0D,KAPlB,CAPF,CAlHF,CAmIE,oBAAC,OAAD,EACE,KAAK,CAAE,CACLC,cAAc,CAAE,EADX,CAELxC,eAAe,CAAE,MAFZ,CAGLwB,WAAW,CAAE,CAHR,CAILO,KAAK,CAAE,EAJF,CADT,EAnIF,CA2IE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEzB,aAAa,CAAE,KAAjB,CAAb,EACE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEmC,SAAS,CAAE,SAAb,CAAwB3C,IAAI,CAAE,CAA9B,CAAiC4C,SAAS,CAAE,CAA5C,CAAb,EACG7D,IAAI,CAAC8D,WADR,CADF,CA3IF,CAgJE,oBAAC,OAAD,EACE,KAAK,CAAE,CACLH,cAAc,CAAE,EADX,CAELxC,eAAe,CAAE,MAFZ,CAGLwB,WAAW,CAAE,CAHR,CAILO,KAAK,CAAE,EAJF,CADT,EAhJF,CAwJE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEzB,aAAa,CAAE,KAAjB,CAAwB4B,UAAU,CAAE,QAApC,CAAb,EACE,oBAAC,IAAD,EAAM,IAAI,CAAC,IAAX,CAAgB,IAAI,CAAE,EAAtB,CAA0B,KAAK,CAAC,MAAhC,EADF,CAEE,oBAAC,IAAD,EACE,KAAK,CAAE,CAAEC,iBAAiB,CAAE,QAArB,CAA+BS,WAAW,CAAE,CAA5C,CAA+C9C,IAAI,CAAE,CAArD,CADT,EAGGjB,IAAI,CAACgE,KAHR,CAFF,CAxJF,CAPF,CAwKE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAE3C,iBAAiB,CAAE,EAArB,CAAb,EACE,oBAAC,MAAD,EACE,KAAK,CAAC,QADR,CAEE,OAAO,CAAE,yBAAM3B,CAAAA,UAAU,CAACuE,QAAX,CAAoB,MAApB,CAAN,EAFX,EADF,CAxKF,CADG,CAiLH,oBAAC,IAAD,EACE,KAAK,CAAE,CAAEhD,IAAI,CAAE,CAAR,CAAWC,YAAY,CAAE,QAAzB,CAAmCW,cAAc,CAAE,QAAnD,CADT,EAGE,oBAAC,iBAAD,EAAmB,IAAI,CAAC,OAAxB,EAHF,CA5LJ,CADF,CAqMD,CArOD,CAuOA,cAAepC,CAAAA,iBAAf","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  Avatar,\n  Divider,\n  Icon,\n  Button,\n  ThemeContext,\n} from \"react-native-elements\";\nimport {\n  View,\n  Text,\n  ScrollView,\n  ActivityIndicator,\n  Platform,\n} from \"react-native\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport {\n  uploadFile,\n  deleteFile,\n  dataURLtoBlob,\n} from \"../../actions/filesActions\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport _ from \"lodash\";\nimport AppNavbar from \"../AppNavbar\";\n\nconst ReadProfileScreen = ({ navigation }) => {\n  const [showAvatarForm, setShowAvatarForm] = useState(false);\n  const { theme } = useContext(ThemeContext);\n  const { user } = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n\n  const editAvatar = () => {\n    const selectPicture = async () => {\n      await ImagePicker.requestCameraRollPermissionsAsync();\n\n      const file = await ImagePicker.launchImageLibraryAsync({\n        allowsEditing: true,\n      });\n\n      if (file.cancelled) return;\n\n      if (Platform.OS === \"web\") {\n        let blob = dataURLtoBlob(file.uri);\n        console.log(\"selectPicture -> blob\", blob);\n        dispatch(uploadFile(blob, \"avatars\"));\n      } else {\n        let res = await fetch(file.uri);\n        console.log(\"selectPicture -> res\", res);\n        let blob = await res.blob();\n        console.log(\"selectPicture -> blob\", blob);\n        dispatch(uploadFile(blob, \"avatars\"));\n      }\n    };\n    selectPicture();\n    setShowAvatarForm(false);\n  };\n\n  return (\n    <View\n      style={{\n        flex: 1,\n      }}\n    >\n      <AppNavbar\n        navigation={navigation}\n        title=\"Mon profil\"\n        leftButton=\"back\"\n        noRightButton={true}\n      />\n      {user ? (\n        <View\n          style={{\n            flex: 1,\n            alignContent: \"space-between\",\n            backgroundColor: \"white\",\n          }}\n        >\n          <ScrollView\n            style={{\n              paddingTop: 40,\n              flex: 1,\n              paddingHorizontal: 12,\n            }}\n          >\n            <LinearGradient\n              colors={[theme.colors.primary, theme.colors.secondary]}\n              start={[0.25, 1]}\n              end={[0, 0]}\n              style={{\n                flexDirection: \"row\",\n                marginBottom: 20,\n                paddingVertical: 8,\n                paddingHorizontal: 16,\n                borderRadius: 5,\n              }}\n            >\n              <View\n                style={{\n                  flex: 1,\n                  alignContent: \"center\",\n                  justifyContent: \"center\",\n                }}\n              >\n                <Text style={{ fontSize: 20, color: theme.colors.grey5 }}>\n                  {_.capitalize(user.firstname)}\n                </Text>\n                <Text\n                  style={{ fontSize: 30, color: \"white\", fontWeight: \"bold\" }}\n                >\n                  {_.capitalize(user.lastname)}\n                </Text>\n                {user.professor && (\n                  <Text style={{ color: theme.colors.grey4, paddingLeft: 4 }}>\n                    Professeur\n                  </Text>\n                )}\n                {user.administration && (\n                  <Text style={{ color: theme.colors.grey4, paddingLeft: 4 }}>\n                    Membre du corps administratif\n                  </Text>\n                )}\n              </View>\n              {user.avatar ? (\n                <Avatar\n                  size=\"xlarge\"\n                  containerStyle={{\n                    borderColor: \"white\",\n                    borderWidth: 3,\n                  }}\n                  source={{\n                    uri: `http://localhost:8080/api/files/avatars/${user.avatar}`,\n                  }}\n                  onPress={() => setShowAvatarForm(!showAvatarForm)}\n                />\n              ) : (\n                <Avatar\n                  size=\"xlarge\"\n                  containerStyle={{\n                    borderColor: \"white\",\n                    borderWidth: 3,\n                  }}\n                  title={user.firstname\n                    .charAt(0)\n                    .concat(user.lastname.charAt(0))\n                    .toUpperCase()}\n                  onPress={() => setShowAvatarForm(!showAvatarForm)}\n                />\n              )}\n              <View\n                style={{\n                  marginLeft: -40,\n                  justifyContent: \"space-between\",\n                }}\n              >\n                <Button\n                  icon={<Icon name=\"pencil\" color={theme.colors.secondary} />}\n                  onPress={() => editAvatar()}\n                  buttonStyle={{\n                    elevation: 10,\n                    backgroundColor: theme.colors.primaryLight,\n                    width: 40,\n                    height: 40,\n                    borderRadius: 40,\n                  }}\n                />\n                {user.avatar && (\n                  <Button\n                    icon={<Icon name=\"delete\" color={theme.colors.grey4} />}\n                    buttonStyle={{\n                      backgroundColor: theme.colors.grey0,\n                      width: 40,\n                      height: 40,\n                      borderRadius: 40,\n                    }}\n                    onPress={() => dispatch(deleteFile(\"avatars\", user.avatar))}\n                  />\n                )}\n              </View>\n            </LinearGradient>\n            <View style={{ flexDirection: \"row\", alignItems: \"center\" }}>\n              <Icon name=\"briefcase\" size={20} color=\"grey\" />\n              <Text\n                style={{\n                  textAlignVertical: \"bottom\",\n                  marginHorizontal: 8,\n                  flex: 1,\n                }}\n              >\n                {user.jobTitle} chez {user.organisation}\n              </Text>\n            </View>\n            <View\n              style={{\n                flexDirection: \"row\",\n                alignItems: \"center\",\n              }}\n            >\n              <Icon name=\"school\" size={20} color=\"grey\" />\n              <Text\n                style={{\n                  textAlignVertical: \"bottom\",\n                  marginHorizontal: 8,\n                  flex: 1,\n                }}\n              >\n                Promotion {user.promo}\n              </Text>\n            </View>\n            <Divider\n              style={{\n                marginVertical: 20,\n                backgroundColor: \"grey\",\n                borderWidth: 1,\n                width: 20,\n              }}\n            />\n            <View style={{ flexDirection: \"row\" }}>\n              <Text style={{ textAlign: \"justify\", flex: 1, marginEnd: 8 }}>\n                {user.description}\n              </Text>\n            </View>\n            <Divider\n              style={{\n                marginVertical: 20,\n                backgroundColor: \"grey\",\n                borderWidth: 1,\n                width: 20,\n              }}\n            />\n            <View style={{ flexDirection: \"row\", alignItems: \"center\" }}>\n              <Icon name=\"at\" size={20} color=\"grey\" />\n              <Text\n                style={{ textAlignVertical: \"bottom\", marginStart: 8, flex: 1 }}\n              >\n                {user.email}\n              </Text>\n            </View>\n          </ScrollView>\n          <View style={{ paddingHorizontal: 20 }}>\n            <Button\n              title=\"Editer\"\n              onPress={() => navigation.navigate(\"Edit\")}\n            />\n          </View>\n        </View>\n      ) : (\n        <View\n          style={{ flex: 1, alignContent: \"center\", justifyContent: \"center\" }}\n        >\n          <ActivityIndicator size=\"large\" />\n        </View>\n      )}\n    </View>\n  );\n};\n\nexport default ReadProfileScreen;\n"]},"metadata":{},"sourceType":"module"}