{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/home/gaetan/Documents/GATE/app/frontend/src/App.js\";\nimport React from \"react\";\nimport \"react-native-gesture-handler\";\nimport { Provider, useSelector, shallowEqual } from \"react-redux\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport { store, persistor } from \"./store/index\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\nimport { ThemeProvider, Icon } from \"react-native-elements\";\nimport MyJobs from \"./components/MyJobs\";\nimport Jobs from \"./components/Jobs\";\nimport Profile from \"./components/Profile\";\nimport People from \"./components/People\";\nimport Messages from \"./components/Messages\";\nimport Auth from \"./components/Auth\";\nimport Notifier from \"./components/Notifier\";\nimport theme from \"./Theme.json\";\nimport { navigationRef, isMountedRef } from \"./RootNavigation\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nvar BottomTab = createBottomTabNavigator();\nvar Drawer = createDrawerNavigator();\nvar Stack = createStackNavigator();\n\nvar MainStack = function MainStack() {\n  return React.createElement(BottomTab.Navigator, {\n    initialRouteName: \"People\",\n    screenOptions: function screenOptions(_ref) {\n      var route = _ref.route;\n      return {\n        tabBarIcon: function tabBarIcon(_ref2) {\n          var focused = _ref2.focused,\n              color = _ref2.color,\n              size = _ref2.size;\n          var iconName;\n\n          switch (route.name) {\n            case \"Home\":\n              iconName = \"home\";\n              break;\n\n            case \"Jobs\":\n              iconName = \"briefcase\";\n              break;\n\n            case \"People\":\n              iconName = \"account-group\";\n              break;\n\n            case \"Messages\":\n              iconName = \"forum\";\n              break;\n\n            default:\n              break;\n          }\n\n          return React.createElement(Icon, {\n            name: iconName,\n            size: size,\n            color: color,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 18\n            }\n          });\n        }\n      };\n    },\n    tabBarOptions: {\n      activeTintColor: theme.colors.primary,\n      inactiveTintColor: \"gray\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, React.createElement(BottomTab.Screen, {\n    name: \"People\",\n    component: People,\n    options: {\n      title: \"Alumnis\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), React.createElement(BottomTab.Screen, {\n    name: \"Jobs\",\n    component: Jobs,\n    options: {\n      title: \"Emplois\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), React.createElement(BottomTab.Screen, {\n    name: \"Messages\",\n    component: Messages,\n    options: {\n      title: \"Messages\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar AppStack = function AppStack() {\n  if (state.isLoading) {\n    return React.createElement(SplashScreen, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 12\n      }\n    });\n  }\n\n  var authContext = React.useMemo(function () {\n    return {\n      signIn: function signIn(data) {\n        return _regeneratorRuntime.async(function signIn$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch({\n                  type: \"SIGN_IN\",\n                  token: \"dummy-auth-token\"\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      },\n      signOut: function signOut() {\n        return dispatch({\n          type: \"SIGN_OUT\"\n        });\n      },\n      signUp: function signUp(data) {\n        return _regeneratorRuntime.async(function signUp$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                dispatch({\n                  type: \"SIGN_IN\",\n                  token: \"dummy-auth-token\"\n                });\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }\n    };\n  }, []);\n  React.useEffect(function () {\n    var bootstrapAsync = function bootstrapAsync() {\n      var userToken;\n      return _regeneratorRuntime.async(function bootstrapAsync$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"userToken\"));\n\n            case 3:\n              userToken = _context3.sent;\n              _context3.next = 8;\n              break;\n\n            case 6:\n              _context3.prev = 6;\n              _context3.t0 = _context3[\"catch\"](0);\n\n            case 8:\n              dispatch({\n                type: \"RESTORE_TOKEN\",\n                token: userToken\n              });\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, [[0, 6]], Promise);\n    };\n\n    bootstrapAsync();\n  }, []);\n  var isLoggedIn = useSelector(function (state) {\n    return state.auth.isLoggedIn;\n  }, shallowEqual);\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      maxWidth: 500\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, isLoggedIn ? React.createElement(Drawer.Navigator, {\n    initialRouteName: \"Main\",\n    headerMode: \"screen\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, React.createElement(Drawer.Screen, {\n    name: \"Main\",\n    component: MainStack,\n    options: {\n      title: \"Acceuil\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Profile\",\n    component: Profile,\n    options: {\n      title: \"Mon profil\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"MyJobs\",\n    component: MyJobs,\n    options: {\n      title: \"Mes offres d'emplois\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  })) : React.createElement(Auth, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }));\n};\n\nvar App = function App() {\n  React.useEffect(function () {\n    isMountedRef.current = true;\n    return function () {\n      return isMountedRef.current = false;\n    };\n  }, []);\n  return React.createElement(Provider, {\n    store: store,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 5\n    }\n  }, React.createElement(PersistGate, {\n    loading: null,\n    persistor: persistor,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }\n  }, React.createElement(ThemeProvider, {\n    theme: theme,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }, React.createElement(SafeAreaView, {\n    style: {\n      flex: 1,\n      flexDirection: \"row\",\n      justifyContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }, Platform.OS === \"ios\" && React.createElement(StatusBar, {\n    barStyle: \"default\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 39\n    }\n  }), React.createElement(NavigationContainer, {\n    ref: navigationRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, React.createElement(AppStack, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }), React.createElement(Notifier, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/frontend/src/App.js"],"names":["React","Provider","useSelector","shallowEqual","store","persistor","PersistGate","NavigationContainer","createBottomTabNavigator","createDrawerNavigator","ThemeProvider","Icon","MyJobs","Jobs","Profile","People","Messages","Auth","Notifier","theme","navigationRef","isMountedRef","createStackNavigator","BottomTab","Drawer","Stack","MainStack","route","tabBarIcon","focused","color","size","iconName","name","activeTintColor","colors","primary","inactiveTintColor","title","AppStack","state","isLoading","authContext","useMemo","signIn","data","dispatch","type","token","signOut","signUp","useEffect","bootstrapAsync","AsyncStorage","getItem","userToken","isLoggedIn","auth","flex","maxWidth","App","current","flexDirection","justifyContent","Platform","OS"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"react-native-gesture-handler\";\nimport { Provider, useSelector, shallowEqual } from \"react-redux\";\nimport { View, SafeAreaView, Platform, StatusBar } from \"react-native\";\nimport { store, persistor } from \"./store/index\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\nimport { ThemeProvider, Icon } from \"react-native-elements\";\nimport MyJobs from \"./components/MyJobs\";\nimport Jobs from \"./components/Jobs\";\nimport Profile from \"./components/Profile\";\nimport People from \"./components/People\";\nimport Messages from \"./components/Messages\";\nimport Auth from \"./components/Auth\";\nimport Notifier from \"./components/Notifier\";\nimport theme from \"./Theme.json\";\nimport { navigationRef, isMountedRef } from \"./RootNavigation\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\n\nconst BottomTab = createBottomTabNavigator();\nconst Drawer = createDrawerNavigator();\nconst Stack = createStackNavigator();\n\nconst MainStack = () => {\n  return (\n    <BottomTab.Navigator\n      initialRouteName=\"People\"\n      screenOptions={({ route }) => ({\n        tabBarIcon: ({ focused, color, size }) => {\n          let iconName;\n\n          switch (route.name) {\n            case \"Home\":\n              iconName = \"home\";\n              break;\n            case \"Jobs\":\n              iconName = \"briefcase\";\n              break;\n            case \"People\":\n              iconName = \"account-group\";\n              break;\n            case \"Messages\":\n              iconName = \"forum\";\n              break;\n            default:\n              break;\n          }\n\n          return <Icon name={iconName} size={size} color={color} />;\n        }\n      })}\n      tabBarOptions={{\n        activeTintColor: theme.colors.primary,\n        inactiveTintColor: \"gray\"\n      }}\n    >\n      <BottomTab.Screen\n        name=\"People\"\n        component={People}\n        options={{ title: \"Alumnis\" }}\n      />\n      <BottomTab.Screen\n        name=\"Jobs\"\n        component={Jobs}\n        options={{ title: \"Emplois\" }}\n      />\n      <BottomTab.Screen\n        name=\"Messages\"\n        component={Messages}\n        options={{ title: \"Messages\" }}\n      />\n    </BottomTab.Navigator>\n  );\n};\n\nconst AppStack = () => {\n  if (state.isLoading) {\n    return <SplashScreen />;\n  }\n  const authContext = React.useMemo(\n    () => ({\n      signIn: async data => {\n        // In a production app, we need to send some data (usually username, password) to server and get a token\n        // We will also need to handle errors if sign in failed\n        // After getting token, we need to persist the token using `AsyncStorage`\n        // In the example, we'll use a dummy token\n\n        dispatch({ type: \"SIGN_IN\", token: \"dummy-auth-token\" });\n      },\n      signOut: () => dispatch({ type: \"SIGN_OUT\" }),\n      signUp: async data => {\n        // In a production app, we need to send user data to server and get a token\n        // We will also need to handle errors if sign up failed\n        // After getting token, we need to persist the token using `AsyncStorage`\n        // In the example, we'll use a dummy token\n\n        dispatch({ type: \"SIGN_IN\", token: \"dummy-auth-token\" });\n      }\n    }),\n    []\n  );\n  React.useEffect(() => {\n    // Fetch the token from storage then navigate to our appropriate place\n    const bootstrapAsync = async () => {\n      let userToken;\n\n      try {\n        userToken = await AsyncStorage.getItem(\"userToken\");\n      } catch (e) {\n        // Restoring token failed\n      }\n\n      // After restoring token, we may need to validate it in production apps\n\n      // This will switch to the App screen or Auth screen and this loading\n      // screen will be unmounted and thrown away.\n      dispatch({ type: \"RESTORE_TOKEN\", token: userToken });\n    };\n\n    bootstrapAsync();\n  }, []);\n\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn, shallowEqual);\n  return (\n    <View\n      style={{\n        flex: 1,\n        maxWidth: 500\n      }}\n    >\n      {isLoggedIn ? (\n        <Drawer.Navigator initialRouteName=\"Main\" headerMode=\"screen\">\n          <Drawer.Screen\n            name=\"Main\"\n            component={MainStack}\n            options={{ title: \"Acceuil\" }}\n          />\n          <Drawer.Screen\n            name=\"Profile\"\n            component={Profile}\n            options={{ title: \"Mon profil\" }}\n          />\n          <Drawer.Screen\n            name=\"MyJobs\"\n            component={MyJobs}\n            options={{ title: \"Mes offres d'emplois\" }}\n          />\n        </Drawer.Navigator>\n      ) : (\n        <Auth />\n      )}\n    </View>\n  );\n};\n\nconst App = () => {\n  React.useEffect(() => {\n    isMountedRef.current = true;\n\n    return () => (isMountedRef.current = false);\n  }, []);\n\n  return (\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <ThemeProvider theme={theme}>\n          <SafeAreaView\n            style={{\n              flex: 1,\n              flexDirection: \"row\",\n              justifyContent: \"center\"\n            }}\n          >\n            {Platform.OS === \"ios\" && <StatusBar barStyle=\"default\" />}\n            <NavigationContainer ref={navigationRef}>\n              <AppStack />\n              <Notifier />\n            </NavigationContainer>\n          </SafeAreaView>\n        </ThemeProvider>\n      </PersistGate>\n    </Provider>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}