(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{477:function(e,t,n){n(478),e.exports=n(669)},478:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/siee-gate-web/expo-service-worker.js",{scope:"/siee-gate-web/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},535:function(e,t){},56:function(e){e.exports=JSON.parse('{"colors":{"primary":"rgba(51,122,183,1)","primaryLight":"rgba(120,160,200,1)","secondary":"#2c2346","grey0":"rgba(66, 66, 66, 1)","grey1":"rgba(100, 100, 100, 1)","grey2":"rgba(133, 133, 133, 1)","grey3":"rgba(166, 166, 166, 1)","grey4":"rgba(200, 200, 200, 1)","grey5":"rgba(245, 245, 245, 1)","grey6":"rgba(100, 100, 100, 0.4)","greyOutline":"grey1","error":"rgba(207, 42, 42, 1)","success":"rgba(52, 186, 69, 1)","divider":"rgba(133, 133, 133, 1)"},"Button":{"containerStyle":{"marginBottom":8}},"Avatar":{"rounded":true},"Icon":{"type":"material-community"},"Input":{"containerStyle":{"marginBottom":12,"maxWidth":500},"leftIconContainerStyle":{"marginRight":12}},"ButtonGroup":{"containerStyle":{"marginBottom":16,"height":40}},"Overlay":{"overlayStyle":{"marginHorizontal":12,"paddingHorizontal":20,"borderRadius":12,"paddingVertical":16}}}')},661:function(e,t,n){var r={"./af":276,"./af.js":276,"./ar":277,"./ar-dz":278,"./ar-dz.js":278,"./ar-kw":279,"./ar-kw.js":279,"./ar-ly":280,"./ar-ly.js":280,"./ar-ma":281,"./ar-ma.js":281,"./ar-sa":282,"./ar-sa.js":282,"./ar-tn":283,"./ar-tn.js":283,"./ar.js":277,"./az":284,"./az.js":284,"./be":285,"./be.js":285,"./bg":286,"./bg.js":286,"./bm":287,"./bm.js":287,"./bn":288,"./bn.js":288,"./bo":289,"./bo.js":289,"./br":290,"./br.js":290,"./bs":291,"./bs.js":291,"./ca":292,"./ca.js":292,"./cs":293,"./cs.js":293,"./cv":294,"./cv.js":294,"./cy":295,"./cy.js":295,"./da":296,"./da.js":296,"./de":297,"./de-at":298,"./de-at.js":298,"./de-ch":299,"./de-ch.js":299,"./de.js":297,"./dv":300,"./dv.js":300,"./el":301,"./el.js":301,"./en-SG":302,"./en-SG.js":302,"./en-au":303,"./en-au.js":303,"./en-ca":304,"./en-ca.js":304,"./en-gb":305,"./en-gb.js":305,"./en-ie":306,"./en-ie.js":306,"./en-il":307,"./en-il.js":307,"./en-nz":308,"./en-nz.js":308,"./eo":309,"./eo.js":309,"./es":310,"./es-do":311,"./es-do.js":311,"./es-us":312,"./es-us.js":312,"./es.js":310,"./et":313,"./et.js":313,"./eu":314,"./eu.js":314,"./fa":315,"./fa.js":315,"./fi":316,"./fi.js":316,"./fo":317,"./fo.js":317,"./fr":112,"./fr-ca":318,"./fr-ca.js":318,"./fr-ch":319,"./fr-ch.js":319,"./fr.js":112,"./fy":320,"./fy.js":320,"./ga":321,"./ga.js":321,"./gd":322,"./gd.js":322,"./gl":323,"./gl.js":323,"./gom-latn":324,"./gom-latn.js":324,"./gu":325,"./gu.js":325,"./he":326,"./he.js":326,"./hi":327,"./hi.js":327,"./hr":328,"./hr.js":328,"./hu":329,"./hu.js":329,"./hy-am":330,"./hy-am.js":330,"./id":331,"./id.js":331,"./is":332,"./is.js":332,"./it":333,"./it-ch":334,"./it-ch.js":334,"./it.js":333,"./ja":335,"./ja.js":335,"./jv":336,"./jv.js":336,"./ka":337,"./ka.js":337,"./kk":338,"./kk.js":338,"./km":339,"./km.js":339,"./kn":340,"./kn.js":340,"./ko":341,"./ko.js":341,"./ku":342,"./ku.js":342,"./ky":343,"./ky.js":343,"./lb":344,"./lb.js":344,"./lo":345,"./lo.js":345,"./lt":346,"./lt.js":346,"./lv":347,"./lv.js":347,"./me":348,"./me.js":348,"./mi":349,"./mi.js":349,"./mk":350,"./mk.js":350,"./ml":351,"./ml.js":351,"./mn":352,"./mn.js":352,"./mr":353,"./mr.js":353,"./ms":354,"./ms-my":355,"./ms-my.js":355,"./ms.js":354,"./mt":356,"./mt.js":356,"./my":357,"./my.js":357,"./nb":358,"./nb.js":358,"./ne":359,"./ne.js":359,"./nl":360,"./nl-be":361,"./nl-be.js":361,"./nl.js":360,"./nn":362,"./nn.js":362,"./pa-in":363,"./pa-in.js":363,"./pl":364,"./pl.js":364,"./pt":365,"./pt-br":366,"./pt-br.js":366,"./pt.js":365,"./ro":367,"./ro.js":367,"./ru":368,"./ru.js":368,"./sd":369,"./sd.js":369,"./se":370,"./se.js":370,"./si":371,"./si.js":371,"./sk":372,"./sk.js":372,"./sl":373,"./sl.js":373,"./sq":374,"./sq.js":374,"./sr":375,"./sr-cyrl":376,"./sr-cyrl.js":376,"./sr.js":375,"./ss":377,"./ss.js":377,"./sv":378,"./sv.js":378,"./sw":379,"./sw.js":379,"./ta":380,"./ta.js":380,"./te":381,"./te.js":381,"./tet":382,"./tet.js":382,"./tg":383,"./tg.js":383,"./th":384,"./th.js":384,"./tl-ph":385,"./tl-ph.js":385,"./tlh":386,"./tlh.js":386,"./tr":387,"./tr.js":387,"./tzl":388,"./tzl.js":388,"./tzm":389,"./tzm-latn":390,"./tzm-latn.js":390,"./tzm.js":389,"./ug-cn":391,"./ug-cn.js":391,"./uk":392,"./uk.js":392,"./ur":393,"./ur.js":393,"./uz":394,"./uz-latn":395,"./uz-latn.js":395,"./uz.js":394,"./vi":396,"./vi.js":396,"./x-pseudo":397,"./x-pseudo.js":397,"./yo":398,"./yo.js":398,"./zh-cn":399,"./zh-cn.js":399,"./zh-hk":400,"./zh-hk.js":400,"./zh-tw":401,"./zh-tw.js":401};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=661},668:function(e,t,n){e.exports=n.p+"static/media/logo.0120364d.png"},669:function(e,t,n){"use strict";n.r(t);var r=n(684),a=n(17),o=n.n(a),i=n(0),l=n.n(i),c=n(39),s=n(26),u=n(2),m=n(470),d=n(9),g=n(58),p=n(73),f=n(432),E=n(24),b=n.n(E),y=n(10),h=n.n(y),v=i.createRef(),S=i.createRef();function j(e,t){v.current&&S.current&&S.current.navigate(e,t)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={isLoggingIn:!1,isLoggingOut:!1,isFetchingUserInfo:!1,isLoggedIn:!1,loggedInAt:null,user:null,userInfoUpdatedAt:null,userInfoError:null,authError:null,logOutError:null,isSigningUp:!1,token:null,userInfoUpdatedAt:null,signUpError:null,isDeletingAccount:!1};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={users:[],isFetching:!1,lastUpdatedAt:null,isLoaded:!1};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={notification:null,form:null,show:!1,timeout:null};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={jobs:[],isFetching:!1,lastUpdatedAt:null,isLoaded:!1};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={conversations:[],conversationsIds:[],interlocutorsIds:[],lastUpdatedAt:null,isLoaded:!1,isFetchingConversations:!1,isFetchingConversation:!1},V=Object(p.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_AUTH_TOKEN":return C({},e,{},t.data);case"REQUEST_SIGN_UP":case"REQUEST_SIGN_UP":return C({},e,{isSigningUp:!0,signUpError:null});case"REQUEST_LOG_IN":return C({},e,{isLoggingIn:!0});case"REQUEST_LOG_OUT":return C({},e,{isloggingOut:!0});case"REQUEST_UPDATE_USER":return C({},e,{isUpdatingUser:!0});case"REQUEST_DELETE_ACCOUNT":return C({},e,{isDeletingAccount:!0});case"REQUEST_UPDATE_PASSWORD":return C({},e,{isUpdatingPassword:!0});case"REQUEST_MY_JOBS":return C({},e,{isFetching:!0});case"REQUEST_UPDATE_JOB":return C({},e,{isUpdatingJob:!0});case"REQUEST_CREATE_JOB":return e;case"REQUEST_VERIFY_TOKEN:SUCCESS":return C({},e,{tokenVerifiedAt:t.receivedAt});case"REQUEST_LOG_IN:SUCCESS":return C({},e,{isLoggingIn:!1,isLoggedIn:!0,loggedInAt:t.receivedAt,userInfoUpdatedAt:t.receivedAt,logInError:null},t.data);case"REQUEST_SIGN_UP:SUCCESS":return C({},e,{isSigningUp:!1,user:t.user,token:t.token,loggedInAt:t.receivedAt,isLoggedIn:!0,userInfoUpdatedAt:t.receivedAt,signUpError:null},t.data);case"REQUEST_LOG_OUT:SUCCESS":return T;case"REQUEST_UPDATE_USER:SUCCESS":return C({},e,{updateUserError:null,isUpdatingUser:!1,userInfoUpdatedAt:t.receivedAt},t.data);case"REQUEST_MY_JOBS:SUCCESS":return C({},e,{isFetching:!1,fetchMyJobsError:null,lastUpdatedAt:t.receivedAt,isLoaded:!0},t.data);case"REQUEST_UPLOAD_FILE:SUCCESS":return C({},e,{},t.data);case"REQUEST_DELETE_ACCOUNT:SUCCESS":return T;case"REQUEST_UPDATE_PASSWORD:SUCCESS":return C({},e,{updatePasswordError:null});case"REQUEST_UPDATE_JOB:SUCCESS":return C({},e,{user:C({},e.user,{jobs:t.data.jobs}),isUpdatingJob:!1});case"REQUEST_CREATE_JOB:SUCCESS":return C({},e,{user:C({},e.user,{jobs:[t.data.job].concat(b()(e.user.jobs))})});case"REQUEST_VERIFY_TOKEN:ERROR":return T;case"REQUEST_MY_JOBS:ERROR":return C({},e,{isFetching:!1,lastUpdatedAt:t.receivedAt,isLoaded:!0,fetchMyJobsError:"Vos offres d'emploi n'ont pas pu \xeatre r\xe9cup\xe9r\xe9es, essayez de nouveau."});case"REQUEST_DELETE_ACCOUNT:ERROR":return C({},e,{isDeletingAccount:!1,deleteAccountError:"Cela n'a pas march\xe9. Peut-\xeatre le mot de passe \xe9tait-il incorrect."});case"REQUEST_UPDATE_USER:ERROR":return C({},e,{isUpdatingUser:!1,updateUserError:"Cela n'a pas march\xe9. Peut-\xeatre le mot de passe \xe9tait-il incorrect."});case"REQUEST_UPDATE_PASSWORD:ERROR":return C({},e,{isUpdatingPassword:!1,updatePasswordError:"Cela n'a pas march\xe9. Peut-\xeatre le mot de passe \xe9tait-il incorrect."});case"REQUEST_LOG_IN:ERROR":return C({},e,{logInError:"Cela n'a pas march\xe9. Peut-\xeatre le mot de passe \xe9tait-il incorrect.",isLoggingIn:!1});case"REQUEST_SIGN_UP:ERROR":return C({},e,{isSigningUp:!1,signUpError:"Cela n'a pas march\xe9, essayez un autre email."});case"REQUEST_UPDATE_JOB:ERROR":return C({},e,{},t.state,{isUpdatingJob:!1});case"REQUEST_CREATE_JOB:ERROR":return C({},e,{},t.state);default:return e}},overlay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_OVERLAY":return P({},t.payload,{show:!0});case"ASK_USER_INPUT":return{form:t.form,show:!0};case"RESET_OVERLAY":return _;default:return e}},jobs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_JOBS":return A({},e,{isFetching:!0});case"REQUEST_JOBS:SUCCESS":return A({},e,{isFetching:!1,lastUpdatedAt:t.receivedAt,isLoaded:!0},t.data);case"REQUEST_JOBS:ERROR":return A({},e,{isFetching:!1,lastUpdatedAt:t.receivedAt,isLoaded:!0});case"REQUEST_DELETE_JOB":return A({},e,{isDeleting:!0});case"REQUEST_DELETE_JOB:SUCCESS":return A({},e,{isDeleting:!1,lastUpdatedAt:t.receivedAt});case"REQUEST_CREATE_JOB:SUCCESS":return A({},e,{jobs:[t.data.job].concat(b()(e.jobs))});case"REQUEST_DELETE_JOB:ERROR":return A({},e,{isFetchingConversations:!1});case"REQUEST_LOG_OUT:SUCCESS":return D;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_USERS":return w({},e,{isFetching:!0});case"REQUEST_USERS:SUCCESS":case"REQUEST_USERS:ERROR":return w({},t.data,{isFetching:!1,lastUpdatedAt:t.receivedAt,isLoaded:!0});case"REQUEST_LOG_OUT:SUCCESS":return x;default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_DELETE_CONVERSATION":return I({},e,{isDeleting:!0});case"REQUEST_DELETE_CONVERSATION:SUCCESS":return I({},N,{isDeleting:!1});case"REQUEST_DELETE_CONVERSATION:ERROR":return I({},e,{isFetchingConversations:!1});case"REQUEST_CONVERSATIONS":return I({},e,{isFetchingConversations:!0});case"REQUEST_CONVERSATIONS:SUCCESS":return I({},e,{lastUpdatedAt:t.receivedAt,isLoaded:!0,isFetchingConversations:!1},t.data);case"RECEIVE_CONVERSATIONS:ERROR":return I({},e,{isFetchingConversations:!1});case"REQUEST_CONVERSATION":return I({},e,{isFetchingConversation:!0});case"REQUEST_CONVERSATION:SUCCESS":return e.conversations.splice(e.conversations.map((function(e){return e._id})).indexOf(t.data._id),1,t.data),I({},e,{lastUpdatedAt:t.receivedAt,isLoaded:!0,isFetchingConversation:!1});case"RECEIVE_CONVERSATION:ERROR":return I({},e,{isFetchingConversation:!1});case"RECEIVE_MESSAGE":return I({},e,{lastUpdatedAt:t.receivedAt,conversations:t.newConv?[I({},t.conversation,{messages:[t.message]})].concat(b()(e.conversations)):[I({},e.conversations.filter((function(e){return e._id===t.conversation._id}))[0],{lastMessage:t.message,messages:[t.message].concat(b()(e.conversations.filter((function(e){return e._id===t.conversation._id}))[0].messages))})].concat(b()(e.conversations.filter((function(e){return e._id!==t.conversation._id})))),isLoaded:!0});case"REQUEST_LOG_OUT:SUCCESS":return N;default:return e}}}),L=n(433),M=n.n(L),B=n(218),Q=n.n(B),H={baseUrl:"https://siee-gate.herokuapp.com/api/",clientId:"1",clientSecret:"xc34jamesDevV41XwKbWhrsGgHvR3hjwG8"};H.baseUrl="https://siee-gate.herokuapp.com/api/";var J=function(e){return{type:"SHOW_OVERLAY",payload:{notification:e.notification,form:e.form,menu:e.menu,timeout:e.timeout,dispatchCallback:e.dispatchCallback,redirect:e.redirect}}},W=n(434),G=n(220),F={key:"root",storage:W.a,blacklist:["overlay"]},Y=Object(G.a)(F,V),q=[f.a,function(e){return function(e){return function(t){return console.log(t.type),e(t)}}},function(e){return function(t){return function(n){var r;return"REQUEST"===n.type.substring(0,7)&&!1===n.type.includes(":")?(r="REQUEST_UPLOAD"===n.type.substring(0,14)?Q.a.create({baseURL:H.baseUrl,timeout:3e3,headers:{accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data",Authorization:"Bearer "+e.getState().auth.token}}):Q.a.create({baseURL:H.baseUrl,timeout:3e3,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer "+e.getState().auth.token}}),new Promise((function(e,t){switch(n.method){case"GET":return e(r.get(n.route));case"POST":return e(r.post(n.route,n.payload));case"DELETE":return e(r.delete(n.route,n.payload));case"PATCH":return e(r.patch(n.route,n.payload));default:return}})).then((function(t){return n.successNotification&&e.dispatch(J({timeout:3e3,redirect:n.successNotification.redirect,dispatchCallback:n.successNotification.dispatchCallback,notification:{variant:"success",message:n.successNotification.message}})),e.dispatch({type:n.type+":SUCCESS",data:t.data,receivedAt:new Date})})).catch((function(t){var r,a,o;(console.log(t),n.errorNotification||!0===(null==(r=t.response)?void 0:r.data.forceReconnect))&&e.dispatch(J({timeout:3e3,dispatchCallback:(null==(a=t.response)?void 0:a.data.forceReconnect)&&"REQUEST_LOG_OUT:SUCCESS",notification:{variant:"error",message:(null==(o=t.response)?void 0:o.data.message)||"Cela n'a pas march\xe9..."}}));return e.dispatch({type:n.type+":ERROR",error:t,receivedAt:new Date})})),t(n)):t(n)}}},function(){var e;return function(t){return function(n){return function(r){if("REQUEST_LOG_IN:SUCCESS"===r.type||"REQUEST_SIGN_UP:SUCCESS"===r.type||"REQUEST_VERIFY_TOKEN:SUCCESS"===r.type){var a=r.data.token;(e=M()(H.baseUrl.replace("/api/",""),{forceNode:!0,transportOptions:{polling:{extraHeaders:{"Access-Control-Allow-Origin":"*",authorization:a}}}})).on("connected",(function(e){console.log("Socket connected")})),e.on("unauthorized",(function(e){console.log("Socket disconnected")})),e.on("authenticated",(function(e){console.log("Socket authenticated")})),e.on("message",(function(e){t.dispatch({type:"RECEIVE_MESSAGE",message:e.message,conversation:e.conversation,newConv:e.newConv,receivedAt:new Date})}))}return e&&("SOCKET"===r.type.substring(0,6)&&e.emit(r.event,r.payload),"REQUEST_LOG_OUT:SUCCESS"===r.type&&(e.disconnect(),console.log("socket disconnected"))),n(r)}}}}()],K=Object(p.d)(Y,p.a.apply(void 0,q)),X=Object(G.b)(K);K.subscribe((function(){}));var Z=n(436),$=n(413),ee=n(683),te=n(681),ne=n(13),re=n(682),ae=n(16),oe=n(68),ie=n(30),le=n(34),ce=n.n(le),se=n(471),ue=n(685),me=Object(s.b)((function(e){return{auth:e.auth}}),(function(e){return{logOut:function(){return e({type:"REQUEST_LOG_OUT",route:"/auth/logout",method:"GET",errorNotification:!0})}}}))((function(e){var t=e.navigation,n=e.leftButton,r=e.title,a=e.logOut,o=e.noRightButton,c=Object(i.useContext)(ne.g).theme;return l.a.createElement(ue.a,{colors:[c.colors.primary,c.colors.secondary],start:[.25,1],end:[.25,0],style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:"web"===d.a.OS?10:se.a.statusBarHeight,paddingHorizontal:10,paddingBottom:8}},l.a.createElement((function(){switch(n){case"profile":return l.a.createElement(ne.d,{name:"menu",onPress:function(){return t.openDrawer()},color:"white"});case"back":return l.a.createElement(ne.d,{name:"arrow-left",color:"white",onPress:function(){return j("Main")}});default:return l.a.createElement(ne.d,{name:"menu",onPress:function(){return t.openDrawer()},color:"white"})}}),null),l.a.createElement((function(){return l.a.createElement(u.a,null,l.a.createElement(ae.a,{style:{color:"white",fontSize:20,textAlign:"center"}},r))}),null),l.a.createElement((function(){return o?l.a.createElement(u.a,null):l.a.createElement(u.a,null,l.a.createElement(ne.d,{name:"logout",color:"white",onPress:function(){return a()}}))}),null))})),de=(n(112),n(14)),ge=n.n(de),pe=function(e){var t=e.item,n=e.navigation,r=Object(i.useContext)(ne.g).theme;return l.a.createElement(ie.a,{onPress:function(){return n.navigate("Edit",{job:t})}},l.a.createElement(u.a,{style:{paddingTop:8,paddingHorizontal:20,marginVertical:4,marginHorizontal:0,borderBottomWidth:1,borderBottomColor:r.colors.grey4,paddingVertical:12,flexDirection:"row"}},l.a.createElement(u.a,{style:{flex:1}},l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",fontWeight:"bold",fontSize:16}},null==t?void 0:t.jobTitle," en ",null==t?void 0:t.employmentType),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ne.d,{name:"briefcase",size:20,color:"grey"}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginStart:8}},null==t?void 0:t.organisation)),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center",flex:1}},l.a.createElement(ne.d,{name:"map-marker",size:20}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginStart:8,flex:1}},ce.a.capitalize(null==t?void 0:t.city)),l.a.createElement(ae.a,{color:"grey",style:{color:"grey",fontSize:10,textAlignVertical:"bottom"}},ce.a.capitalize(ge()(null==t?void 0:t.publishedAt).locale("fr").fromNow()))))))},fe=Object(s.b)((function(e){return{jobs:e.jobs,auth:e.auth}}),(function(e){return{fetchMyJobs:function(){return e({type:"REQUEST_MY_JOBS",route:"jobs/me",method:"GET"})}}}))((function(e){var t=e.auth,n=e.navigation,r=e.fetchMyJobs;return Object(i.useEffect)((function(){r()}),[]),l.a.createElement(u.a,{style:{flex:1,backgroundColor:"white"}},l.a.createElement(me,{title:"Mes offres d'emploi",navigation:n,noRightButton:!0,leftButton:"back"}),l.a.createElement(oe.a,{data:t.user.jobs,renderItem:function(e){var t=e.item;return l.a.createElement(pe,{item:t,navigation:n})},keyExtractor:function(e){return null==e?void 0:e._id}}))})),Ee=n(19),be=n.n(Ee),ye=n(100),he=n(46);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Se=Object(s.b)((function(e){return{jobs:e.jobs,auth:e.auth}}),(function(e){return{updateJob:function(t){return e(function(e){return{type:"REQUEST_UPDATE_JOB",method:"PATCH",route:"jobs/"+e._id,payload:e,successNotification:{message:"Votre offre d'emploi a \xe9t\xe9 mise \xe0 jour.",variant:"success",redirect:"MyJobs",timeout:1e3},errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}}(t))},deleteJob:function(t){return e(function(e){return{type:"REQUEST_DELETE_JOB",method:"DELETE",route:"jobs/"+e,successNotification:{message:"Offre d'emploi supprim\xe9e.",variant:"success",redirect:"MyJobs",timeout:1e3},errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}}(t))},fetchMyJobs:function(){return e({type:"REQUEST_MY_JOBS",route:"jobs/me",method:"GET"})}}}))((function(e){var t=e.updateJob,n=e.deleteJob,r=e.route,a=e.fetchMyJobs,c=e.navigation,s=Object(i.useState)(!1),m=be()(s,2),d=m[0],g=m[1],p=Object(i.useState)(!1),f=be()(p,2),E=f[0],b=f[1],y=r.params.job,v=Object(i.useContext)(ne.g).theme,S=Object(i.useState)(y.employmentType),j=be()(S,2),O=j[0],C=j[1],T=Object(i.useState)(y.asap),R=be()(T,2),w=R[0],x=R[1],U=Object(i.useState)(y.organisation),P=be()(U,2),_=P[0],z=P[1],A=Object(i.useState)(y.city),D=be()(A,2),k=D[0],I=D[1],N=Object(i.useState)(y.salary),V=be()(N,2),L=V[0],M=V[1],B=Object(i.useState)(y.jobTitle),Q=be()(B,2),H=Q[0],J=Q[1],W=Object(i.useState)(y.jobDesc),G=be()(W,2),F=G[0],Y=G[1],q=Object(i.useState)(""+y.minExp),K=be()(q,2),X=K[0],Z=K[1],$=Object(i.useState)(y.contact),ee=be()($,2),te=ee[0],re=ee[1],oe=Object(i.useState)({}),ie=be()(oe,2),le=ie[0],ce=ie[1],se=function(){return O?_?k?F?H?X?(t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},y,{employmentType:O,asap:w,organisation:_,city:k,salary:L,jobDesc:F,jobTitle:H,minExp:X,contact:te})),x(!1),I(),M(),re(),ce({}),C(),z(),Y(),void J()):ce({minExp:"Ce champs est obligatoire."}):ce({jobTitle:"Ce champs est obligatoire."}):ce({jobDesc:"Ce champs est obligatoire."}):ce({city:"Ce champs est obligatoire."}):ce({organisation:"Ce champs est obligatoire."}):ce({employmentType:"Ce champs est obligatoire."})};return l.a.createElement(u.a,{style:{flex:1,alignContent:"space-between",paddingVertical:8,paddingHorizontal:8,backgroundColor:"white"}},l.a.createElement(he.a,null,l.a.createElement(ne.e,{label:"Type de contrat*",placeholder:"CDI, CDD, Apprentissage...",value:O,onChangeText:function(e){return C(e)},errorMessage:le.employmentType}),l.a.createElement(ne.e,{label:"Organisation*",placeholder:"Deloitte, Engie, EY...",value:_,onChangeText:function(e){return z(e)},errorMessage:le.organisation}),l.a.createElement(ne.e,{placeholder:"Paris, Shanghai, Lyon...",label:"Ville*",value:k,onChangeText:function(e){return I(e)},errorMessage:le.city}),l.a.createElement(ne.e,{placeholder:"Auditeur des SI, Pentester junior...",label:"Intitul\xe9 du poste*",value:H,onChangeText:function(e){return J(e)},errorMessage:le.jobTitle}),l.a.createElement(ne.e,{label:"Description du poste*",multiline:!0,inputStyle:{height:200,textAlignVertical:"top"},placeholder:"Les missions, les comp\xe9tences requises, l'employeur...",value:F,onChangeText:function(e){return Y(e)},errorMessage:le.jobDesc}),l.a.createElement(ne.e,{label:"Exp\xe9rience*",placeholder:"Ann\xe9es pass\xe9es dans un poste similaire",value:X,keyboardType:"number-pad",onChangeText:function(e){return Z(e)},errorMessage:le.minExp}),l.a.createElement(ne.e,{label:"R\xe9mun\xe9ration",placeholder:"En \u20ac",keyboardType:"decimal-pad",value:L,onChangeText:function(e){return M(e)},showSoftInputOnFocus:!1,errorMessage:le.salary}),l.a.createElement(u.a,{style:{marginBottom:12,flexDirection:"row",display:"flex",height:40}},l.a.createElement(ae.a,{style:{color:v.colors.grey3,fontWeight:"bold",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:"center"}},"Poste \xe0 pourvoir d\xe8s que possible"),l.a.createElement(ye.a,{trackColor:{false:v.colors.grey4,true:v.colors.primarySoft},thumbColor:w?v.colors.primary:v.colors.grey2,value:w,onValueChange:function(e){return x(e)}})),l.a.createElement(ne.e,{label:"Contact",placeholder:"Email",value:te,onChangeText:function(e){return re(e)},errorMessage:le.contact})),l.a.createElement(u.a,{style:{paddingTop:8}},l.a.createElement(ne.b,{title:"Valider les changements",loading:E,onPress:function(){b(!0),se(),b(!1),a(),c.navigate("Read")},buttonStyle:{backgroundColor:v.colors.primary}}),l.a.createElement(ne.b,{title:"Supprimer l'offre",loading:d,onPress:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,o.a.awrap(n(y._id));case 3:g(!1),a(),c.navigate("Read");case 6:case"end":return e.stop()}}),null,null,null,Promise)},buttonStyle:{backgroundColor:v.colors.error}})))})),je=Object(re.a)(),Oe=function(){return l.a.createElement(u.a,{style:{flex:1}},l.a.createElement(je.Navigator,{initialRouteName:"Read",headerMode:"screen"},l.a.createElement(je.Screen,{name:"Read",component:fe,options:{headerShown:!1}}),l.a.createElement(je.Screen,{name:"Edit",component:Se,options:{title:"Modifier"}})))},Ce=n(121),Te=n(51),Re=n(56),we=function(e){var t=e.item,n=e.navigation;return l.a.createElement(c.f,{onPress:function(){return n.navigate("Read",{job:t})}},l.a.createElement(u.a,{style:{paddingTop:8,paddingHorizontal:20,marginVertical:4,marginHorizontal:0,borderBottomWidth:1,borderBottomColor:Re.colors.grey4,paddingVertical:12,flexDirection:"row"}},l.a.createElement(u.a,{style:{flex:1}},l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",fontWeight:"bold",fontSize:16}},null==t?void 0:t.jobTitle," en ",null==t?void 0:t.employmentType),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ne.d,{name:"briefcase",size:20,color:"grey"}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginStart:8}},null==t?void 0:t.organisation)),l.a.createElement(u.a,{style:{flexDirection:"row",flex:1,alignItems:"center"}},l.a.createElement(ne.d,{name:"map-marker",size:20}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginStart:8,flex:1}},ce.a.capitalize(null==t?void 0:t.city)),l.a.createElement(ae.a,{color:"grey",style:{color:"grey",fontSize:10,textAlignVertical:"bottom"}},ce.a.capitalize(ge()(null==t?void 0:t.publishedAt).locale("fr").fromNow()))))))},xe=Object(s.b)((function(e){return{auth:e.auth,jobs:e.jobs}}),(function(e){return{fetchJobs:function(){return e({type:"REQUEST_JOBS",route:"jobs",method:"GET"})}}}))((function(e){var t=e.navigation,n=e.fetchJobs,r=e.jobs,a=Object(i.useState)(!1),o=be()(a,2),c=o[0],s=o[1];Object(i.useEffect)((function(){n()}),[]);var m=Object(i.useCallback)((function(){s(!0),n(),s(!1)}),[c]);return l.a.createElement(u.a,{style:{flex:1}},r.isLoaded?l.a.createElement(oe.a,{style:{borderRadius:0,shadowOffset:{width:10,height:10},shadowColor:"black",shadowOpacity:.3,elevation:2,backgroundColor:"white"},data:r.jobs,renderItem:function(e){var n=e.item;return l.a.createElement(we,{item:n,navigation:t})},keyExtractor:function(e){return null==e?void 0:e._id},refreshControl:l.a.createElement(Ce.a,{refreshing:c,onRefresh:m})}):l.a.createElement(u.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(Te.a,{size:"large"})),l.a.createElement(ne.b,{containerStyle:{position:"absolute",bottom:0,left:10},buttonStyle:{borderRadius:50},icon:l.a.createElement(ne.d,{name:"plus",size:30,color:"white"}),onPress:function(){return t.navigate("Post")}}))})),Ue=Object(s.b)((function(e){return{auth:e.auth,jobs:e.jobs}}),(function(e){return{fetchJobs:function(){return e({type:"REQUEST_JOBS",route:"jobs",method:"GET"})}}}))((function(e){var t=e.route.params.job;return l.a.createElement(u.a,{style:{flex:1,alignContent:"space-between",paddingVertical:10,paddingHorizontal:8,backgroundColor:"white"}},l.a.createElement(he.a,{style:{flex:1,paddingHorizontal:12}},l.a.createElement(u.a,{style:{alignItems:"flex-end"}},l.a.createElement(ae.a,{style:{color:"grey",fontSize:12,textAlignVertical:"bottom"}},ce.a.capitalize(ge()(t.publishedAt).locale("fr").fromNow()))),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ne.d,{name:"briefcase",size:25,color:"grey"}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginStart:8,fontSize:20}},t.organisation)),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ne.d,{name:"map-marker",size:25,color:Re.colors.grey2}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginStart:8,fontSize:20}},ce.a.capitalize(t.city))),l.a.createElement(ae.a,{style:{color:Re.colors.grey3,fontWeight:"bold",fontSize:16,marginTop:8}},"Description"),l.a.createElement(ae.a,{style:{marginBottom:4,textAlign:"justify",fontSize:16}},t.jobDesc),t.salary&&l.a.createElement(ae.a,null,"R\xe9mun\xe9ration \xe0 hauteur de ",t.salary," brut."),t.asap&&l.a.createElement(ae.a,{style:{color:Re.colors.primary}},"Poste \xe0 pourvoir d\xe8s que possible."),l.a.createElement(ae.a,{style:{color:Re.colors.grey3,fontWeight:"bold",fontSize:16,marginTop:8}},"Contact"),l.a.createElement(ae.a,null,t.contact)))})),Pe=n(469),_e=n.n(Pe),ze=function(e){_e()(e);var t=Object(i.useContext)(ne.g).theme,n=Object(s.d)(),r=Object(i.useState)(!1),a=be()(r,2),o=a[0],c=a[1],m=Object(i.useState)({}),d=be()(m,2),g=d[0],p=d[1],f=Object(i.useState)(""),E=be()(f,2),b=E[0],y=E[1],h=Object(i.useState)(!1),v=be()(h,2),S=v[0],j=v[1],O=Object(i.useState)(""),C=be()(O,2),T=C[0],R=C[1],w=Object(i.useState)(""),x=be()(w,2),U=x[0],P=x[1],_=Object(i.useState)(""),z=be()(_,2),A=z[0],D=z[1],k=Object(i.useState)(""),I=be()(k,2),N=I[0],V=I[1],L=Object(i.useState)(),M=be()(L,2),B=M[0],Q=M[1],H=Object(i.useState)(),J=be()(H,2),W=J[0],G=J[1],F=Object(i.useState)(""),Y=be()(F,2),q=Y[0],K=Y[1],X=!!(U&&T&&b&&N&&A&&q);return l.a.createElement(u.a,{style:{flex:1}},l.a.createElement(u.a,{style:{flex:1,backgroundColor:"white"}},l.a.createElement(he.a,{style:{paddingHorizontal:12,paddingTop:20,paddingBottom:100}},l.a.createElement(ne.e,{label:"Type de contrat*",placeholder:"CDI, CDD, Apprentissage...",value:b,onChangeText:function(e){return y(e)},errorMessage:g.employmentType}),l.a.createElement(ne.e,{label:"Organisation*",placeholder:"Deloitte, Engie, EY...",value:T,onChangeText:function(e){return R(e)},errorMessage:g.organisation}),l.a.createElement(ne.e,{placeholder:"Paris, Shanghai, Lyon...",label:"Ville*",value:U,onChangeText:function(e){return P(e)},errorMessage:g.city}),l.a.createElement(ne.e,{placeholder:"Auditeur des SI, Pentester junior...",label:"Intitul\xe9 du poste*",value:A,onChangeText:function(e){return D(e)},errorMessage:g.jobTitle}),l.a.createElement(ne.e,{label:"Description du poste*",multiline:!0,inputStyle:{height:200,textAlignVertical:"top"},placeholder:"Les missions, les comp\xe9tences requises, l'employeur...",value:N,onChangeText:function(e){return V(e)},errorMessage:g.jobDesc}),l.a.createElement(ne.e,{label:"Exp\xe9rience",placeholder:"Ann\xe9es pass\xe9es dans un poste similaire",value:W,keyboardType:"number-pad",onChangeText:function(e){return G(e)},errorMessage:g.minExp}),l.a.createElement(ne.e,{label:"R\xe9mun\xe9ration",placeholder:"En \u20ac",keyboardType:"decimal-pad",value:B,onChangeText:function(e){return Q(e)},showSoftInputOnFocus:!1,errorMessage:g.salary}),l.a.createElement(u.a,{style:{marginBottom:12,flexDirection:"row",display:"flex",height:40}},l.a.createElement(ae.a,{style:{color:t.colors.grey3,fontWeight:"bold",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:"center"}},"Poste \xe0 pourvoir d\xe8s que possible"),l.a.createElement(ye.a,{value:S,onValueChange:function(e){return j(e)}})),l.a.createElement(ne.e,{label:"Contact*",placeholder:"Email",value:q,onChangeText:function(e){return K(e)},errorMessage:g.contact}),l.a.createElement(ne.b,{title:X?"Poster l'offre d'emploi":"Veuillez remplir tous les champs obligatoires",loading:o,disabled:!X,buttonStyle:{height:50,marginBottom:12},onPress:function(){return c(!0),n({type:"REQUEST_CREATE_JOB",route:"jobs",payload:{employmentType:b,asap:S,organisation:T,city:U,salary:B,jobDesc:N,jobTitle:A,minExp:W,contact:q},method:"POST",successNotification:{message:"Votre offre d'emploi a \xe9t\xe9 cr\xe9\xe9e",redirect:"MyJobs"},errorNotification:!0}),c(!1),j(!1),P(),Q(),K(),p({}),y(),R(),V(),D(),void c(!1)}}),l.a.createElement(u.a,{style:{height:20}}))))},Ae=Object(re.a)(),De=function(e){var t=e.navigation;return l.a.createElement(u.a,{style:{flex:1}},l.a.createElement(me,{title:"Emplois",navigation:t}),l.a.createElement(Ae.Navigator,{initialRouteName:"List",headerMode:"screen"},l.a.createElement(Ae.Screen,{name:"List",component:xe,options:{headerShown:!1}}),l.a.createElement(Ae.Screen,{name:"Read",component:Ue,options:function(e){var t=e.route;return{title:t.params.job.jobTitle+" - "+t.params.job.employmentType,headerStatusBarHeight:0}}}),l.a.createElement(Ae.Screen,{name:"Post",component:ze,options:{title:"Poster une offre d'emploi",headerStatusBarHeight:0}})))},ke=n(221),Ie=Object(s.b)((function(e){return{auth:e.auth}}),(function(e){return{uploadFile:function(t,n){return e(function(e,t){var n=new FormData,r=e.uri.split("/");return n.append(t,{uri:e.uri,name:r[r.length-1],type:"image/jpeg"}),{type:"REQUEST_UPLOAD_FILE",route:"files",payload:n,method:"POST",successNotification:{message:"Votre document a bien \xe9t\xe9 enregistr\xe9 dans la base de donn\xe9es.",variant:"success",redirect:"Profile",timeout:2e3},errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}}(t,n))},deleteFile:function(t,n){return e(function(e,t){return{type:"REQUEST_DELETE_FILE",route:"files/"+e+"/"+t,method:"DELETE",successNotification:{message:"Votre document a bien \xe9t\xe9 supprim\xe9 de la base de donn\xe9es.",variant:"success",timeout:2e3},errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}}(t,n))}}}))((function(e){var t,n=e.uploadFile,r=e.auth,a=e.navigation,c=e.deleteFile,s=Object(i.useState)(!1),m=be()(s,2),d=m[0],g=m[1],p=Object(i.useContext)(ne.g).theme,f=r.user;return l.a.createElement(u.a,{style:{flex:1}},l.a.createElement(me,{navigation:a,title:"Mon profil",leftButton:"back",noRightButton:!0}),r.user?l.a.createElement(u.a,{style:{flex:1,alignContent:"space-between",backgroundColor:"white"}},l.a.createElement(he.a,{style:{paddingTop:40,flex:1,paddingHorizontal:12}},l.a.createElement(ue.a,{colors:[p.colors.primary,p.colors.secondary],start:[.25,1],end:[0,0],style:{flexDirection:"row",marginBottom:20,paddingVertical:8,paddingHorizontal:16,borderRadius:5}},l.a.createElement(u.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(ae.a,{style:{fontSize:20,color:p.colors.grey5}},ce.a.capitalize(f.firstname)),l.a.createElement(ae.a,{style:{fontSize:30,color:"white",fontWeight:"bold"}},ce.a.capitalize(f.lastname))),f.avatar?l.a.createElement(ne.a,{size:"xlarge",containerStyle:{borderColor:"white",borderWidth:3},source:{uri:"https://siee-gate.herokuapp.com/api/files/avatar/"+(null==(t=f.avatar)?void 0:t.filename)},onPress:function(){return g(!d)}}):l.a.createElement(ne.a,{size:"xlarge",containerStyle:{borderColor:"white",borderWidth:3},title:f.firstname.charAt(0).concat(f.lastname.charAt(0)).toUpperCase(),onPress:function(){return g(!d)}}),d&&l.a.createElement(u.a,{style:{paddingHorizontal:4,alignContent:"center",justifyContent:"center"}},l.a.createElement(ne.b,{icon:l.a.createElement(ne.d,{name:"pencil",color:p.colors.grey4}),onPress:function(){return function(){var e;o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(ke.b());case 2:return t.next=4,o.a.awrap(ke.a({allowsEditing:!0}));case 4:!(e=t.sent).cancelled&&n(e,"avatar");case 6:case"end":return t.stop()}}),null,null,null,Promise)}(),void g(!1)},buttonStyle:{backgroundColor:p.colors.primaryLight,width:40,height:40,borderRadius:40}}),l.a.createElement(ne.b,{icon:l.a.createElement(ne.d,{name:"delete",color:p.colors.grey4}),buttonStyle:{backgroundColor:p.colors.grey0,width:40,height:40,borderRadius:40},onPress:function(){var e;return c("avatar",null==(e=f.avatar)?void 0:e.filename)}}))),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ne.d,{name:"briefcase",size:20,color:"grey"}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginHorizontal:8,flex:1}},f.jobTitle," chez ",f.organisation)),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ne.d,{name:"school",size:20,color:"grey"}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginHorizontal:8,flex:1}},"Promotion ",f.promo)),l.a.createElement(ne.c,{style:{marginVertical:20,backgroundColor:"grey",borderWidth:1,width:20}}),l.a.createElement(u.a,{style:{flexDirection:"row"}},l.a.createElement(ae.a,{style:{textAlign:"justify",flex:1,marginEnd:8}},f.description)),l.a.createElement(ne.c,{style:{marginVertical:20,backgroundColor:"grey",borderWidth:1,width:20}}),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ne.d,{name:"at",size:20,color:"grey"}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginStart:8,flex:1}},f.email))),l.a.createElement(u.a,null,l.a.createElement(ne.b,{title:"Editer",onPress:function(){return a.navigate("Edit")}}))):l.a.createElement(u.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(ActivityIndicator,{size:"large"})))}));function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ve=Object(s.b)((function(e){return{auth:e.auth}}),(function(e){return{updateUser:function(t){return e(function(e){return{type:"REQUEST_UPDATE_USER",method:"PATCH",route:"auth",payload:e,successNotification:{message:"Vos informations ont \xe9t\xe9 mises \xe0 jour.",variant:"success",redirect:"Read",timeout:1e3},errorNotification:!0}}(t))},deleteAccount:function(t){return e({type:"REQUEST_DELETE_ACCOUNT",method:"DELETE",route:"auth",successNotification:{message:"Votre compte a bien \xe9t\xe9 supprim\xe9.",variant:"success",timeout:1e3},errorNotification:!0})},updateUserPassword:function(t,n){return e(function(e,t){return{type:"REQUEST_UPDATE_USER",method:"PATCH",route:"auth/password",payload:{password:e,newPassword:t},successNotification:{message:"Votre mot de passe \xe0 \xe9t\xe9 mises \xe0 jour.",variant:"success",redirect:"Read",timeout:1e3},errorNotification:!0}}(t,n))}}}))((function(e){var t=e.updateUser,n=e.deleteAccount,r=e.auth,a=e.updateUserPassword,o=Object(i.useContext)(ne.g).theme,c=Object(i.useState)(r.user.description),s=be()(c,2),m=s[0],d=s[1],g=Object(i.useState)(r.user.email),p=be()(g,2),f=p[0],E=p[1],b=Object(i.useState)(r.user.jobTitle),y=be()(b,2),v=y[0],S=y[1],j=Object(i.useState)(r.user.organisation),O=be()(j,2),C=O[0],T=O[1],R=Object(i.useState)(""+r.user.promo),w=be()(R,2),x=w[0],U=w[1],P=Object(i.useState)(""),_=be()(P,2),z=_[0],A=_[1],D=Object(i.useState)(""),k=be()(D,2),I=k[0],N=k[1],V=Object(i.useState)(""),L=be()(V,2),M=L[0],B=L[1],Q=Object(i.useState)(""),H=be()(Q,2),J=H[0],W=H[1],G=Object(i.useState)(!1),F=be()(G,2),Y=F[0],q=F[1],K=Object(i.useState)(!1),X=be()(K,2),Z=X[0],$=X[1],ee=Object(i.useState)(!1),te=be()(ee,2),re=te[0],oe=te[1],le=function(){t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.user,{description:m,email:f,jobTitle:v,organisation:C,promo:x}))};return l.a.createElement(u.a,{style:{flex:1,alignContent:"space-between",paddingVertical:8,paddingHorizontal:8,backgroundColor:"white"}},l.a.createElement(he.a,null,l.a.createElement(u.a,{style:{borderBottomColor:o.colors.grey4,borderBottomWidth:1}},l.a.createElement(ie.a,{style:{paddingVertical:12,paddingHorizontal:12,flexDirection:"row",justifyContent:"space-between",alignContent:"center"},onPress:function(){return oe(!re)}},l.a.createElement(ae.a,{style:{fontSize:16}},"Editer mes informations"),l.a.createElement(ne.d,{name:re?"chevron-up":"chevron-down"})),re&&l.a.createElement(u.a,{style:{marginBottom:12}},l.a.createElement(ne.e,{label:"Promotion",value:x,onChangeText:function(e){return U(e)},leftIcon:l.a.createElement(ne.d,{name:"school"})}),l.a.createElement(ne.e,{value:C,label:"Organisation",onChangeText:function(e){return T(e)},leftIcon:l.a.createElement(ne.d,{name:"domain"})}),l.a.createElement(ne.e,{value:v,onChangeText:function(e){return S(e)},label:"Profession",leftIcon:l.a.createElement(ne.d,{name:"briefcase"})}),l.a.createElement(ne.e,{label:"Description",value:m,multiline:!0,numberOfLines:8,onChangeText:function(e){return d(e)}}),l.a.createElement(ne.e,{label:"email",value:f,leftIcon:l.a.createElement(ne.d,{name:"email"}),onChangeText:function(e){return E(e)}}),l.a.createElement(ne.b,{title:"Valider les changements",onPress:function(){return le()},buttonStyle:{backgroundColor:o.colors.primary}}))),l.a.createElement(u.a,{style:{borderBottomColor:o.colors.grey4,borderBottomWidth:1}},l.a.createElement(ie.a,{style:{paddingVertical:12,paddingHorizontal:12,flexDirection:"row",justifyContent:"space-between"},onPress:function(){return q(!Y)}},l.a.createElement(ae.a,{style:{fontSize:16}},"Changer mon mot de passe"),l.a.createElement(ne.d,{name:Y?"chevron-up":"chevron-down"})),Y&&l.a.createElement(u.a,{style:{marginBottom:12}},l.a.createElement(ne.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ne.d,{name:"lock"}),label:"Ancien mot de passe",secureTextEntry:!0,value:z,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:20,marginTop:8},onChangeText:function(e){return A(e)}}),l.a.createElement(ne.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ne.d,{name:"lock"}),label:"Nouveau mot de passe",secureTextEntry:!0,value:J,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:20,marginTop:8},onChangeText:function(e){B(""),W(e)},errorMessage:M}),l.a.createElement(ne.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ne.d,{name:I===J?"check":"close",color:I===J?"green":"red"}),label:"Confirmation",secureTextEntry:!0,value:I,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:40,marginTop:8},onChangeText:function(e){return N(e)}}),l.a.createElement(ne.b,{title:"Valider",onPress:function(){return J.length<8?B("Choisissez un mot de passe d'au moins 8 caract\xe8res."):J!==I?B("Les mots de passe ne correspondent pas."):void a(z,J)},buttonStyle:{backgroundColor:o.colors.primary},loading:r.isUpdatingPassword}))),l.a.createElement(u.a,null,l.a.createElement(ie.a,{style:{paddingVertical:12,paddingHorizontal:12,flexDirection:"row",justifyContent:"space-between"},onPress:function(){return $(!Z)}},l.a.createElement(ae.a,{style:{fontSize:16}},"Supprimer mon compte"),l.a.createElement(ne.d,{name:Z?"chevron-up":"chevron-down"})),Z&&l.a.createElement(u.a,{style:{marginBottom:12}},l.a.createElement(ne.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ne.d,{name:"lock"}),label:"Mot de passe",secureTextEntry:!0,value:z,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:20,marginTop:8},onChangeText:function(e){return A(e)}}),l.a.createElement(ne.b,{title:"Valider",disabled:!z,onPress:function(e){return n(e)},buttonStyle:{backgroundColor:o.colors.error}})))))})),Le=Object(re.a)(),Me=function(){return l.a.createElement(u.a,{style:{flex:1}},l.a.createElement(Le.Navigator,{initialRouteName:"Lobby",headerMode:"screen"},l.a.createElement(Le.Screen,{name:"Read",component:Ie,options:{headerShown:!1}}),l.a.createElement(Le.Screen,{name:"Edit",component:Ve,options:{title:"Modifier mon compte"}})))},Be=function(e){var t,n=e.item,r=e.navigation;return l.a.createElement(ie.a,{onPress:function(){r.navigate("Read",{item:n})}},l.a.createElement(u.a,{style:{paddingTop:8,paddingHorizontal:20,marginVertical:4,marginHorizontal:0,borderBottomWidth:1,borderBottomColor:Re.colors.grey4,paddingVertical:12,flexDirection:"row"}},l.a.createElement(u.a,{style:{alignContent:"center",justifyContent:"center",alignItems:"center",marginRight:12}},(null==n?void 0:n.avatar)?l.a.createElement(ne.a,{source:{uri:"https://siee-gate.herokuapp.com/api/files/avatar/"+(null==n||null==(t=n.avatar)?void 0:t.filename)},size:"medium"}):l.a.createElement(ne.a,{size:"medium",title:null==n?void 0:n.firstname[0].concat(null==n?void 0:n.lastname[0]).toUpperCase()})),l.a.createElement(u.a,null,l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",fontWeight:"bold",fontSize:16}},ce.a.capitalize(null==n?void 0:n.firstname)," ",ce.a.capitalize(null==n?void 0:n.lastname)),l.a.createElement(u.a,{style:{flexDirection:"row",flex:1,alignItems:"center"}},l.a.createElement(ne.d,{name:"account-card-details",size:20}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginStart:8}},null==n?void 0:n.jobTitle," chez ",null==n?void 0:n.organisation)),l.a.createElement(u.a,{style:{flexDirection:"row",flex:1,alignItems:"center"}},l.a.createElement(ne.d,{name:"school",size:20}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginStart:8}},"SIEE promotion ",null==n?void 0:n.promo)))))},Qe=function(e){var t=e.navigation,n=Object(s.d)(),r=Object(s.e)((function(e){return e})),a=r.users,o=r.auth;return Object(i.useEffect)((function(){n({type:"REQUEST_USERS",method:"GET",route:"users"})}),[]),l.a.createElement(u.a,{style:{flex:1}},a.isLoaded?l.a.createElement(oe.a,{style:{borderRadius:0,shadowOffset:{width:10,height:10},shadowColor:"black",shadowOpacity:.3,elevation:2,backgroundColor:"white"},data:a.users.filter((function(e){return e._id!==o.user._id})),renderItem:function(e){var n=e.item;return l.a.createElement(Be,{item:n,navigation:t})},keyExtractor:function(e){return null==e?void 0:e._id}}):l.a.createElement(u.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(Te.a,{size:"large"})))};function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=function(e){return{type:"SOCKET",event:"message",payload:Je({},e,{sentAt:new Date})}},Ge=function(){return{type:"REQUEST_CONVERSATIONS",method:"GET",route:"conversations"}},Fe=function(e){return{type:"REQUEST_DELETE_CONVERSATION",method:"DELETE",route:"conversations/"+e,successNotification:{message:"Conversation supprim\xe9e",variant:"information",timeout:1e3},errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}},Ye=function(e){var t,n=e.route,r=e.navigation,a=Object(s.e)((function(e){return e})).chat,o=Object(s.d)(),i=n.params.item;return l.a.createElement(u.a,{style:{flex:1}},l.a.createElement(u.a,{style:{flex:1,alignContent:"space-between",paddingVertical:10,paddingHorizontal:8,backgroundColor:"white"}},l.a.createElement(he.a,{style:{flex:1}},l.a.createElement(ue.a,{colors:[Re.colors.primary,Re.colors.secondary],start:[.25,1],end:[0,0],style:{flexDirection:"row",marginBottom:20,paddingVertical:8,paddingHorizontal:16,borderRadius:5}},l.a.createElement(u.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(ae.a,{style:{fontSize:20,color:Re.colors.grey5}},ce.a.capitalize(null==i?void 0:i.firstname)),l.a.createElement(ae.a,{style:{fontSize:30,color:"white",fontWeight:"bold"}},ce.a.capitalize(null==i?void 0:i.lastname))),(null==i?void 0:i.avatar)?l.a.createElement(ne.a,{size:"xlarge",containerStyle:{borderColor:"white",borderWidth:3},source:{uri:"https://siee-gate.herokuapp.com/api/files/avatar/"+(null==i||null==(t=i.avatar)?void 0:t.filename)}}):l.a.createElement(ne.a,{size:"xlarge",containerStyle:{borderColor:"white",borderWidth:3},title:null==i?void 0:i.firstname.charAt(0).concat(null==i?void 0:i.lastname.charAt(0)).toUpperCase()})),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ne.d,{name:"briefcase",size:20,color:"grey"}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginHorizontal:8,flex:1}},null==i?void 0:i.jobTitle," chez ",null==i?void 0:i.organisation)),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ne.d,{name:"school",size:20,color:"grey"}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginHorizontal:8,flex:1}},"Promotion ",null==i?void 0:i.promo)),l.a.createElement(ne.c,{style:{marginVertical:20,backgroundColor:"grey",borderWidth:1,width:20}}),l.a.createElement(u.a,{style:{flexDirection:"row"}},l.a.createElement(ae.a,{style:{textAlign:"justify",flex:1,marginEnd:8}},null==i?void 0:i.description)),l.a.createElement(ne.c,{style:{marginVertical:20,backgroundColor:"grey",borderWidth:1,width:20}}),l.a.createElement(u.a,{style:{flexDirection:"row"}},l.a.createElement(ne.d,{name:"at",size:20,color:"grey"}),l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",marginStart:8,flex:1}},null==i?void 0:i.email))),l.a.createElement(ne.b,{title:"Contacter",onPress:function(){return a.interlocutorsIds.includes(null==i?void 0:i._id)?function(){return r.navigate("Room",{title:fullName,conversation:a.convIdsWithPartsIds.filter((function(e){return!0===e.participants.includes(null==i?void 0:i._id)})).filter((function(e){return 2===e.participants.length}))[0]})}:o(J({form:{action:We,inputName:"text",actionParams:{recipients:[null==i?void 0:i._id]},message:"Demarrer une conversation avec "+ce.a.capitalize(null==i?void 0:i.firstname)+" "+ce.a.capitalize(null==i?void 0:i.lastname)},redirect:"Messages",dispatchCallback:Ge}))}})))},qe=Object(re.a)(),Ke=function(e){var t=e.navigation;return l.a.createElement(u.a,{style:{flex:1}},l.a.createElement(me,{title:"Annuaire",navigation:t}),l.a.createElement(qe.Navigator,{initialRouteName:"List",headerMode:"screen"},l.a.createElement(qe.Screen,{name:"List",component:Qe,options:{headerShown:!1}}),l.a.createElement(qe.Screen,{name:"Read",component:Ye,options:{headerStatusBarHeight:0,title:""}})))},Xe=n(55),Ze=function(e){var t,n=e.item,r=e.theme,a=e.navigation,o=e.chat,c=e.dispatch,s=Object(i.useState)(!1),m=be()(s,2),d=m[0],g=m[1],p=Object(i.useState)(""),f=be()(p,2),E=f[0],b=f[1],y=ce.a.capitalize(null==n?void 0:n.firstname)+" "+ce.a.capitalize(null==n?void 0:n.lastname);return l.a.createElement(ie.a,{onPress:o.interlocutorsIds.includes(null==n?void 0:n._id)?function(){return a.navigate("Room",{title:y,conversation:o.convIdsWithPartsIds.filter((function(e){return!0===e.participants.includes(null==n?void 0:n._id)})).filter((function(e){return 2===e.participants.length}))[0]})}:function(){return c(J({form:{action:We,inputName:"text",actionParams:{recipients:[null==n?void 0:n._id]},message:"Demarrer une conversation avec "+y},dispatchCallback:Ge}))}},l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center",paddingVertical:4,paddingHorizontal:8,borderBottomColor:r.colors.grey5,borderBottomWidth:1}},l.a.createElement(u.a,{style:{alignContent:"center",justifyContent:"center",alignItems:"center",marginRight:12}},(null==n?void 0:n.avatar)?l.a.createElement(ne.a,{source:{uri:"https://siee-gate.herokuapp.com/api/files/avatar/"+(null==n||null==(t=n.avatar)?void 0:t.filename)},size:"small"}):l.a.createElement(ne.a,{size:"small",title:null==n?void 0:n.firstname[0].concat(null==n?void 0:n.lastname[0]).toUpperCase()})),d?l.a.createElement(u.a,{style:{flexDirection:"row",backgroundColor:"white",alignItems:"center",justifyContent:"center",alignContent:"center",marginTop:8}},l.a.createElement(Xe.a,{value:E,multiline:!0,placeholder:"Ecrivez ici.",placeholderTextColor:"grey",onChangeText:function(e){return b(e)},style:{backgroundColor:r.colors.grey5,borderColor:r.colors.grey4,borderWidth:1,borderRadius:5,paddingVertical:2,paddingHorizontal:4,maxHeight:80}}),l.a.createElement(ne.b,{containerStyle:{height:30},icon:l.a.createElement(ne.d,{name:"send",size:20,color:E?r.colors.primary:r.colors.grey2}),disabled:!E,type:"clear",onPress:function(){onSendMessage(E,null==n?void 0:n._id),b(""),g(!1)}})):l.a.createElement(ae.a,{style:{paddingLeft:12}},y)))},$e=function(e){var t,n,r,a,o,i,c,s,m=e.item,d=e.navigation,g=e.auth,p=e.theme,f=e.dispatch,E=function(){var e,t,n,r;return(null==m||null==(e=m.participants)?void 0:e.length)>1?(null==m||null==(t=m.participants)?void 0:t.map((function(e){return ce.a.capitalize(e.firstname)}))).toString().replace(",",", "):ce.a.capitalize(null==m||null==(n=m.participants[0])?void 0:n.firstname).concat(" ",ce.a.capitalize(null==m||null==(r=m.participants[0])?void 0:r.lastname))}();return l.a.createElement(ie.a,{onPress:function(){return d.navigate("Room",{conversation:m})}},l.a.createElement(u.a,{style:{paddingHorizontal:8,paddingVertical:8,borderBottomColor:"white",borderBottomWidth:3,backgroundColor:"white"}},l.a.createElement(u.a,{style:{flexDirection:"row"}},l.a.createElement(u.a,{style:{alignContent:"center",justifyContent:"center",paddingRight:8}},(null==m||null==(t=m.participants[0])?void 0:t.avatar)?l.a.createElement(ne.a,{source:{uri:H.baseUrl+"/files/avatar/"+(null==m||null==(n=m.participants[0])||null==(r=n.avatar)?void 0:r.filename)},size:"medium"}):l.a.createElement(ne.a,{size:"medium",title:null==m||null==(a=m.participants[0])?void 0:a.firstname[0].concat(null==m||null==(o=m.participants[0])?void 0:o.lastname[0]).toUpperCase()})),l.a.createElement(u.a,{style:{flex:1,justifyContent:"space-between"}},l.a.createElement(u.a,{style:{flexDirection:"row",flex:1,justifyContent:"space-between"}},l.a.createElement(ae.a,{style:{textAlignVertical:"bottom",fontSize:16,fontWeight:"bold"}},E),l.a.createElement(ae.a,{color:"grey",style:{color:"grey",fontSize:10,textAlignVertical:"bottom"}},ce.a.capitalize(ge()(null==m||null==(i=m.lastMessage)?void 0:i.sentAt).locale("fr").fromNow()))),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(u.a,{style:{alignContent:"center",justifyContent:"center"}},(null==m||null==(c=m.lastMessage)?void 0:c.sender)===g.user._id?l.a.createElement(ne.d,{name:"arrow-top-right",color:p.colors.grey1,size:14}):l.a.createElement(ne.d,{name:"arrow-bottom-left",color:p.colors.grey3,size:14})),l.a.createElement(ae.a,{style:{textAlignVertical:"center",fontSize:14,flex:1}},null==m||null==(s=m.lastMessage)?void 0:s.text),l.a.createElement(u.a,{style:{flexDirection:"row",alignContent:"center",justifyContent:"center"}},l.a.createElement(ne.d,{name:"dots-horizontal",style:{alignSelf:"flex-end"},onPress:function(){return f(J({menu:{buttons:[{title:"Supprimer la conversation",action:Fe,actionParams:[null==m?void 0:m._id]}]},dispatchCallback:Ge}))}})))))))},et=function(e){var t=e.navigation,n=Object(i.useState)(!1),r=be()(n,2),a=r[0],o=r[1],c=Object(i.useState)(""),m=be()(c,2),d=m[0],g=m[1],p=Object(i.useContext)(ne.g).theme,f=Object(s.d)(),E=Object(s.e)((function(e){return e})),b=E.chat,y=E.users,h=E.auth;Object(i.useEffect)((function(){f({type:"REQUEST_CONVERSATIONS",method:"GET",route:"conversations"}),f({type:"REQUEST_USERS",method:"GET",route:"users"})}),[]);var v=Object(i.useCallback)((function(){o(!0),o(!1)}),[a]);return l.a.createElement(u.a,{style:{flex:1}},l.a.createElement(u.a,{style:{backgroundColor:"white",paddingVertical:4}},l.a.createElement(ne.f,{placeholder:"Chercher un alumni ici...",onChangeText:g,value:d,platform:"android",containerStyle:{paddingTop:0,height:40}}),y.isLoaded&&l.a.createElement(oe.a,{data:d&&function(){var e=[];return y.users.forEach((function(t){t._id!==h.user._id&&(!0===t.firstname.includes(d.toLowerCase())||t.lastname.includes(d.toLowerCase()))&&e.push(t)})),e}(),renderItem:function(e){var n=e.item;return l.a.createElement(Ze,{item:n,theme:p,chat:b,navigation:t,dispatch:f})},keyExtractor:function(e){return null==e?void 0:e._id}}),!y.isLoaded&&l.a.createElement(u.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(Te.a,{size:"small"}))),b.isLoaded?b.conversations.length>0?l.a.createElement(oe.a,{data:b.conversations,renderItem:function(e){var n=e.item;return l.a.createElement($e,{item:n,auth:h,navigation:t,theme:p,dispatch:f})},keyExtractor:function(e){return null==e?void 0:e._id},refreshControl:l.a.createElement(Ce.a,{refreshing:a,onRefresh:v})}):l.a.createElement(u.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(ae.a,{style:{textAlign:"center",color:p.colors.grey3}},"Aucune conversation"),l.a.createElement(ne.b,{title:"Rafraichir",type:"clear",onPress:Ge})):l.a.createElement(u.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(Te.a,{size:"large"})))},tt=function(e){var t=e.message,n=e.incoming,r=e.theme;return l.a.createElement(u.a,{style:{flexDirection:"row"}},!n&&l.a.createElement(u.a,{style:{flex:1}}),l.a.createElement(u.a,{style:{backgroundColor:n?"white":r.colors.primary,borderTopLeftRadius:n?0:10,borderTopRightRadius:10,borderBottomLeftRadius:10,borderBottomRightRadius:n?10:0,maxWidth:"80%",paddingHorizontal:8,paddingVertical:8,marginBottom:8,marginHorizontal:8}},l.a.createElement(ae.a,{style:{color:n?"black":"white",textAlign:n?"left":"right"}},t.text)),n&&l.a.createElement(u.a,{style:{flex:1}}))},nt=Object(s.b)((function(e){return{chat:e.chat,auth:e.auth}}),(function(e){return{sendMessage:function(t){return e(We(t))},fetchConversation:function(t){return e(function(e){return{type:"REQUEST_CONVERSATION",method:"GET",route:"conversations/single/"+e}}(t))}}}))((function(e){var t=e.chat,n=e.sendMessage,r=e.route,a=e.auth,o=e.fetchConversation,c=r.params.conversation._id,s=Object(i.useState)(""),m=be()(s,2),d=m[0],g=m[1],p=Object(i.useContext)(ne.g).theme,f=t.conversations.filter((function(e){return e._id===c}))[0];Object(i.useEffect)((function(){o(c)}),[]);return l.a.createElement(u.a,{style:{flex:1,justifyContent:"space-between"}},l.a.createElement(oe.a,{data:f.messages,renderItem:function(e){var t=e.item;return l.a.createElement(tt,{message:t,incoming:(null==t?void 0:t.sender)!==a.user._id,theme:p})},keyExtractor:function(e){return null==e?void 0:e._id},inverted:!0}),l.a.createElement(u.a,{style:{flexDirection:"row",backgroundColor:"white",paddingVertical:8,paddingHorizontal:16,alignItems:"center",justifyContent:"center",alignContent:"center"}},l.a.createElement(Xe.a,{style:{height:40,flex:1},onChangeText:function(e){return g(e)},value:d,multiline:!0,placeholder:"Ecrivez votre message ici."}),l.a.createElement(ne.b,{icon:l.a.createElement(ne.d,{name:"send",size:20,color:d?p.colors.primary:p.colors.grey2}),disabled:!d,type:"clear",onPress:function(){d&&(n({text:d,conversation_id:c}),g(""))}})))})),rt=Object(re.a)(),at=function(e){var t=e.navigation;return l.a.createElement(u.a,{style:{flex:1}},l.a.createElement(me,{title:"Messagerie",navigation:t}),l.a.createElement(rt.Navigator,{initialRouteName:"Lobby",headerMode:"screen"},l.a.createElement(rt.Screen,{name:"Lobby",component:et,options:{headerShown:!1}}),l.a.createElement(rt.Screen,{name:"Room",component:nt,options:function(e){var t,n,r,a,o=e.route,i=o.params.conversation;return o.params.title?{title:o.params.title,headerStatusBarHeight:0}:((null==i||null==(t=i.participants)?void 0:t.length)>1||(n=ce.a.capitalize(null==i||null==(r=i.participants[0])?void 0:r.firstname)+" "+ce.a.capitalize(null==i||null==(a=i.participants[0])?void 0:a.lastname)),{title:n,headerStatusBarHeight:0})}})))},ot=n(36),it=Object(s.b)((function(e){return{auth:e.auth}}),(function(e){return{logIn:function(t){return e(function(e){return{type:"REQUEST_LOG_IN",route:"/auth/login",payload:e,method:"POST",errorNotification:!0}}(t))}}}))((function(e){var t=e.auth,r=e.logIn,a=e.navigation,c=Object(i.useContext)(ne.g).theme,s=Object(i.useState)(""),m=be()(s,2),d=m[0],g=m[1],p=Object(i.useState)(""),f=be()(p,2),E=f[0],b=f[1],y=Object(i.useState)({}),h=be()(y,2),v=h[0],S=h[1];return l.a.createElement(u.a,{style:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:12,backgroundColor:"white"}},l.a.createElement(ue.a,{colors:[c.colors.primary,c.colors.secondary],start:[.25,1],end:[0,0],style:{flexDirection:"row",marginBottom:20,height:150,width:150,borderRadius:100}},l.a.createElement(ot.a,{source:n(668),style:{height:150,width:150,borderRadius:100}})),l.a.createElement(ne.e,{placeholder:"Email",leftIcon:l.a.createElement(ne.d,{name:"email",type:"material-community"}),value:d,onChangeText:function(e){return g(e)},label:"Email",errorStyle:{color:"red"},errorMessage:v.email}),l.a.createElement(ne.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ne.d,{name:"lock"}),label:"Mot de passe",secureTextEntry:!0,value:E,containerStyle:{marginBottom:30,marginTop:8},onChangeText:function(e){return b(e)},errorStyle:{color:"red"},errorMessage:v.password}),l.a.createElement(ne.b,{title:"Se connecter",onPress:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=4;break}return e.abrupt("return",S({email:"M\xe9l invalide."}));case 4:if(E){e.next=6;break}return e.abrupt("return",S({password:"Mot de passe invalide."}));case 6:S({}),r({email:d,password:E});case 8:case"end":return e.stop()}}),null,null,null,Promise)},loading:t.isLoggingIn,containerStyle:{marginBottom:20,marginTop:8}}),l.a.createElement(ne.b,{title:"Nouveau? Je m'enregistre.",type:"clear",onPress:function(){return a.navigate("SignUp")},containerStyle:{marginBottom:30}}))})),lt=Object(s.b)((function(e){return{auth:e.auth}}),(function(e){return{signUp:function(t){return e(function(e){return{type:"REQUEST_SIGN_UP",route:"/auth/signup",payload:e,method:"POST",successNotification:{message:'Bienvenue ! Rendez-vous \xe0 l\'onglet "Mon profil" pour \xe9diter vos informations.',variant:"success",redirect:"Main",timeout:3e3},errorNotification:!0}}(t))}}}))((function(e){var t=e.signUp,n=e.auth,r=Object(i.useState)(""),a=be()(r,2),c=a[0],s=a[1],m=Object(i.useState)(""),d=be()(m,2),g=d[0],p=d[1],f=Object(i.useState)(""),E=be()(f,2),b=E[0],y=E[1],h=Object(i.useState)(""),v=be()(h,2),S=v[0],j=v[1],O=Object(i.useState)(""),C=be()(O,2),T=C[0],R=C[1],w=Object(i.useState)({}),x=be()(w,2),U=x[0],P=x[1];return l.a.createElement(u.a,{style:{backgroundColor:"white",flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:12}},l.a.createElement(ne.e,{placeholder:"Pr\xe9nom",value:c,onChangeText:function(e){return s(e)},label:"Pr\xe9nom",errorMessage:U.firstname}),l.a.createElement(ne.e,{placeholder:"Nom",value:g,onChangeText:function(e){return p(e)},label:"Nom",errorMessage:U.lastname}),l.a.createElement(ne.e,{placeholder:"Email",leftIcon:l.a.createElement(ne.d,{name:"email",type:"material-community"}),value:b,onChangeText:function(e){return y(e)},label:"Email",errorMessage:U.email}),l.a.createElement(ne.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ne.d,{name:"lock"}),label:"Mot de passe",secureTextEntry:!0,value:S,onChangeText:function(e){return j(e)},errorMessage:U.password}),l.a.createElement(ne.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ne.d,{name:T!==S||S.length<8?"close":"check",color:T!==S||S.length<8?"red":"green"}),label:"Confirmation",secureTextEntry:!0,value:T,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:40,marginTop:8},onChangeText:function(e){return R(e)},errorMessage:U.confirmation}),l.a.createElement(ne.b,{title:"S'inscrire",onPress:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=4;break}return e.abrupt("return",P({firstname:"Pr\xe9nom manquant."}));case 4:if(g){e.next=8;break}return e.abrupt("return",P({lastname:"Nom manquant."}));case 8:if(b){e.next=12;break}return e.abrupt("return",P({mail:"M\xe9l manquant."}));case 12:if(S.length<8!==!0){e.next=16;break}return e.abrupt("return",P({password:"Mot de passe manquant."}));case 16:if(S===T){e.next=18;break}return e.abrupt("return",P({confirmation:"Veuillez retaper la confirmation de votre mot de passe."}));case 18:P({}),t({email:b,password:S,firstname:c,lastname:g});case 20:case"end":return e.stop()}}),null,null,null,Promise)},loading:n.isSigningUp,containerStyle:{marginBottom:20,marginTop:8}}))})),ct=Object(re.a)(),st=function(){return l.a.createElement(u.a,{style:{flex:1}},l.a.createElement(ct.Navigator,{initialRouteName:"LogIn",headerMode:"screen"},l.a.createElement(ct.Screen,{name:"LogIn",component:it,options:{headerShown:!1}}),l.a.createElement(ct.Screen,{name:"SignUp",component:lt,options:{title:"S'inscrire"}})))},ut=n(38);function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt=function(e){var t=e.notification,n=e.theme;return l.a.createElement(u.a,{style:{backgroundColor:"white",borderRadius:10,justifyContent:"center",alignItems:"center",paddingHorizontal:12,paddingVertical:8,elevation:8}},l.a.createElement(ne.d,{containerStyle:{marginBottom:8},size:30,name:"success"===t.variant?"check-circle-outline":"warning"===t.variant?"alert-circle-outline":"error"===t.variant?"close-circle-outline":t.icon,color:"success"===t.variant?"green":"warning"===t.variant?"yellow":"error"===t.variant?"red":"error"===t.variant?"blue":n.colors.grey1}),t.message&&l.a.createElement(ae.a,{style:{fontSize:14}},t.message))},pt=function(e){var t=e.form,n=e.dispatchRedirectReset,r=e.theme,a=e.dispatch,c=Object(i.useState)(""),s=be()(c,2),m=s[0],d=s[1];return l.a.createElement(u.a,{style:{backgroundColor:"white",borderRadius:10,justifyContent:"center",alignItems:"center",paddingHorizontal:12,paddingVertical:8,elevation:8}},l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center",alignContent:"center",marginTop:8}},t.message&&l.a.createElement(ae.a,{style:{fontSize:14}},t.message)),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"stretch",marginTop:8}},l.a.createElement(Xe.a,{value:m,multiline:!0,placeholder:"Ecrivez ici.",placeholderTextColor:"grey",onChangeText:function(e){return d(e)},style:{backgroundColor:r.colors.grey5,borderColor:r.colors.grey4,borderWidth:1,borderRadius:5,height:60,paddingHorizontal:4,paddingVertical:4,flex:1},textAlignVertical:"top"}),l.a.createElement(ne.b,{buttonStyle:{height:60,alignItems:"center",justifyContent:"center"},icon:l.a.createElement(ne.d,{name:"send",size:20,color:m?r.colors.primary:r.colors.grey2}),disabled:!m,type:"clear",onPress:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(a(t.action(dt(h()({},t.inputName,m),t.actionParams))));case 2:n();case 3:case"end":return e.stop()}}),null,null,null,Promise)}})))},ft=function(e){var t,n=e.menu,r=e.dispatchRedirectReset,a=e.dispatch;return l.a.createElement(u.a,{style:{backgroundColor:"white",borderRadius:10,justifyContent:"center",alignItems:"center",paddingHorizontal:12,paddingVertical:8,elevation:8}},null==(t=n.buttons)?void 0:t.map((function(e,t){return l.a.createElement(ne.b,{title:e.title,key:t,containerStyle:{height:30},onPress:function(){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(a(e.action.apply(e,b()(e.actionParams))));case 2:r();case 3:case"end":return t.stop()}}),null,null,null,Promise)}})})))},Et=function(){var e=Object(s.e)((function(e){return e.overlay})),t=Object(i.useContext)(ne.g).theme,n=Object(s.d)();if(!1===e.show)return null;var r=function(){"function"===typeof e.dispatchCallback&&n(e.dispatchCallback()),e.redirect&&j(e.redirect,{}),n({type:"RESET_OVERLAY"})};return e.timeout&&setTimeout((function(){r()}),e.timeout),l.a.createElement(u.a,{style:{position:"absolute",height:ut.a.get("window").height,width:ut.a.get("window").width,backgroundColor:t.colors.grey6,alignContent:"center",justifyContent:"center",alignItems:"stretch"}},l.a.createElement(c.f,{containerStyle:{flex:1,minHeight:12},style:{flex:1,minHeight:12},onPress:function(){e.notification?r():n({type:"RESET_OVERLAY"})}}),l.a.createElement(u.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},l.a.createElement(c.f,{containerStyle:{flex:1,minWidth:12},style:{flex:1,minWidth:12},onPress:function(){e.notification?r():n({type:"RESET_OVERLAY"})}}),e.notification&&l.a.createElement(gt,{notification:e.notification,dispatchRedirectReset:r,theme:t}),e.form&&l.a.createElement(pt,{form:e.form,dispatchRedirectReset:r,dispatch:n,theme:t}),e.menu&&l.a.createElement(ft,{menu:e.menu,dispatchRedirectReset:r,dispatch:n}),l.a.createElement(c.f,{containerStyle:{flex:1,minWidth:12},style:{flex:1,minWidth:12},onPress:function(){e.notification?r():n({type:"RESET_OVERLAY"})}})),l.a.createElement(c.f,{containerStyle:{flex:1,minHeight:12},style:{flex:1,minHeight:12},onPress:function(){e.notification?r():n({type:"RESET_OVERLAY"})}}))},bt=Object(ee.a)(),yt=Object(te.a)(),ht=function(){return l.a.createElement(bt.Navigator,{initialRouteName:"People",screenOptions:function(e){var t=e.route;return{tabBarIcon:function(e){e.focused;var n,r=e.color,a=e.size;switch(t.name){case"Home":n="home";break;case"Jobs":n="briefcase";break;case"People":n="account-group";break;case"Messages":n="forum"}return l.a.createElement(ne.d,{name:n,size:a,color:r})}}},tabBarOptions:{activeTintColor:Re.colors.primary,inactiveTintColor:"gray"}},l.a.createElement(bt.Screen,{name:"People",component:Ke,options:{title:"Annuaire"}}),l.a.createElement(bt.Screen,{name:"Jobs",component:De,options:{title:"Emplois"}}),l.a.createElement(bt.Screen,{name:"Messages",component:at,options:{title:"Messages"}}))},vt=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.auth.token}),s.c);return l.a.useEffect((function(){o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:null!==t&&e({type:"REQUEST_VERIFY_TOKEN",route:"auth/token/verify",method:"GET",errorNotification:!0});case 1:case"end":return n.stop()}}),null,null,null,Promise)}),[]),l.a.createElement(u.a,{style:{flex:1,maxWidth:500}},t?l.a.createElement(yt.Navigator,{initialRouteName:"Main",headerMode:"screen"},l.a.createElement(yt.Screen,{name:"Main",component:ht,options:{title:"Accueil"}}),l.a.createElement(yt.Screen,{name:"Profile",component:Me,options:{title:"Mon profil"}}),l.a.createElement(yt.Screen,{name:"MyJobs",component:Oe,options:{title:"Mes offres d'emplois"}})):l.a.createElement(st,null))},St=function(){return l.a.useEffect((function(){return v.current=!0,function(){return v.current=!1}}),[]),l.a.createElement(s.a,{store:K},l.a.createElement(Z.a,{loading:null,persistor:X},l.a.createElement(ne.h,{theme:Re},l.a.createElement(m.a,{style:{flex:1,flexDirection:"row",justifyContent:"center"}},"ios"===d.a.OS&&l.a.createElement(g.a,{barStyle:"default"}),l.a.createElement($.a,{ref:S},l.a.createElement(vt,null),l.a.createElement(Et,null))))))};Object(r.a)(St)}},[[477,1,2]]]);
//# sourceMappingURL=app.d979dd7d.chunk.js.map