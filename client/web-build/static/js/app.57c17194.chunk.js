(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{482:function(e,t,n){"use strict";var r=n(16),a=n.n(r),o=n(19),i=n.n(o),c=n(0),s=n.n(c),l=n(27),u=n(481),m=n(9),d=n(59),p=n(2),f=n(77),g=n(425),E=n(25),b=n.n(E),y=n(10),h=n.n(y);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={isLoggingIn:!1,isLoggingOut:!1,isSigningUp:!1,isLoggedIn:!1,isDeletingAccount:!1,loggedInAt:null,user:null,userInfoUpdatedAt:null,token:null,errors:[]};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={users:[],isFetching:!1,lastUpdatedAt:null,isLoaded:!1};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={notification:null,form:null,show:!1,timeout:null};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={jobs:[],isFetching:!1,lastUpdatedAt:null,isLoaded:!1};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={conversations:[],conversationsIds:[],interlocutorsIds:[],lastUpdatedAt:null,isLoaded:!1,isFetchingConversations:!1,isFetchingConversation:!1},k=Object(f.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_AUTH_TOKEN":return v({},e,{},t.data);case"REQUEST_SIGN_UP":case"REQUEST_SIGN_UP":return v({},e,{isSigningUp:!0});case"REQUEST_LOG_IN":return v({},e,{isLoggingIn:!0});case"REQUEST_LOG_OUT":return v({},e,{isloggingOut:!0});case"REQUEST_UPDATE_USER":return v({},e,{isUpdatingUser:!0});case"REQUEST_DELETE_ACCOUNT":return v({},e,{isDeletingAccount:!0});case"REQUEST_UPDATE_PASSWORD":return v({},e,{isUpdatingPassword:!0});case"REQUEST_MY_JOBS":return v({},e,{isFetching:!0});case"REQUEST_UPDATE_JOB":return v({},e,{isUpdatingJob:!0});case"REQUEST_CREATE_JOB":return e;case"RECEIVE_CONVERSATION":return v({},e,{user:v({},e.user,{privateConversations:[].concat(b()(e.user.privateConversations),[{conversation_id:t.conversation._id,interlocutor_id:t.message.sender}])})});case"PRIVATE_CONVERSATION_ACK":return v({},e,{user:v({},e.user,{privateConversations:[].concat(b()(e.user.privateConversations),[{conversation_id:t.conversation._id,interlocutor_id:t.message.recipient}])})});case"REQUEST_UPDATE_PASSWORD:SUCCESS":return e;case"REQUEST_DELETE_ACCOUNT:SUCCESS":case"REQUEST_LOG_OUT:SUCCESS":return j;case"REQUEST_VERIFY_TOKEN:SUCCESS":return v({},e,{tokenVerifiedAt:t.receivedAt});case"REQUEST_LOG_IN:SUCCESS":return v({},e,{isLoggingIn:!1,isLoggedIn:!0,loggedInAt:t.receivedAt,userInfoUpdatedAt:t.receivedAt},t.data);case"REQUEST_SIGN_UP:SUCCESS":return v({},e,{isSigningUp:!1,user:t.user,token:t.token,loggedInAt:t.receivedAt,isLoggedIn:!0,userInfoUpdatedAt:t.receivedAt},t.data);case"REQUEST_UPDATE_USER:SUCCESS":return v({},e,{isUpdatingUser:!1,userInfoUpdatedAt:t.receivedAt},t.data);case"REQUEST_MY_JOBS:SUCCESS":return v({},e,{isFetching:!1,lastUpdatedAt:t.receivedAt,isLoaded:!0},t.data);case"REQUEST_UPDATE_JOB:SUCCESS":return v({},e,{user:v({},e.user,{jobs:t.data.jobs}),isUpdatingJob:!1});case"REQUEST_CREATE_JOB:SUCCESS":return v({},e,{user:v({},e.user,{jobs:[t.data.job].concat(b()(e.user.jobs))})});case"REQUEST_DELETE_FILE:SUCCESS":case"REQUEST_UPLOAD_FILE:SUCCESS":return v({},e,{user:t.data.updatedUser});case"REQUEST_VERIFY_TOKEN:ERROR":return j;case"REQUEST_MY_JOBS:ERROR":case"REQUEST_UPDATE_USER:ERROR":case"REQUEST_UPDATE_PASSWORD:ERROR":case"REQUEST_LOG_IN:ERROR":case"REQUEST_SIGN_UP:ERROR":case"REQUEST_UPDATE_JOB:ERROR":case"REQUEST_CREATE_JOB:ERROR":return v({},e,{errors:[].concat(b()(e.errors),[t])});default:return e}},overlay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_OVERLAY":return x({},t.payload,{show:!0});case"ASK_USER_INPUT":return{form:t.form,show:!0};case"RESET_OVERLAY":return w;default:return e}},jobs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_JOBS":return P({},e,{isFetching:!0});case"REQUEST_JOBS:SUCCESS":return P({},e,{isFetching:!1,lastUpdatedAt:t.receivedAt,isLoaded:!0},t.data);case"REQUEST_JOBS:ERROR":return P({},e,{isFetching:!1,lastUpdatedAt:t.receivedAt,isLoaded:!0});case"REQUEST_DELETE_JOB":return P({},e,{isDeleting:!0});case"REQUEST_DELETE_JOB:SUCCESS":return P({},e,{isDeleting:!1,lastUpdatedAt:t.receivedAt});case"REQUEST_CREATE_JOB:SUCCESS":return P({},e,{jobs:[t.data.job].concat(b()(e.jobs))});case"REQUEST_DELETE_JOB:ERROR":return P({},e,{isFetchingConversations:!1});case"REQUEST_LOG_OUT:SUCCESS":return U;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_USERS":return C({},e,{isFetching:!0});case"REQUEST_USERS:SUCCESS":case"REQUEST_USERS:ERROR":return C({},t.data,{isFetching:!1,lastUpdatedAt:t.receivedAt,isLoaded:!0});case"REQUEST_LOG_OUT:SUCCESS":return T;default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_CONVERSATIONS:SUCCESS":return z({},e,{lastUpdatedAt:t.receivedAt,isLoaded:!0,isFetchingConversations:!1},t.data);case"REQUEST_CONVERSATION:SUCCESS":return z({},e,{conversations:[t.data].concat(b()(e.conversations.filter((function(e){return e._id!==t.data._id})))),lastUpdatedAt:t.receivedAt,isLoaded:!0});case"PRIVATE_CONVERSATION_ACK":case"RECEIVE_NEW_CONVERSATION":return z({},e,{conversations:[t.conversation].concat(b()(e.conversations)),lastUpdatedAt:t.receivedAt});case"PRIVATE_MESSAGE_ACK":case"RECEIVE_PRIVATE_MESSAGE":var n=e.conversations.map((function(e){return e._id})).indexOf(t.message.conversation_id);return e.conversations[n].messages?z({},e,{lastUpdatedAt:t.receivedAt,conversations:[z({},e.conversations[n],{lastMessage:t.message,messages:[t.message].concat(b()(e.conversations[n].messages))})].concat(b()(e.conversations.filter((function(e){return e._id!==t.message.conversation_id})))),isLoaded:!0}):z({},e,{lastUpdatedAt:t.receivedAt,conversations:[z({},e.conversations[n],{lastMessage:t.message,messages:[t.message]})].concat(b()(e.conversations.filter((function(e){return e._id!==t.message.conversation_id})))),isLoaded:!0});case"REQUEST_LOG_OUT:SUCCESS":return D;default:return e}}}),I=n(426),V=n.n(I),N=n(220),L=n.n(N),M="https://siee-gate-test.herokuapp.com",B=function(e){return{type:"SHOW_OVERLAY",payload:{notification:e.notification,form:e.form,menu:e.menu,timeout:e.timeout,callbacks:e.callbacks,redirect:e.redirect}}};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=n(428),W=n(427),G=n.n(W),F=n(227),Y={key:"root",storage:J.a,blacklist:["overlay"]},K=Object(F.a)(Y,k),q=[g.a,function(e){return function(e){return function(t){return console.log(t.type),e(t)}}},function(e){return function(t){return function(n){var r,a,o;return"REQUEST"===(null==(r=n.type)?void 0:r.substring(0,7))&&!1===(null==(a=n.type)?void 0:a.includes(":"))?(o="REQUEST_UPLOAD"===n.type.substring(0,14)?L.a.create({baseURL:M+"/api/",timeout:3e3,headers:{accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data",Authorization:"Bearer "+e.getState().auth.token}}):L.a.create({baseURL:M+"/api/",timeout:3e3,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer "+e.getState().auth.token}}),new Promise((function(e,t){switch(n.method){case"GET":return e(o.get(n.route));case"POST":return e(o.post(n.route,n.payload));case"DELETE":return e(o.delete(n.route,n.payload));case"PATCH":return e(o.patch(n.route,n.payload));default:return}})).then((function(t){return n.successNotification&&e.dispatch(B({timeout:3e3,redirect:n.successNotification.redirect,callbacks:n.successNotification.callbacks,notification:{variant:"success",message:n.successNotification.message}})),e.dispatch({type:n.type+":SUCCESS",data:t.data,receivedAt:new Date})})).catch((function(t){var r,a,o,i;(console.log(t),n.errorNotification||!0===(null==(r=t.response)?void 0:r.data.forceReconnect))&&e.dispatch(B({timeout:3e3,redirect:(null==(a=t.response)?void 0:a.data.forceReconnect)&&"Auth",callbacks:(null==(o=t.response)?void 0:o.data.forceReconnect)&&["REQUEST_LOG_OUT:SUCCESS"],notification:{variant:"error",message:(null==(i=t.response)?void 0:i.data.message)||"Cela n'a pas march\xe9..."}}));return e.dispatch({type:n.type+":ERROR",error:t,receivedAt:new Date})})),t(n)):t(n)}}},function(){var e;return function(t){return function(n){return function(r){var a;if(!e&&t.getState().auth.isLoggedIn&&console.log("socket somehow disconnected"),"REQUEST_LOG_IN:SUCCESS"===r.type||"REQUEST_SIGN_UP:SUCCESS"===r.type||"REQUEST_VERIFY_TOKEN:SUCCESS"===r.type){var o=r.data.token;(e=V()(M,{forceNode:!0,transportOptions:{polling:{extraHeaders:{"Access-Control-Allow-Origin":"*",authorization:o}}}})).on("connected",(function(e){console.log("Socket connected")})),e.on("unauthorized",(function(e){console.log("Socket disconnected")})),e.on("authenticated",(function(e){console.log("Socket authenticated")})),e.on("private-conversation",(function(e){t.dispatch(H({type:"RECEIVE_PRIVATE_CONVERSATION"},e,{receivedAt:new Date}))})),e.on("private-conversation-ack",(function(e){t.dispatch(H({type:"PRIVATE_CONVERSATION_ACK"},e,{receivedAt:new Date}))})),e.on("private-message",(function(e){t.dispatch(H({type:"RECEIVE_PRIVATE_MESSAGE"},e,{receivedAt:new Date}))})),e.on("private-message-ack",(function(e){t.dispatch(H({type:"PRIVATE_MESSAGE_ACK"},e,{receivedAt:new Date}))}))}return"SOCKET"===(null==(a=r.type)?void 0:a.substring(0,6))&&e.emit(r.event,r.payload),"REQUEST_LOG_OUT:SUCCESS"===r.type&&(e.disconnect(),console.log("socket disconnected")),n(r)}}}}()];"web"===m.a.OS&&q.push(G.a);var X=Object(f.d)(K,f.a.apply(void 0,q)),Z=Object(F.b)(X),$=n(430),ee=n(421),te=n(704),ne=n(703),re=n(702),ae=n(13),oe=n(186),ie=n(15),ce=n(71),se=n(31),le=n(34),ue=n.n(le),me=n(76),de=n(705),pe=c.createRef(),fe=c.createRef();function ge(e,t){pe.current&&fe.current&&fe.current.navigate(e,t)}var Ee=Object(l.b)((function(e){return{auth:e.auth}}),(function(e){return{logOut:function(){return e({type:"REQUEST_LOG_OUT",route:"/auth/logout",method:"GET",errorNotification:!0,successNotification:{message:"Au revoir !",variant:"success",redirect:"Auth"}})}}}))((function(e){var t=e.navigation,n=e.leftButton,r=e.title,a=e.logOut,o=e.noRightButton,i=Object(c.useContext)(ae.f).theme;return s.a.createElement(de.a,{colors:[i.colors.primary,i.colors.secondary],start:[.25,1],end:[.25,0],style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:"web"===m.a.OS?10:me.a.statusBarHeight,paddingHorizontal:10,paddingBottom:8}},s.a.createElement((function(){switch(n){case"profile":return s.a.createElement(ae.d,{name:"menu",onPress:function(){return t.openDrawer()},color:"white"});case"back":return s.a.createElement(ae.d,{name:"arrow-left",color:"white",onPress:function(){return ge("Main")}});default:return s.a.createElement(ae.d,{name:"menu",onPress:function(){return t.openDrawer()},color:"white"})}}),null),s.a.createElement((function(){return s.a.createElement(p.a,null,s.a.createElement(ie.a,{style:{color:"white",fontSize:20,textAlign:"center"}},r))}),null),s.a.createElement((function(){return o?s.a.createElement(p.a,null):s.a.createElement(p.a,null,s.a.createElement(ae.d,{name:"logout",color:"white",onPress:function(){return a()}}))}),null))})),be=(n(117),n(14)),ye=n.n(be),he=function(e){var t=e.item,n=e.navigation,r=Object(c.useContext)(ae.f).theme;return s.a.createElement(se.a,{onPress:function(){return n.navigate("Edit",{job:t,id:t._id})}},s.a.createElement(p.a,{style:{paddingTop:8,paddingHorizontal:20,marginVertical:4,marginHorizontal:0,borderBottomWidth:1,borderBottomColor:r.colors.grey4,paddingVertical:12,flexDirection:"row"}},s.a.createElement(p.a,{style:{flex:1}},s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",fontWeight:"bold",fontSize:16}},null==t?void 0:t.jobTitle," en ",null==t?void 0:t.employmentType),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},s.a.createElement(ae.d,{name:"briefcase",size:20,color:"grey"}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8}},null==t?void 0:t.organisation)),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center",flex:1}},s.a.createElement(ae.d,{name:"map-marker",size:20}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8,flex:1}},ue.a.capitalize(null==t?void 0:t.city)),s.a.createElement(ie.a,{color:"grey",style:{color:"grey",fontSize:10,textAlignVertical:"bottom"}},ue.a.capitalize(ye()(null==t?void 0:t.publishedAt).locale("fr").fromNow()))))))},Se=Object(l.b)((function(e){return{jobs:e.jobs,auth:e.auth}}),(function(e){return{fetchMyJobs:function(){return e({type:"REQUEST_MY_JOBS",route:"jobs/me",method:"GET"})}}}))((function(e){var t=e.auth,n=e.navigation,r=e.fetchMyJobs;return Object(c.useEffect)((function(){r()}),[]),s.a.createElement(p.a,{style:{flex:1,backgroundColor:"white"}},s.a.createElement(Ee,{title:"Mes offres d'emploi",navigation:n,noRightButton:!0,leftButton:"back"}),s.a.createElement(ce.a,{data:null==t?void 0:t.user.jobs,renderItem:function(e){var t=e.item;return s.a.createElement(he,{item:t,navigation:n})},keyExtractor:function(e){return null==e?void 0:e._id}}))})),ve=n(73),je=n(43);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ce=Object(l.b)((function(e){return{jobs:e.jobs,auth:e.auth}}),(function(e){return{updateJob:function(t){return e(function(e){return{type:"REQUEST_UPDATE_JOB",method:"PATCH",route:"jobs/"+e._id,payload:e,successNotification:{message:"Votre offre d'emploi a \xe9t\xe9 mise \xe0 jour.",variant:"success",redirect:"MyJobs",timeout:1e3},errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}}(t))},deleteJob:function(t){return e(function(e){return{type:"REQUEST_DELETE_JOB",method:"DELETE",route:"jobs/"+e,successNotification:{message:"Offre d'emploi supprim\xe9e.",variant:"success",redirect:"MyJobs",timeout:1e3},errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}}(t))},fetchMyJobs:function(){return e({type:"REQUEST_MY_JOBS",route:"jobs/me",method:"GET"})}}}))((function(e){var t=e.updateJob,n=e.deleteJob,r=e.route,o=e.fetchMyJobs,l=e.navigation,u=Object(c.useState)(!1),m=i()(u,2),d=m[0],f=m[1],g=Object(c.useState)(!1),E=i()(g,2),b=E[0],y=E[1],S=r.params.job,v=Object(c.useContext)(ae.f).theme,j=Object(c.useState)(S.employmentType),O=i()(j,2),C=O[0],T=O[1],R=Object(c.useState)(S.asap),x=i()(R,2),w=x[0],_=x[1],P=Object(c.useState)(S.organisation),U=i()(P,2),A=U[0],z=U[1],D=Object(c.useState)(S.city),k=i()(D,2),I=k[0],V=k[1],N=Object(c.useState)(S.salary),L=i()(N,2),M=L[0],B=L[1],Q=Object(c.useState)(S.jobTitle),H=i()(Q,2),J=H[0],W=H[1],G=Object(c.useState)(S.jobDesc),F=i()(G,2),Y=F[0],K=F[1],q=Object(c.useState)(""+S.minExp),X=i()(q,2),Z=X[0],$=X[1],ee=Object(c.useState)(S.contact),te=i()(ee,2),ne=te[0],re=te[1],oe=Object(c.useState)({}),ce=i()(oe,2),se=ce[0],le=ce[1],ue=function(){return C?A?I?Y?J?Z?(t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},S,{employmentType:C,asap:w,organisation:A,city:I,salary:M,jobDesc:Y,jobTitle:J,minExp:Z,contact:ne})),_(!1),V(),B(),re(),le({}),T(),z(),K(),void W()):le({minExp:"Ce champs est obligatoire."}):le({jobTitle:"Ce champs est obligatoire."}):le({jobDesc:"Ce champs est obligatoire."}):le({city:"Ce champs est obligatoire."}):le({organisation:"Ce champs est obligatoire."}):le({employmentType:"Ce champs est obligatoire."})};return s.a.createElement(p.a,{style:{flex:1,alignContent:"space-between",paddingVertical:8,paddingHorizontal:8,backgroundColor:"white"}},s.a.createElement(je.a,null,s.a.createElement(ae.e,{label:"Type de contrat*",placeholder:"CDI, CDD, Apprentissage...",value:C,onChangeText:function(e){return T(e)},errorMessage:se.employmentType}),s.a.createElement(ae.e,{label:"Organisation*",placeholder:"Deloitte, Engie, EY...",value:A,onChangeText:function(e){return z(e)},errorMessage:se.organisation}),s.a.createElement(ae.e,{placeholder:"Paris, Shanghai, Lyon...",label:"Ville*",value:I,onChangeText:function(e){return V(e)},errorMessage:se.city}),s.a.createElement(ae.e,{placeholder:"Auditeur des SI, Pentester junior...",label:"Intitul\xe9 du poste*",value:J,onChangeText:function(e){return W(e)},errorMessage:se.jobTitle}),s.a.createElement(ae.e,{label:"Description du poste*",multiline:!0,inputStyle:{height:200,textAlignVertical:"top"},placeholder:"Les missions, les comp\xe9tences requises, l'employeur...",value:Y,onChangeText:function(e){return K(e)},errorMessage:se.jobDesc}),s.a.createElement(ae.e,{label:"Exp\xe9rience*",placeholder:"Ann\xe9es pass\xe9es dans un poste similaire",value:Z,keyboardType:"number-pad",onChangeText:function(e){return $(e)},errorMessage:se.minExp}),s.a.createElement(ae.e,{label:"R\xe9mun\xe9ration",placeholder:"En \u20ac",keyboardType:"decimal-pad",value:M,onChangeText:function(e){return B(e)},showSoftInputOnFocus:!1,errorMessage:se.salary}),s.a.createElement(p.a,{style:{marginBottom:12,flexDirection:"row",display:"flex",height:40}},s.a.createElement(ie.a,{style:{color:v.colors.grey3,fontWeight:"bold",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:"center"}},"Poste \xe0 pourvoir d\xe8s que possible"),s.a.createElement(ve.a,{trackColor:{false:v.colors.grey4,true:v.colors.primarySoft},thumbColor:w?v.colors.primary:v.colors.grey2,value:w,onValueChange:function(e){return _(e)}})),s.a.createElement(ae.e,{label:"Contact",placeholder:"Email",value:ne,onChangeText:function(e){return re(e)},errorMessage:se.contact})),s.a.createElement(p.a,{style:{paddingTop:8}},s.a.createElement(ae.b,{title:"Valider les changements",loading:b,onPress:function(){y(!0),ue(),y(!1),o(),l.navigate("Read")},buttonStyle:{backgroundColor:v.colors.primary}}),s.a.createElement(ae.b,{title:"Supprimer l'offre",loading:d,onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,a.a.awrap(n(S._id));case 3:f(!1),o(),l.navigate("Read");case 6:case"end":return e.stop()}}),null,null,null,Promise)},buttonStyle:{backgroundColor:v.colors.error}})))})),Te=Object(ne.a)(),Re=function(){return s.a.createElement(p.a,{style:{flex:1}},s.a.createElement(Te.Navigator,{initialRouteName:"Read",headerMode:"screen"},s.a.createElement(Te.Screen,{name:"Read",component:Se,options:{headerShown:!1}}),s.a.createElement(Te.Screen,{name:"Edit",component:Ce,options:{title:"Modifier"}})))},xe=n(126),we=n(49),_e=n(54),Pe=n(40),Ue=function(e){var t=e.item,n=e.navigation;return s.a.createElement(Pe.f,{onPress:function(){return n.navigate("Read",{job:t,id:t._id})}},s.a.createElement(p.a,{style:{paddingTop:8,paddingHorizontal:20,marginVertical:4,marginHorizontal:0,borderBottomWidth:1,borderBottomColor:_e.colors.grey4,paddingVertical:12,flexDirection:"row"}},s.a.createElement(p.a,{style:{flex:1}},s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",fontWeight:"bold",fontSize:16}},null==t?void 0:t.jobTitle," en ",null==t?void 0:t.employmentType),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},s.a.createElement(ae.d,{name:"briefcase",size:20,color:"grey"}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8}},null==t?void 0:t.organisation)),s.a.createElement(p.a,{style:{flexDirection:"row",flex:1,alignItems:"center"}},s.a.createElement(ae.d,{name:"map-marker",size:20}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8,flex:1}},ue.a.capitalize(null==t?void 0:t.city)),s.a.createElement(ie.a,{color:"grey",style:{color:"grey",fontSize:10,textAlignVertical:"bottom"}},ue.a.capitalize(ye()(null==t?void 0:t.publishedAt).locale("fr").fromNow()))))))},Ae=Object(l.b)((function(e){return{auth:e.auth,jobs:e.jobs}}),(function(e){return{fetchJobs:function(){return e({type:"REQUEST_JOBS",route:"jobs",method:"GET"})}}}))((function(e){var t=e.navigation,n=e.fetchJobs,r=e.jobs,a=Object(c.useState)(!1),o=i()(a,2),l=o[0],u=o[1];Object(c.useEffect)((function(){n()}),[]);var m=Object(c.useCallback)((function(){u(!0),n(),u(!1)}),[l]);return s.a.createElement(p.a,{style:{flex:1}},r.isLoaded?s.a.createElement(ce.a,{style:{borderRadius:0,shadowOffset:{width:10,height:10},shadowColor:"black",shadowOpacity:.3,elevation:2,backgroundColor:"white"},data:r.jobs,renderItem:function(e){var n=e.item;return s.a.createElement(Ue,{item:n,navigation:t})},keyExtractor:function(e){return null==e?void 0:e._id},refreshControl:s.a.createElement(xe.a,{refreshing:l,onRefresh:m})}):s.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},s.a.createElement(we.a,{size:"large"})),s.a.createElement(ae.b,{containerStyle:{position:"absolute",bottom:0,left:10},buttonStyle:{borderRadius:50},icon:s.a.createElement(ae.d,{name:"plus",size:30,color:"white"}),onPress:function(){return t.navigate("Post")}}))})),ze=Object(l.b)((function(e){return{auth:e.auth,jobs:e.jobs}}),(function(e){return{fetchJobs:function(){return e({type:"REQUEST_JOBS",route:"jobs",method:"GET"})}}}))((function(e){var t=e.route.params.job;return s.a.createElement(p.a,{style:{flex:1,alignContent:"space-between",paddingVertical:10,paddingHorizontal:8,backgroundColor:"white"}},s.a.createElement(je.a,{style:{flex:1,paddingHorizontal:12}},s.a.createElement(p.a,{style:{alignItems:"flex-end"}},s.a.createElement(ie.a,{style:{color:"grey",fontSize:12,textAlignVertical:"bottom"}},ue.a.capitalize(ye()(t.publishedAt).locale("fr").fromNow()))),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},s.a.createElement(ae.d,{name:"briefcase",size:25,color:"grey"}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8,fontSize:20}},t.organisation)),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},s.a.createElement(ae.d,{name:"map-marker",size:25,color:_e.colors.grey2}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8,fontSize:20}},ue.a.capitalize(t.city))),s.a.createElement(ie.a,{style:{color:_e.colors.grey3,fontWeight:"bold",fontSize:16,marginTop:8}},"Description"),s.a.createElement(ie.a,{style:{marginBottom:4,textAlign:"justify",fontSize:16}},t.jobDesc),t.salary&&s.a.createElement(ie.a,null,"R\xe9mun\xe9ration \xe0 hauteur de ",t.salary," brut."),t.asap&&s.a.createElement(ie.a,{style:{color:_e.colors.primary}},"Poste \xe0 pourvoir d\xe8s que possible."),s.a.createElement(ie.a,{style:{color:_e.colors.grey3,fontWeight:"bold",fontSize:16,marginTop:8}},"Contact"),s.a.createElement(ie.a,null,t.contact)))})),De=n(479),ke=n.n(De),Ie=function(e){ke()(e);var t=Object(c.useContext)(ae.f).theme,n=Object(l.d)(),r=Object(c.useState)(!1),a=i()(r,2),o=a[0],u=a[1],m=Object(c.useState)({}),d=i()(m,2),f=d[0],g=d[1],E=Object(c.useState)(""),b=i()(E,2),y=b[0],h=b[1],S=Object(c.useState)(!1),v=i()(S,2),j=v[0],O=v[1],C=Object(c.useState)(""),T=i()(C,2),R=T[0],x=T[1],w=Object(c.useState)(""),_=i()(w,2),P=_[0],U=_[1],A=Object(c.useState)(""),z=i()(A,2),D=z[0],k=z[1],I=Object(c.useState)(""),V=i()(I,2),N=V[0],L=V[1],M=Object(c.useState)(),B=i()(M,2),Q=B[0],H=B[1],J=Object(c.useState)(),W=i()(J,2),G=W[0],F=W[1],Y=Object(c.useState)(""),K=i()(Y,2),q=K[0],X=K[1],Z=!!(P&&R&&y&&N&&D&&q);return s.a.createElement(p.a,{style:{flex:1}},s.a.createElement(p.a,{style:{flex:1,backgroundColor:"white"}},s.a.createElement(je.a,{style:{paddingHorizontal:12,paddingTop:20,paddingBottom:100}},s.a.createElement(ae.e,{label:"Type de contrat*",placeholder:"CDI, CDD, Apprentissage...",value:y,onChangeText:function(e){return h(e)},errorMessage:f.employmentType}),s.a.createElement(ae.e,{label:"Organisation*",placeholder:"Deloitte, Engie, EY...",value:R,onChangeText:function(e){return x(e)},errorMessage:f.organisation}),s.a.createElement(ae.e,{placeholder:"Paris, Shanghai, Lyon...",label:"Ville*",value:P,onChangeText:function(e){return U(e)},errorMessage:f.city}),s.a.createElement(ae.e,{placeholder:"Auditeur des SI, Pentester junior...",label:"Intitul\xe9 du poste*",value:D,onChangeText:function(e){return k(e)},errorMessage:f.jobTitle}),s.a.createElement(ae.e,{label:"Description du poste*",multiline:!0,inputStyle:{height:200,textAlignVertical:"top"},placeholder:"Les missions, les comp\xe9tences requises, l'employeur...",value:N,onChangeText:function(e){return L(e)},errorMessage:f.jobDesc}),s.a.createElement(ae.e,{label:"Exp\xe9rience",placeholder:"Ann\xe9es pass\xe9es dans un poste similaire",value:G,keyboardType:"numeric",onChangeText:function(e){return F(e)},errorMessage:f.minExp}),s.a.createElement(ae.e,{label:"R\xe9mun\xe9ration",placeholder:"En \u20ac",value:Q,onChangeText:function(e){return H(e)},showSoftInputOnFocus:!1,errorMessage:f.salary}),s.a.createElement(p.a,{style:{marginBottom:12,flexDirection:"row",display:"flex",height:40}},s.a.createElement(ie.a,{style:{color:t.colors.grey3,fontWeight:"bold",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:"center"}},"Poste \xe0 pourvoir d\xe8s que possible"),s.a.createElement(ve.a,{value:j,onValueChange:function(e){return O(e)}})),s.a.createElement(ae.e,{label:"Contact*",placeholder:"Email",value:q,onChangeText:function(e){return X(e)},errorMessage:f.contact}),s.a.createElement(ae.b,{title:Z?"Poster l'offre d'emploi":"Veuillez remplir tous les champs obligatoires",loading:o,disabled:!Z,buttonStyle:{height:50,marginBottom:12},onPress:function(){return u(!0),n({type:"REQUEST_CREATE_JOB",route:"jobs",payload:{employmentType:y,asap:j,organisation:R,city:P,salary:Q,jobDesc:N,jobTitle:D,minExp:G,contact:q},method:"POST",successNotification:{message:"Votre offre d'emploi a \xe9t\xe9 cr\xe9\xe9e",redirect:"MyJobs"},errorNotification:!0}),u(!1),O(!1),U(),H(),X(),g({}),h(),x(),L(),k(),void u(!1)}}),s.a.createElement(p.a,{style:{height:20}}))))},Ve=Object(ne.a)(),Ne=function(e){var t=e.navigation;return s.a.createElement(p.a,{style:{flex:1}},s.a.createElement(Ee,{title:"Emplois",navigation:t}),s.a.createElement(Ve.Navigator,{initialRouteName:"List",headerMode:"screen"},s.a.createElement(Ve.Screen,{name:"List",component:Ae,options:{headerShown:!1}}),s.a.createElement(Ve.Screen,{name:"Read",component:ze,options:function(e){var t=e.route;return{title:t.params.job.jobTitle+" - "+t.params.job.employmentType,headerStatusBarHeight:0}}}),s.a.createElement(Ve.Screen,{name:"Post",component:Ie,options:{title:"Poster une offre d'emploi",headerStatusBarHeight:0}})))},Le=n(228),Me=function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),a=r.length,o=new Uint8Array(a);a--;)o[a]=r.charCodeAt(a);return new Blob([o],{type:n})},Be=function(e,t,n){var r=new FormData;return r.append("file",e),n&&r.append("name",n),{type:"REQUEST_UPLOAD_FILE",route:"files/"+t,payload:r,method:"POST",errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}},Qe=function(e){var t=e.navigation,n=Object(c.useState)(!1),r=i()(n,2),o=r[0],u=r[1],d=Object(c.useContext)(ae.f).theme,f=Object(l.e)((function(e){return e.auth})).user,g=Object(l.d)();return s.a.createElement(p.a,{style:{flex:1}},s.a.createElement(Ee,{navigation:t,title:"Mon profil",leftButton:"back",noRightButton:!0}),f?s.a.createElement(p.a,{style:{flex:1,alignContent:"space-between",backgroundColor:"white"}},s.a.createElement(je.a,{style:{paddingTop:40,flex:1,paddingHorizontal:12}},s.a.createElement(de.a,{colors:[d.colors.primary,d.colors.secondary],start:[.25,1],end:[0,0],style:{flexDirection:"row",marginBottom:20,paddingVertical:8,paddingHorizontal:16,borderRadius:5}},s.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},s.a.createElement(ie.a,{style:{fontSize:20,color:d.colors.grey5}},ue.a.capitalize(f.firstname)),s.a.createElement(ie.a,{style:{fontSize:30,color:"white",fontWeight:"bold"}},ue.a.capitalize(f.lastname)),f.professor&&s.a.createElement(ie.a,{style:{color:d.colors.grey4,paddingLeft:4}},"Professeur"),f.administration&&s.a.createElement(ie.a,{style:{color:d.colors.grey4,paddingLeft:4}},"Membre du corps administratif")),f.avatar?s.a.createElement(ae.a,{size:"xlarge",containerStyle:{borderColor:"white",borderWidth:3},source:{uri:M+"/api/files/avatars/"+f.avatar},onPress:function(){return u(!o)}}):s.a.createElement(ae.a,{size:"xlarge",containerStyle:{borderColor:"white",borderWidth:3},title:f.firstname.charAt(0).concat(f.lastname.charAt(0)).toUpperCase(),onPress:function(){return u(!o)}}),s.a.createElement(p.a,{style:{marginLeft:-40,justifyContent:"space-between"}},s.a.createElement(ae.b,{icon:s.a.createElement(ae.d,{name:"pencil",color:d.colors.secondary}),onPress:function(){return function(){var e,t,n,r;a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,a.a.awrap(Le.b());case 2:return o.next=4,a.a.awrap(Le.a({allowsEditing:!0}));case 4:if(!(e=o.sent).cancelled){o.next=7;break}return o.abrupt("return");case 7:if("web"!==m.a.OS){o.next=13;break}t=Me(e.uri),console.log("selectPicture -> blob",t),g(Be(t,"avatars")),o.next=22;break;case 13:return o.next=15,a.a.awrap(fetch(e.uri));case 15:return n=o.sent,console.log("selectPicture -> res",n),o.next=19,a.a.awrap(n.blob());case 19:r=o.sent,console.log("selectPicture -> blob",r),g(Be(r,"avatars"));case 22:case"end":return o.stop()}}),null,null,null,Promise)}(),void u(!1)},buttonStyle:{elevation:10,backgroundColor:d.colors.primaryLight,width:40,height:40,borderRadius:40}}),f.avatar&&s.a.createElement(ae.b,{icon:s.a.createElement(ae.d,{name:"delete",color:d.colors.grey4}),buttonStyle:{backgroundColor:d.colors.grey0,width:40,height:40,borderRadius:40},onPress:function(){return g((e="avatars",t=f.avatar,{type:"REQUEST_DELETE_FILE",route:"files/"+e+"/"+t,method:"DELETE",successNotification:{message:"Votre document a bien \xe9t\xe9 supprim\xe9 de la base de donn\xe9es.",variant:"success",timeout:2e3},errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}));var e,t}}))),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},s.a.createElement(ae.d,{name:"briefcase",size:20,color:"grey"}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginHorizontal:8,flex:1}},f.jobTitle," chez ",f.organisation)),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},s.a.createElement(ae.d,{name:"school",size:20,color:"grey"}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginHorizontal:8,flex:1}},"Promotion ",f.promo)),s.a.createElement(ae.c,{style:{marginVertical:20,backgroundColor:"grey",borderWidth:1,width:20}}),s.a.createElement(p.a,{style:{flexDirection:"row"}},s.a.createElement(ie.a,{style:{textAlign:"justify",flex:1,marginEnd:8}},f.description)),s.a.createElement(ae.c,{style:{marginVertical:20,backgroundColor:"grey",borderWidth:1,width:20}}),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},s.a.createElement(ae.d,{name:"at",size:20,color:"grey"}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8,flex:1}},f.email))),s.a.createElement(p.a,{style:{paddingHorizontal:20}},s.a.createElement(ae.b,{title:"Editer",onPress:function(){return t.navigate("Edit")}}))):s.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},s.a.createElement(we.a,{size:"large"})))};function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Je=Object(l.b)((function(e){return{auth:e.auth}}),(function(e){return{updateUser:function(t){return e(function(e){return{type:"REQUEST_UPDATE_USER",method:"PATCH",route:"auth",payload:e,successNotification:{message:"Vos informations ont \xe9t\xe9 mises \xe0 jour.",variant:"success",redirect:"Read"},errorNotification:!0}}(t))},deleteAccount:function(t){return e({type:"REQUEST_DELETE_ACCOUNT",method:"DELETE",route:"auth",successNotification:{message:"Votre compte a bien \xe9t\xe9 supprim\xe9.",redirect:"Auth"},errorNotification:!0})},updateUserPassword:function(t,n){return e(function(e,t){return{type:"REQUEST_UPDATE_USER",method:"PATCH",route:"auth/password",payload:{password:e,newPassword:t},successNotification:{message:"Votre mot de passe \xe0 \xe9t\xe9 mis \xe0 jour.",variant:"success",redirect:"Read"},errorNotification:!0}}(t,n))}}}))((function(e){var t=e.updateUser,n=e.deleteAccount,r=e.auth,a=e.updateUserPassword,o=Object(c.useContext)(ae.f).theme,l=Object(c.useState)(null==r?void 0:r.user.description),u=i()(l,2),m=u[0],d=u[1],f=Object(c.useState)(null==r?void 0:r.user.email),g=i()(f,2),E=g[0],b=g[1],y=Object(c.useState)(null==r?void 0:r.user.jobTitle),S=i()(y,2),v=S[0],j=S[1],O=Object(c.useState)(null==r?void 0:r.user.organisation),C=i()(O,2),T=C[0],R=C[1],x=Object(c.useState)(""+((null==r?void 0:r.user.promo)||"")),w=i()(x,2),_=w[0],P=w[1],U=Object(c.useState)(null==r?void 0:r.user.alumni),A=i()(U,2),z=A[0],D=A[1],k=Object(c.useState)(null==r?void 0:r.user.professor),I=i()(k,2),V=I[0],N=I[1],L=Object(c.useState)(null==r?void 0:r.user.administration),M=i()(L,2),B=M[0],Q=M[1],H=Object(c.useState)(""),J=i()(H,2),W=J[0],G=J[1],F=Object(c.useState)(""),Y=i()(F,2),K=Y[0],q=Y[1],X=Object(c.useState)(""),Z=i()(X,2),$=Z[0],ee=Z[1],te=Object(c.useState)(""),ne=i()(te,2),re=ne[0],oe=ne[1],ce=Object(c.useState)(!1),le=i()(ce,2),ue=le[0],me=le[1],de=Object(c.useState)(!1),pe=i()(de,2),fe=pe[0],ge=pe[1],Ee=Object(c.useState)(!1),be=i()(Ee,2),ye=be[0],he=be[1],Se=function(){t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},null==r?void 0:r.user,{description:m,email:E,jobTitle:v,organisation:T,promo:_,alumni:z,professor:V,administration:B}))};return s.a.createElement(p.a,{style:{flex:1,alignContent:"space-between",paddingVertical:8,paddingHorizontal:8,backgroundColor:"white"}},s.a.createElement(je.a,null,s.a.createElement(p.a,{style:{borderBottomColor:o.colors.grey4,borderBottomWidth:1}},s.a.createElement(se.a,{style:{paddingVertical:12,paddingHorizontal:12,flexDirection:"row",justifyContent:"space-between",alignContent:"center"},onPress:function(){return he(!ye)}},s.a.createElement(ie.a,{style:{fontSize:16}},"Editer mes informations"),s.a.createElement(ae.d,{name:ye?"chevron-up":"chevron-down"})),ye&&s.a.createElement(p.a,{style:{marginBottom:12}},s.a.createElement(p.a,{style:{marginBottom:12,flexDirection:"row",display:"flex",height:40}},s.a.createElement(ie.a,{style:{color:o.colors.grey3,fontWeight:"bold",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:"center"}},"Diplom\xe9"),s.a.createElement(ve.a,{value:z,onValueChange:function(e){return D(e)}})),z&&s.a.createElement(ae.e,{label:"Promotion",value:_,onChangeText:function(e){return P(e)},leftIcon:s.a.createElement(ae.d,{name:"school"})}),s.a.createElement(p.a,{style:{marginBottom:12,flexDirection:"row",display:"flex",height:40}},s.a.createElement(ie.a,{style:{color:o.colors.grey3,fontWeight:"bold",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:"center"}},"Membre du corps professoral"),s.a.createElement(ve.a,{value:V,onValueChange:function(e){return N(e)}})),s.a.createElement(p.a,{style:{marginBottom:12,flexDirection:"row",display:"flex",height:40}},s.a.createElement(ie.a,{style:{color:o.colors.grey3,fontWeight:"bold",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:"center"}},"Membre du corps administratif"),s.a.createElement(ve.a,{value:B,onValueChange:function(e){return Q(e)}})),s.a.createElement(ae.e,{value:T,label:"Organisation",onChangeText:function(e){return R(e)},leftIcon:s.a.createElement(ae.d,{name:"domain"})}),s.a.createElement(ae.e,{value:v,onChangeText:function(e){return j(e)},label:"Profession",leftIcon:s.a.createElement(ae.d,{name:"briefcase"})}),s.a.createElement(ae.e,{label:"Description",value:m,multiline:!0,numberOfLines:8,onChangeText:function(e){return d(e)}}),s.a.createElement(ae.e,{label:"email",value:E,leftIcon:s.a.createElement(ae.d,{name:"email"}),onChangeText:function(e){return b(e)}}),s.a.createElement(ae.b,{title:"Valider les changements",onPress:function(){return Se()},buttonStyle:{backgroundColor:o.colors.primary}}))),s.a.createElement(p.a,{style:{borderBottomColor:o.colors.grey4,borderBottomWidth:1}},s.a.createElement(se.a,{style:{paddingVertical:12,paddingHorizontal:12,flexDirection:"row",justifyContent:"space-between"},onPress:function(){return me(!ue)}},s.a.createElement(ie.a,{style:{fontSize:16}},"Changer mon mot de passe"),s.a.createElement(ae.d,{name:ue?"chevron-up":"chevron-down"})),ue&&s.a.createElement(p.a,{style:{marginBottom:12}},s.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:s.a.createElement(ae.d,{name:"lock"}),label:"Ancien mot de passe",secureTextEntry:!0,value:W,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:20,marginTop:8},onChangeText:function(e){return G(e)}}),s.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:s.a.createElement(ae.d,{name:"lock"}),label:"Nouveau mot de passe",secureTextEntry:!0,value:re,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:20,marginTop:8},onChangeText:function(e){ee(""),oe(e)},errorMessage:$}),s.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:s.a.createElement(ae.d,{name:K===re?"check":"close",color:K===re?"green":"red"}),label:"Confirmation",secureTextEntry:!0,value:K,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:40,marginTop:8},onChangeText:function(e){return q(e)}}),s.a.createElement(ae.b,{title:"Valider",onPress:function(){return re.length<8?ee("Choisissez un mot de passe d'au moins 8 caract\xe8res."):re!==K?ee("Les mots de passe ne correspondent pas."):void a(W,re)},buttonStyle:{backgroundColor:o.colors.primary},loading:r.isUpdatingPassword}))),s.a.createElement(p.a,null,s.a.createElement(se.a,{style:{paddingVertical:12,paddingHorizontal:12,flexDirection:"row",justifyContent:"space-between"},onPress:function(){return ge(!fe)}},s.a.createElement(ie.a,{style:{fontSize:16}},"Supprimer mon compte"),s.a.createElement(ae.d,{name:fe?"chevron-up":"chevron-down"})),fe&&s.a.createElement(p.a,{style:{marginBottom:12}},s.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:s.a.createElement(ae.d,{name:"lock"}),label:"Mot de passe",secureTextEntry:!0,value:W,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:20,marginTop:8},onChangeText:function(e){return G(e)}}),s.a.createElement(ae.b,{title:"Valider",disabled:!W,onPress:function(e){return n(e)},buttonStyle:{backgroundColor:o.colors.error}})))))})),We=Object(ne.a)(),Ge=function(){return s.a.createElement(p.a,{style:{flex:1}},s.a.createElement(We.Navigator,{initialRouteName:"Lobby",headerMode:"screen"},s.a.createElement(We.Screen,{name:"Read",component:Qe,options:{headerShown:!1}}),s.a.createElement(We.Screen,{name:"Edit",component:Je,options:{title:"Modifier mon compte"}})))},Fe=function(e){var t=e.item,n=e.navigation;return t?s.a.createElement(se.a,{onPress:function(){n.navigate("Read",{id:t._id,item:t})}},s.a.createElement(p.a,{style:{paddingTop:8,paddingHorizontal:20,marginVertical:4,marginHorizontal:0,borderBottomWidth:1,borderBottomColor:_e.colors.grey4,paddingVertical:12,flexDirection:"row"}},s.a.createElement(p.a,{style:{alignContent:"center",justifyContent:"center",alignItems:"center",marginRight:12}},t.avatar?s.a.createElement(ae.a,{source:{uri:M+"/api/files/avatars/"+t.avatar},size:"medium"}):s.a.createElement(ae.a,{size:"medium",title:t.firstname[0].concat(t.lastname[0]).toUpperCase()})),s.a.createElement(p.a,null,s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",fontWeight:"bold",fontSize:16}},ue.a.capitalize(t.firstname)," ",ue.a.capitalize(t.lastname)),s.a.createElement(p.a,{style:{flexDirection:"row",flex:1,alignItems:"center"}},s.a.createElement(ae.d,{name:"account-card-details",size:20}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8}},t.jobTitle," chez ",t.organisation)),s.a.createElement(p.a,{style:{flexDirection:"row",flex:1,alignItems:"center"}},s.a.createElement(ae.d,{name:"school",size:20}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8}},"SIEE promotion ",t.promo))))):null},Ye=function(e){var t=e.navigation,n=Object(l.d)(),r=Object(l.e)((function(e){return e})).users;return Object(c.useEffect)((function(){n({type:"REQUEST_USERS",method:"GET",route:"users"})}),[]),s.a.createElement(p.a,{style:{flex:1}},r.isLoaded?s.a.createElement(ce.a,{style:{borderRadius:0,shadowOffset:{width:10,height:10},shadowColor:"black",shadowOpacity:.3,elevation:2,backgroundColor:"white"},data:r.users,renderItem:function(e){var n=e.item;return s.a.createElement(Fe,{item:n,navigation:t})},keyExtractor:function(e){return e._id}}):s.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},s.a.createElement(we.a,{size:"large"})))};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=function(e){return{type:"SOCKET",event:"private-conversation",payload:qe({},e,{sentAt:new Date})}},Ze=function(e){var t=e.route,n=e.navigation,r=Object(l.e)((function(e){return e})).auth,a=Object(l.d)(),o=t.params.item,i=ue.a.capitalize(o.firstname)+" "+ue.a.capitalize(o.lastname);return o?s.a.createElement(p.a,{style:{flex:1,alignContent:"space-between",paddingVertical:10,paddingHorizontal:8,backgroundColor:"white"}},s.a.createElement(je.a,{style:{flex:1}},s.a.createElement(de.a,{colors:[_e.colors.primary,_e.colors.secondary],start:[.25,1],end:[0,0],style:{flexDirection:"row",marginBottom:20,paddingVertical:8,paddingHorizontal:16,borderRadius:5}},s.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},s.a.createElement(ie.a,{style:{fontSize:20,color:_e.colors.grey5}},ue.a.capitalize(o.firstname)),s.a.createElement(ie.a,{style:{fontSize:30,color:"white",fontWeight:"bold"}},ue.a.capitalize(o.lastname)),o.professor&&s.a.createElement(ie.a,{style:{color:_e.colors.grey4,paddingLeft:4}},"Professeur"),o.administration&&s.a.createElement(ie.a,{style:{color:_e.colors.grey4,paddingLeft:4}},"Membre du corps administratif")),o.avatar?s.a.createElement(ae.a,{size:"xlarge",containerStyle:{borderColor:"white",borderWidth:3},source:{uri:M+"/api/files/avatars/"+o.avatar}}):s.a.createElement(ae.a,{size:"xlarge",containerStyle:{borderColor:"white",borderWidth:3},title:o.firstname.charAt(0).concat(o.lastname.charAt(0)).toUpperCase()})),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},s.a.createElement(ae.d,{name:"briefcase",size:20,color:"grey"}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginHorizontal:8,flex:1}},o.jobTitle," chez ",o.organisation)),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},s.a.createElement(ae.d,{name:"school",size:20,color:"grey"}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginHorizontal:8,flex:1}},"Promotion ",o.promo)),s.a.createElement(ae.c,{style:{marginVertical:20,backgroundColor:"grey",borderWidth:1,width:20}}),s.a.createElement(p.a,{style:{flexDirection:"row"}},s.a.createElement(ie.a,{style:{textAlign:"justify",flex:1,marginEnd:8}},o.description)),s.a.createElement(ae.c,{style:{marginVertical:20,backgroundColor:"grey",borderWidth:1,width:20}}),s.a.createElement(p.a,{style:{flexDirection:"row"}},s.a.createElement(ae.d,{name:"at",size:20,color:"grey"}),s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8,flex:1}},o.email))),o._id!==r.user._id&&s.a.createElement(p.a,null,s.a.createElement(ae.b,{title:"Contacter",onPress:function(){var e=null==r?void 0:r.user.privateConversations.filter((function(e){return e.interlocutor_id==o._id}));e.length>0?n.navigate("Messages",{screen:"Room",params:{title:i,conversation_id:e[0].conversation_id}}):a(B({form:{action:Xe,inputName:"text",actionParams:{recipient:o._id},message:"Demarrer une conversation avec "+ue.a.capitalize(o.firstname)+" "+ue.a.capitalize(o.lastname)},redirect:"Messages"}))}}))):null},$e=Object(ne.a)(),et=function(e){var t=e.navigation;return s.a.createElement(p.a,{style:{flex:1}},s.a.createElement(Ee,{title:"Annuaire",navigation:t}),s.a.createElement($e.Navigator,{initialRouteName:"List",headerMode:"screen"},s.a.createElement($e.Screen,{name:"List",component:Ye,options:{headerShown:!1}}),s.a.createElement($e.Screen,{name:"Read",component:Ze,options:{headerStatusBarHeight:0,title:""}})))},tt=n(57),nt=function(e){var t,n,r,a,o,i,c,l=e.item,u=e.navigation,m=e.auth,d=e.theme,f=(e.dispatch,function(){var e,t,n,r,a;return ue.a.remove(l.participants,(function(e){return e._id===(null==m?void 0:m.user._id)})),(null==(e=l.participants)?void 0:e.length)>1?(null==(n=l.participants)?void 0:n.map((function(e){return ue.a.capitalize(e.firstname)}))).toString().replace(",",", "):1===(null==(t=l.participants)?void 0:t.length)?ue.a.capitalize(null==(r=l.participants[0])?void 0:r.firstname).concat(" ",ue.a.capitalize(null==(a=l.participants[0])?void 0:a.lastname)):"Compte supprim\xe9"}),g=f(),E=f();return l?s.a.createElement(se.a,{onPress:function(){return u.navigate("Room",{title:g,conversation_id:l._id})}},s.a.createElement(p.a,{style:{paddingHorizontal:8,paddingVertical:8,borderBottomColor:"white",borderBottomWidth:3,backgroundColor:"white"}},s.a.createElement(p.a,{style:{flexDirection:"row"}},s.a.createElement(p.a,{style:{alignContent:"center",justifyContent:"center",paddingRight:8}},(null==(t=l.participants[0])?void 0:t.avatar)?s.a.createElement(ae.a,{source:{uri:M+"/api/files/avatars/"+(null==(n=l.participants[0])?void 0:n.avatar)},size:"medium"}):s.a.createElement(ae.a,{size:"medium",title:null==(r=l.participants[0])?void 0:r.firstname[0].concat(null==(a=l.participants[0])?void 0:a.lastname[0]).toUpperCase()})),s.a.createElement(p.a,{style:{flex:1,justifyContent:"flex-start"}},s.a.createElement(p.a,{style:{flexDirection:"row",justifyContent:"space-between"}},s.a.createElement(ie.a,{style:{textAlignVertical:"bottom",fontSize:16,fontWeight:"bold"}},E),s.a.createElement(ie.a,{color:"grey",style:{color:"grey",fontSize:10,textAlignVertical:"bottom"}},ue.a.capitalize(ye()(null==(o=l.lastMessage)?void 0:o.sentAt).locale("fr").fromNow()))),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},s.a.createElement(p.a,{style:{alignContent:"center",justifyContent:"center"}},(null==(i=l.lastMessage)?void 0:i.sender)===(null==m?void 0:m.user._id)?s.a.createElement(ae.d,{name:"arrow-top-right",color:d.colors.grey1,size:14}):s.a.createElement(ae.d,{name:"arrow-bottom-left",color:d.colors.grey3,size:14})),s.a.createElement(ie.a,{style:{textAlignVertical:"center",fontSize:14,flex:1}},null==(c=l.lastMessage)?void 0:c.text)))))):null},rt=function(e){var t=e.navigation,n=Object(c.useState)(!1),r=i()(n,2),a=r[0],o=r[1],u=Object(c.useState)(""),m=i()(u,2),d=(m[0],m[1],Object(c.useContext)(ae.f).theme),f=Object(l.d)(),g=Object(l.e)((function(e){return e})),E=g.chat,b=(g.users,g.auth);Object(c.useEffect)((function(){f({type:"REQUEST_CONVERSATIONS",method:"GET",route:"conversations"}),f({type:"REQUEST_USERS",method:"GET",route:"users"})}),[]);var y=Object(c.useCallback)((function(){o(!0),f({type:"REQUEST_CONVERSATIONS",method:"GET",route:"conversations"}),o(!1)}),[a]);return s.a.createElement(p.a,{style:{flex:1}},E.isLoaded?E.conversations.length>0?s.a.createElement(ce.a,{data:E.conversations,renderItem:function(e){var n=e.item;return s.a.createElement(nt,{item:n,auth:b,navigation:t,theme:d,dispatch:f})},keyExtractor:function(e){return e._id},refreshControl:s.a.createElement(xe.a,{refreshing:a,onRefresh:y})}):s.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},s.a.createElement(ie.a,{style:{textAlign:"center",color:d.colors.grey3}},"Aucune conversation"),s.a.createElement(ae.b,{title:"Rafraichir",type:"clear",onPress:function(){return f({type:"REQUEST_CONVERSATIONS",method:"GET",route:"conversations"})}})):s.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},s.a.createElement(we.a,{size:"large"})))},at=function(e){var t=e.message,n=e.incoming,r=e.theme;return s.a.createElement(p.a,{style:{flexDirection:"row"}},!n&&s.a.createElement(p.a,{style:{flex:1}}),s.a.createElement(p.a,{style:{backgroundColor:n?"white":r.colors.primary,borderTopLeftRadius:n?0:10,borderTopRightRadius:10,borderBottomLeftRadius:10,borderBottomRightRadius:n?10:0,maxWidth:"80%",paddingHorizontal:8,paddingVertical:8,marginBottom:8,marginHorizontal:8}},s.a.createElement(ie.a,{style:{color:n?"black":"white",textAlign:n?"left":"right"}},t.text)),n&&s.a.createElement(p.a,{style:{flex:1}}))},ot=function(e){var t=e.route.params.conversation_id,n=Object(c.useState)(""),r=i()(n,2),a=r[0],o=r[1],u=Object(c.useContext)(ae.f).theme,m=Object(l.e)((function(e){return e.auth})).user,d=Object(l.e)((function(e){return e.chat.conversations.filter((function(e){return e._id===t}))[0]})),f=Object(l.d)();Object(c.useEffect)((function(){f(function(e){return{type:"REQUEST_CONVERSATION",method:"GET",route:"conversations/single/"+e}}(t))}),[]);var g=function(){var e=null==d?void 0:d.participants.filter((function(e){return e._id!=m._id}));f({type:"SOCKET",event:"private-message",payload:qe({},{text:a,conversation_id:t,recipient:e[0]},{sentAt:new Date})}),o("")};return s.a.createElement(p.a,{style:{flex:1,justifyContent:"space-between"}},(null==d?void 0:d.messages)?s.a.createElement(ce.a,{data:d.messages,renderItem:function(e){var t=e.item;return s.a.createElement(at,{message:t,incoming:(null==t?void 0:t.sender)!==m._id,theme:u})},keyExtractor:function(e){return null==e?void 0:e._id},inverted:!0}):s.a.createElement(we.a,null),s.a.createElement(p.a,{style:{flexDirection:"row",backgroundColor:"white",paddingVertical:8,paddingHorizontal:16,alignItems:"center",justifyContent:"center",alignContent:"center"}},s.a.createElement(tt.a,{style:{height:40,flex:1},onChangeText:function(e){return o(e)},value:a,multiline:!0,placeholder:"Ecrivez votre message ici."}),s.a.createElement(ae.b,{icon:s.a.createElement(ae.d,{name:"send",size:20,color:a?u.colors.primary:u.colors.grey2}),disabled:!a,type:"clear",onPress:function(){return g()}})))},it=Object(ne.a)(),ct=function(e){var t=e.navigation;return s.a.createElement(p.a,{style:{flex:1}},s.a.createElement(Ee,{title:"Messagerie",navigation:t}),s.a.createElement(it.Navigator,{initialRouteName:"Lobby",headerMode:"screen"},s.a.createElement(it.Screen,{name:"Lobby",component:rt,options:{headerShown:!1}}),s.a.createElement(it.Screen,{name:"Room",component:ot,options:function(e){var t=e.route.params.title;return t?{title:t,headerStatusBarHeight:0}:{title:"Compte supprim\xe9",headerStatusBarHeight:0}}})))},st=n(37),lt=Object(l.b)((function(e){return{auth:e.auth}}),(function(e){return{logIn:function(t){return e(function(e){return{type:"REQUEST_LOG_IN",route:"/auth/login",payload:e,method:"POST",errorNotification:!0}}(t))}}}))((function(e){var t=e.auth,r=e.logIn,o=e.navigation,l=Object(c.useContext)(ae.f).theme,u=Object(c.useState)(""),m=i()(u,2),d=m[0],f=m[1],g=Object(c.useState)(""),E=i()(g,2),b=E[0],y=E[1],h=Object(c.useState)({}),S=i()(h,2),v=S[0],j=S[1];return s.a.createElement(p.a,{style:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:12,backgroundColor:"white"}},s.a.createElement(de.a,{colors:[l.colors.primary,l.colors.secondary],start:[.25,1],end:[0,0],style:{flexDirection:"row",marginBottom:20,height:150,width:150,borderRadius:100}},s.a.createElement(st.a,{source:n(686),style:{height:150,width:150,borderRadius:100}})),s.a.createElement(ae.e,{placeholder:"Email",leftIcon:s.a.createElement(ae.d,{name:"email",type:"material-community"}),value:d,onChangeText:function(e){return f(e)},label:"Email",errorStyle:{color:"red"},errorMessage:v.email}),s.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:s.a.createElement(ae.d,{name:"lock"}),label:"Mot de passe",secureTextEntry:!0,value:b,containerStyle:{marginBottom:30,marginTop:8},onChangeText:function(e){return y(e)},errorStyle:{color:"red"},errorMessage:v.password}),s.a.createElement(ae.b,{title:"Se connecter",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=4;break}return e.abrupt("return",j({email:"M\xe9l invalide."}));case 4:if(b){e.next=6;break}return e.abrupt("return",j({password:"Mot de passe invalide."}));case 6:j({}),r({email:d,password:b});case 8:case"end":return e.stop()}}),null,null,null,Promise)},loading:t.isLoggingIn,containerStyle:{marginBottom:20,marginTop:8}}),s.a.createElement(ae.b,{title:"Nouveau? Je m'enregistre.",type:"clear",onPress:function(){return o.navigate("SignUp")},containerStyle:{marginBottom:30}}))})),ut=Object(l.b)((function(e){return{auth:e.auth}}),(function(e){return{signUp:function(t){return e(function(e){return{type:"REQUEST_SIGN_UP",route:"/auth/signup",payload:e,method:"POST",successNotification:{message:'Bienvenue ! Rendez-vous \xe0 l\'onglet "Mon profil" pour \xe9diter vos informations.',variant:"success",redirect:"Root"},errorNotification:!0}}(t))}}}))((function(e){var t=e.signUp,n=e.auth,r=Object(c.useState)(""),o=i()(r,2),l=o[0],u=o[1],m=Object(c.useState)(""),d=i()(m,2),p=d[0],f=d[1],g=Object(c.useState)(""),E=i()(g,2),b=E[0],y=E[1],h=Object(c.useState)(""),S=i()(h,2),v=S[0],j=S[1],O=Object(c.useState)(""),C=i()(O,2),T=C[0],R=C[1],x=Object(c.useState)(""),w=i()(x,2),_=w[0],P=(w[1],Object(c.useState)({})),U=i()(P,2),A=U[0],z=U[1];return s.a.createElement(je.a,{containerStyle:{justifyContent:"center",alignItems:"center"},style:{backgroundColor:"white",paddingHorizontal:12,paddingVertical:20,flex:1}},s.a.createElement(ae.e,{placeholder:"Pr\xe9nom",value:l,onChangeText:function(e){return u(e)},label:"Pr\xe9nom",errorMessage:A.firstname}),s.a.createElement(ae.e,{placeholder:"Nom",value:p,onChangeText:function(e){return f(e)},label:"Nom",errorMessage:A.lastname}),s.a.createElement(ae.e,{placeholder:"Email",leftIcon:s.a.createElement(ae.d,{name:"email",type:"material-community"}),value:b,onChangeText:function(e){return y(e)},label:"Email",errorMessage:A.email}),s.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:s.a.createElement(ae.d,{name:"lock"}),label:"Mot de passe",secureTextEntry:!0,value:v,onChangeText:function(e){return j(e)},errorMessage:A.password}),s.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:s.a.createElement(ae.d,{name:T!==v||v.length<8?"close":"check",color:T!==v||v.length<8?"red":"green"}),label:"Confirmation",secureTextEntry:!0,value:T,leftIconContainerStyle:{marginRight:12},onChangeText:function(e){return R(e)},errorMessage:A.confirmation}),s.a.createElement(ae.b,{title:"S'inscrire",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=4;break}return e.abrupt("return",z({firstname:"Pr\xe9nom manquant."}));case 4:if(p){e.next=8;break}return e.abrupt("return",z({lastname:"Nom manquant."}));case 8:if(b){e.next=12;break}return e.abrupt("return",z({mail:"M\xe9l manquant."}));case 12:if(v.length<8!==!0){e.next=16;break}return e.abrupt("return",z({password:"Mot de passe manquant."}));case 16:if(v===T){e.next=18;break}return e.abrupt("return",z({confirmation:"Veuillez retaper la confirmation de votre mot de passe."}));case 18:z({}),t({email:b,password:v,firstname:l,lastname:p,code:_});case 20:case"end":return e.stop()}}),null,null,null,Promise)},loading:n.isSigningUp,containerStyle:{marginBottom:20,marginTop:40}}))})),mt=Object(ne.a)(),dt=function(){return s.a.createElement(p.a,{style:{flex:1}},s.a.createElement(mt.Navigator,{initialRouteName:"LogIn",headerMode:"screen"},s.a.createElement(mt.Screen,{name:"LogIn",component:lt,options:{headerShown:!1}}),s.a.createElement(mt.Screen,{name:"SignUp",component:ut,options:{title:"S'inscrire"}})))},pt=n(39);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var gt=function(e){var t=e.notification,n=e.theme;return s.a.createElement(p.a,{style:{backgroundColor:"white",borderRadius:10,justifyContent:"center",alignItems:"center",paddingHorizontal:12,paddingVertical:8,elevation:8}},s.a.createElement(ae.d,{containerStyle:{marginBottom:8},size:30,name:"success"===t.variant?"check-circle-outline":"warning"===t.variant?"alert-circle-outline":"error"===t.variant?"close-circle-outline":t.icon,color:"success"===t.variant?"green":"warning"===t.variant?"yellow":"error"===t.variant?"red":"error"===t.variant?"blue":n.colors.grey1}),t.message&&s.a.createElement(ie.a,{style:{fontSize:14}},t.message))},Et=function(e){var t=e.form,n=e.dispatchRedirectReset,r=e.theme,a=e.dispatch,o=Object(c.useState)(""),l=i()(o,2),u=l[0],m=l[1];return s.a.createElement(p.a,{style:{backgroundColor:"white",borderRadius:10,justifyContent:"center",alignItems:"center",paddingHorizontal:12,paddingVertical:8,elevation:8}},s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center",alignContent:"center",marginTop:8}},t.message&&s.a.createElement(ie.a,{style:{fontSize:14}},t.message)),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"stretch",marginTop:8}},s.a.createElement(tt.a,{value:u,multiline:!0,placeholder:"Ecrivez ici.",placeholderTextColor:"grey",onChangeText:function(e){return m(e)},style:{backgroundColor:r.colors.grey5,borderColor:r.colors.grey4,borderWidth:1,borderRadius:5,height:60,paddingHorizontal:4,paddingVertical:4,flex:1},textAlignVertical:"top"}),s.a.createElement(ae.b,{buttonStyle:{height:60,alignItems:"center",justifyContent:"center"},icon:s.a.createElement(ae.d,{name:"send",size:20,color:u?r.colors.primary:r.colors.grey2}),disabled:!u,type:"clear",onPress:function(){a(t.action(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(h()({},t.inputName,u),t.actionParams))),n()}})))},bt=function(e){var t,n=e.menu,r=e.dispatchRedirectReset,a=e.dispatch;return s.a.createElement(p.a,{style:{backgroundColor:"white",borderRadius:10,justifyContent:"center",alignItems:"center",paddingHorizontal:12,paddingVertical:8,elevation:8}},null==(t=n.buttons)?void 0:t.map((function(e,t){return s.a.createElement(ae.b,{title:e.title,key:t,containerStyle:{height:30},onPress:function(){a(e.action.apply(e,b()(e.actionParams))),r()}})})))},yt=function(){var e=Object(l.e)((function(e){return e.overlay})),t=Object(c.useContext)(ae.f).theme,n=Object(l.d)();if(!1===e.show)return null;var r=function(){n({type:"RESET_OVERLAY"}),"array"===typeof e.callbacks&&e.callbacks.forEach((function(e){n(e())})),e.redirect&&ge(e.redirect,{})};return e.timeout&&setTimeout((function(){r()}),e.timeout),s.a.createElement(p.a,{style:{position:"absolute",height:pt.a.get("window").height,width:pt.a.get("window").width,maxWidth:500,backgroundColor:t.colors.grey6,alignContent:"center",justifyContent:"center",alignItems:"stretch"}},s.a.createElement(Pe.f,{containerStyle:{flex:1,minHeight:12},style:{flex:1,minHeight:12},onPress:function(){e.notification?r():n({type:"RESET_OVERLAY"})}}),s.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},s.a.createElement(Pe.f,{containerStyle:{flex:1,minWidth:12},style:{flex:1,minWidth:12},onPress:function(){e.notification?r():n({type:"RESET_OVERLAY"})}}),e.notification&&s.a.createElement(gt,{notification:e.notification,dispatchRedirectReset:r,theme:t}),e.form&&s.a.createElement(Et,{form:e.form,dispatchRedirectReset:r,dispatch:n,theme:t}),e.menu&&s.a.createElement(bt,{menu:e.menu,dispatchRedirectReset:r,dispatch:n}),s.a.createElement(Pe.f,{containerStyle:{flex:1,minWidth:12},style:{flex:1,minWidth:12},onPress:function(){e.notification?r():n({type:"RESET_OVERLAY"})}})),s.a.createElement(Pe.f,{containerStyle:{flex:1,minHeight:12},style:{flex:1,minHeight:12},onPress:function(){e.notification?r():n({type:"RESET_OVERLAY"})}}))},ht=n(419),St=n(423),vt=Object(te.a)(),jt=Object(re.a)(),Ot=Object(ne.a)(),Ct=function(){return s.a.createElement(vt.Navigator,{initialRouteName:"People",screenOptions:function(e){var t=e.route;return{tabBarIcon:function(e){e.focused;var n,r=e.color,a=e.size;switch(t.name){case"Home":n="home";break;case"Jobs":n="briefcase";break;case"People":n="account-group";break;case"Messages":n="forum"}return s.a.createElement(ae.d,{name:n,size:a,color:r})}}},tabBarOptions:{activeTintColor:_e.colors.primary,inactiveTintColor:"gray"}},s.a.createElement(vt.Screen,{name:"People",component:et,options:{title:"Annuaire"}}),s.a.createElement(vt.Screen,{name:"Jobs",component:Ne,options:{title:"Emplois"}}),s.a.createElement(vt.Screen,{name:"Messages",component:ct,options:{title:"Messages"}}))},Tt=function(){var e=Object(l.d)();return s.a.useEffect((function(){e({type:"REQUEST_JOBS",route:"jobs",method:"GET"}),e({type:"REQUEST_MY_JOBS",route:"jobs/me",method:"GET"}),e({type:"REQUEST_USERS",method:"GET",route:"users"}),e({type:"REQUEST_CONVERSATIONS",method:"GET",route:"conversations"})}),[]),s.a.createElement(jt.Navigator,{initialRouteName:"Main",headerMode:"screen"},s.a.createElement(jt.Screen,{name:"Main",component:Ct,options:{title:"Accueil"}}),s.a.createElement(jt.Screen,{name:"Profile",component:Ge,options:{title:"Mon profil"}}),s.a.createElement(jt.Screen,{name:"MyJobs",component:Re,options:{title:"Mes offres d'emplois"}}))},Rt=function(e){var t=s.a.useState(!1),n=i()(t,2),r=n[0],o=n[1],c=s.a.useState(),u=i()(c,2),m=u[0],d=u[1],f=(s.a.useRef(),function(e){return Object(ht.a)(e,{prefixes:[St.a.makeUrl("/")],config:{Auth:{path:"auth",screens:{LogIn:"login",SignUp:"signup"}},Root:{path:"root",screens:{Main:{path:"main",screens:{Jobs:{path:"emplois",screens:{List:"emplois",Read:"emplois/:id",Post:"emplois/poster"}},People:{path:"annuaire",screens:{List:"annuaire",Read:"annuaire/:id"}},Messages:{path:"messagerie",screens:{Lobby:"messagerie",Room:"messagerie/:conversation_id"}}}},Profile:{path:"mon-profil",Read:"mon-profil",Edit:"mon-profil/modifier"},MyJobs:{path:"mes-offres",Read:"mes-offres",Edit:"mes-offres/:id"}}}}})}(fe).getInitialState),g=Object(l.d)(),E=Object(l.e)((function(e){return e.auth.token}),l.c);return s.a.useEffect((function(){a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==E&&g({type:"REQUEST_VERIFY_TOKEN",route:"auth/token/verify",method:"GET",errorNotification:!0}),e.prev=1,oe.a.preventAutoHide(),e.t0=d,e.next=6,a.a.awrap(f());case 6:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 10:e.prev=10,e.t2=e.catch(1),console.warn(e.t2);case 13:return e.prev=13,o(!0),oe.a.hide(),e.finish(13);case 17:case"end":return e.stop()}}),null,null,[[1,10,13,17]],Promise)}),[]),r||e.skipLoadingScreen?s.a.createElement(p.a,{style:{maxWidth:500,flex:1}},s.a.createElement(ee.a,{ref:fe,initialState:m},s.a.createElement(Ot.Navigator,{headerMode:"none"},E&&s.a.createElement(Ot.Screen,{name:"Root",component:Tt}),!E&&s.a.createElement(Ot.Screen,{name:"Auth",component:dt})),s.a.createElement(yt,null))):null};t.a=function(){return s.a.useEffect((function(){return console.log("Platform.OS",m.a.OS),pe.current=!0,function(){return pe.current=!1}}),[]),s.a.createElement(l.a,{store:X},s.a.createElement($.a,{loading:null,persistor:Z},s.a.createElement(ae.g,{theme:_e},s.a.createElement(u.a,{style:{flex:1,flexDirection:"row",justifyContent:"center"}},"ios"===m.a.OS&&s.a.createElement(d.a,{barStyle:"default"}),s.a.createElement(Rt,null)))))}},494:function(e,t,n){n(495),e.exports=n(496)},495:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},537:function(e,t){},54:function(e){e.exports=JSON.parse('{"colors":{"primary":"rgba(51,122,183,1)","primaryLight":"rgba(120,160,200,1)","secondary":"#2c2346","grey0":"rgba(66, 66, 66, 1)","grey1":"rgba(100, 100, 100, 1)","grey2":"rgba(133, 133, 133, 1)","grey3":"rgba(166, 166, 166, 1)","grey4":"rgba(200, 200, 200, 1)","grey5":"rgba(245, 245, 245, 1)","grey6":"rgba(100, 100, 100, 0.4)","greyOutline":"grey1","error":"rgba(207, 42, 42, 1)","success":"rgba(52, 186, 69, 1)","divider":"rgba(133, 133, 133, 1)"},"Button":{"containerStyle":{"marginBottom":8}},"Avatar":{"rounded":true},"Icon":{"type":"material-community"},"Input":{"containerStyle":{"marginBottom":12,"maxWidth":500},"leftIconContainerStyle":{"marginRight":12}},"ButtonGroup":{"containerStyle":{"marginBottom":16,"height":40}},"Overlay":{"overlayStyle":{"marginHorizontal":12,"paddingHorizontal":20,"borderRadius":12,"paddingVertical":16}}}')},676:function(e,t,n){var r={"./af":282,"./af.js":282,"./ar":283,"./ar-dz":284,"./ar-dz.js":284,"./ar-kw":285,"./ar-kw.js":285,"./ar-ly":286,"./ar-ly.js":286,"./ar-ma":287,"./ar-ma.js":287,"./ar-sa":288,"./ar-sa.js":288,"./ar-tn":289,"./ar-tn.js":289,"./ar.js":283,"./az":290,"./az.js":290,"./be":291,"./be.js":291,"./bg":292,"./bg.js":292,"./bm":293,"./bm.js":293,"./bn":294,"./bn.js":294,"./bo":295,"./bo.js":295,"./br":296,"./br.js":296,"./bs":297,"./bs.js":297,"./ca":298,"./ca.js":298,"./cs":299,"./cs.js":299,"./cv":300,"./cv.js":300,"./cy":301,"./cy.js":301,"./da":302,"./da.js":302,"./de":303,"./de-at":304,"./de-at.js":304,"./de-ch":305,"./de-ch.js":305,"./de.js":303,"./dv":306,"./dv.js":306,"./el":307,"./el.js":307,"./en-SG":308,"./en-SG.js":308,"./en-au":309,"./en-au.js":309,"./en-ca":310,"./en-ca.js":310,"./en-gb":311,"./en-gb.js":311,"./en-ie":312,"./en-ie.js":312,"./en-il":313,"./en-il.js":313,"./en-nz":314,"./en-nz.js":314,"./eo":315,"./eo.js":315,"./es":316,"./es-do":317,"./es-do.js":317,"./es-us":318,"./es-us.js":318,"./es.js":316,"./et":319,"./et.js":319,"./eu":320,"./eu.js":320,"./fa":321,"./fa.js":321,"./fi":322,"./fi.js":322,"./fo":323,"./fo.js":323,"./fr":117,"./fr-ca":324,"./fr-ca.js":324,"./fr-ch":325,"./fr-ch.js":325,"./fr.js":117,"./fy":326,"./fy.js":326,"./ga":327,"./ga.js":327,"./gd":328,"./gd.js":328,"./gl":329,"./gl.js":329,"./gom-latn":330,"./gom-latn.js":330,"./gu":331,"./gu.js":331,"./he":332,"./he.js":332,"./hi":333,"./hi.js":333,"./hr":334,"./hr.js":334,"./hu":335,"./hu.js":335,"./hy-am":336,"./hy-am.js":336,"./id":337,"./id.js":337,"./is":338,"./is.js":338,"./it":339,"./it-ch":340,"./it-ch.js":340,"./it.js":339,"./ja":341,"./ja.js":341,"./jv":342,"./jv.js":342,"./ka":343,"./ka.js":343,"./kk":344,"./kk.js":344,"./km":345,"./km.js":345,"./kn":346,"./kn.js":346,"./ko":347,"./ko.js":347,"./ku":348,"./ku.js":348,"./ky":349,"./ky.js":349,"./lb":350,"./lb.js":350,"./lo":351,"./lo.js":351,"./lt":352,"./lt.js":352,"./lv":353,"./lv.js":353,"./me":354,"./me.js":354,"./mi":355,"./mi.js":355,"./mk":356,"./mk.js":356,"./ml":357,"./ml.js":357,"./mn":358,"./mn.js":358,"./mr":359,"./mr.js":359,"./ms":360,"./ms-my":361,"./ms-my.js":361,"./ms.js":360,"./mt":362,"./mt.js":362,"./my":363,"./my.js":363,"./nb":364,"./nb.js":364,"./ne":365,"./ne.js":365,"./nl":366,"./nl-be":367,"./nl-be.js":367,"./nl.js":366,"./nn":368,"./nn.js":368,"./pa-in":369,"./pa-in.js":369,"./pl":370,"./pl.js":370,"./pt":371,"./pt-br":372,"./pt-br.js":372,"./pt.js":371,"./ro":373,"./ro.js":373,"./ru":374,"./ru.js":374,"./sd":375,"./sd.js":375,"./se":376,"./se.js":376,"./si":377,"./si.js":377,"./sk":378,"./sk.js":378,"./sl":379,"./sl.js":379,"./sq":380,"./sq.js":380,"./sr":381,"./sr-cyrl":382,"./sr-cyrl.js":382,"./sr.js":381,"./ss":383,"./ss.js":383,"./sv":384,"./sv.js":384,"./sw":385,"./sw.js":385,"./ta":386,"./ta.js":386,"./te":387,"./te.js":387,"./tet":388,"./tet.js":388,"./tg":389,"./tg.js":389,"./th":390,"./th.js":390,"./tl-ph":391,"./tl-ph.js":391,"./tlh":392,"./tlh.js":392,"./tr":393,"./tr.js":393,"./tzl":394,"./tzl.js":394,"./tzm":395,"./tzm-latn":396,"./tzm-latn.js":396,"./tzm.js":395,"./ug-cn":397,"./ug-cn.js":397,"./uk":398,"./uk.js":398,"./ur":399,"./ur.js":399,"./uz":400,"./uz-latn":401,"./uz-latn.js":401,"./uz.js":400,"./vi":402,"./vi.js":402,"./x-pseudo":403,"./x-pseudo.js":403,"./yo":404,"./yo.js":404,"./zh-cn":405,"./zh-cn.js":405,"./zh-hk":406,"./zh-hk.js":406,"./zh-tw":407,"./zh-tw.js":407};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=676},686:function(e,t,n){e.exports=n.p+"static/media/logo.ccfb714c.png"}},[[494,1,2]]]);
//# sourceMappingURL=app.57c17194.chunk.js.map